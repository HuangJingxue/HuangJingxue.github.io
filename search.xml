<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>07-TiDB典型应用场景及用户案例</title>
    <url>/2020/12/18/TiDB/07-TiDB%E5%85%B8%E5%9E%8B%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF%E5%8F%8A%E7%94%A8%E6%88%B7%E6%A1%88%E4%BE%8B/</url>
    <content><![CDATA[<h2 id="课程名称：1-7-Use-cases-and-success-stories-with-the-TiDB（TiDB-典型应用场景及用户案例）"><a href="#课程名称：1-7-Use-cases-and-success-stories-with-the-TiDB（TiDB-典型应用场景及用户案例）" class="headerlink" title="课程名称：1.7 Use cases and success stories with the TiDB（TiDB 典型应用场景及用户案例）"></a>课程名称：1.7 Use cases and success stories with the TiDB（TiDB 典型应用场景及用户案例）</h2><h2 id="学习时长：20min"><a href="#学习时长：20min" class="headerlink" title="学习时长：20min"></a>学习时长：20min</h2><h2 id="课程收获："><a href="#课程收获：" class="headerlink" title="课程收获："></a>课程收获：</h2><p>本课程简要介绍了 TiDB 的适用场景及用户案例。 从 TiDB 具有的可扩展性，高可用性，分布式事务，实时分析等特点出发，总结出 TiDB 的各种适用场景。在海量数据，高并发等大规模集群中，TiDB 能够体现出超强的处理能力。同时基于 HTAP 的架构设计，TiDB 也非常适合作为实时分析类系统的数据库。</p>
<h2 id="课程内容："><a href="#课程内容：" class="headerlink" title="课程内容："></a>课程内容：</h2><p>学习目标： 了解 TiDB 的特性及适用的场景</p>
<p>关键知识点： TiDB；HTAP；用户案例</p>
<h2 id="TiDB特性"><a href="#TiDB特性" class="headerlink" title="TiDB特性"></a>TiDB特性</h2><ul>
<li>可扩展性</li>
<li>高可用</li>
<li>分布式事务</li>
<li>实时分析能力</li>
</ul>
<h2 id="TiDB适用场景"><a href="#TiDB适用场景" class="headerlink" title="TiDB适用场景"></a>TiDB适用场景</h2><p>基于可扩展性及分布式事务特性</p>
<ul>
<li>海量数据</li>
<li>高并发</li>
<li>基于MySQL开发的数据代码</li>
<li>未来可扩展</li>
</ul>
<p>高可用：</p>
<ul>
<li>重要的业务</li>
<li>多活需求</li>
</ul>
<p>实时分析需求：</p>
<ul>
<li>跨库统计报表</li>
<li>指定列的分析业务</li>
</ul>
<h2 id="客户案例"><a href="#客户案例" class="headerlink" title="客户案例"></a>客户案例</h2><p><a href="https://asktug.com/uploads/default/original/3X/8/7/8781cdb1b2cf9ea3d1d35a0bf80f4e0b5cfbfc2b.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/8/7/8781cdb1b2cf9ea3d1d35a0bf80f4e0b5cfbfc2b_2_690x322.jpeg" alt="image">image.jpg1260×589 71 KB</a></p>
<p>知乎（最大的生产集群）<br>250多个数据节点 20多个计算节点<br>2万亿的数据记录数<br>每个月100亿的数据增长<br>超强处理能力</p>
<p><a href="https://asktug.com/uploads/default/original/3X/a/7/a7e0a0d954427c4ceff4201745d00a5c2e36b1a9.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/a/7/a7e0a0d954427c4ceff4201745d00a5c2e36b1a9_2_690x295.jpeg" alt="image">image.jpg1274×546 73.4 KB</a></p>
<p>北京银行<br>两地三中心<br>经历过在线扩容和缩容，业务不受影响</p>
<p><a href="https://asktug.com/uploads/default/original/3X/5/d/5d7e27f2b9a97bee99de0dfe3bc7bf855a61088b.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/5/d/5d7e27f2b9a97bee99de0dfe3bc7bf855a61088b_2_690x343.jpeg" alt="image">image.jpg1274×635 53.6 KB</a></p>
<p>PayPay<br>日本第一支付公司<br>支付，钱包交易写库的流量都使用TiDB<br>100TB数据量</p>
<p><a href="https://asktug.com/uploads/default/original/3X/a/d/adf98a3d6a8b1a78ae3c85674b14bc4504f1be3c.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/a/d/adf98a3d6a8b1a78ae3c85674b14bc4504f1be3c_2_690x327.jpeg" alt="image">image.jpg1278×606 57.9 KB</a></p>
<p>中通快递<br>网点查询业务系统，各网点寄件的情况<br>TiSpark应用各网点BI需求</p>
<p>思考问题：<br>TiDB能否支撑BI业务？</p>
<ul>
<li>可以</li>
</ul>
<p>TiDB是否有银行使用案例？</p>
<ul>
<li>有</li>
<li>[TiDB 典型应用场景及用户案例视频教程](<a href="https://university.pingcap.com/courses/TiDB" target="_blank" rel="noopener">https://university.pingcap.com/courses/TiDB</a> 4.0 新手指南/chapter/101-章节/lesson/Use-cases-and-success-stories-with-the-TiDB)</li>
<li>TiDB 生态工具适用场景</li>
</ul>
]]></content>
      <categories>
        <category>TiDB</category>
      </categories>
      <tags>
        <tag>TiDB入门</tag>
      </tags>
  </entry>
  <entry>
    <title>06-TiDB中的读写流程</title>
    <url>/2020/12/18/TiDB/06-TiDB%E4%B8%AD%E7%9A%84%E8%AF%BB%E5%86%99%E6%B5%81%E7%A8%8B/</url>
    <content><![CDATA[<h2 id="课程名称：1-6-Read-and-Write-data-in-the-TiDB-database-platform（TiDB-中的读写流程）"><a href="#课程名称：1-6-Read-and-Write-data-in-the-TiDB-database-platform（TiDB-中的读写流程）" class="headerlink" title="课程名称：1.6 Read and Write data in the TiDB database platform（TiDB 中的读写流程）"></a>课程名称：1.6 Read and Write data in the TiDB database platform（TiDB 中的读写流程）</h2><h2 id="学习时长：20min"><a href="#学习时长：20min" class="headerlink" title="学习时长：20min"></a>学习时长：20min</h2><h2 id="课程收获："><a href="#课程收获：" class="headerlink" title="课程收获："></a>课程收获：</h2><p>本课程主要包括 TiDB 架构的简单介绍、各个组件的作用，以及读写请求在 TiDB 中的过程</p>
<h2 id="课程内容："><a href="#课程内容：" class="headerlink" title="课程内容："></a>课程内容：</h2><p>学习目标： 对 TiDB 整体架构以及读写路程有大概的了解<br>关键知识点： TiDB 架构；读写流程</p>
<h2 id="TiDB整体架构"><a href="#TiDB整体架构" class="headerlink" title="TiDB整体架构"></a>TiDB整体架构</h2><p><a href="https://asktug.com/uploads/default/original/3X/3/9/3922aed8671259e75b76381cbad35a599622dbdc.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/3/9/3922aed8671259e75b76381cbad35a599622dbdc_2_689x360.jpeg" alt="image">image.jpg1237×646 97.8 KB</a></p>
<p>三大组件：</p>
<ul>
<li><ol>
<li>TiDB：负责SQL处理组件</li>
</ol>
</li>
<li><ol>
<li>TiKV：负责存储组件</li>
</ol>
</li>
<li><ol>
<li>PD：负责调度组件</li>
</ol>
</li>
</ul>
<p>TiDB可以很好的跟spark结合，通过TiSpark做为入口，可以像使用spark一样使用TiDB</p>
<p><strong>TiDB</strong></p>
<p><a href="https://asktug.com/uploads/default/original/3X/f/b/fb327f927f6b2134710fd3c04ac73c8fa656ba13.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/f/b/fb327f927f6b2134710fd3c04ac73c8fa656ba13_2_690x360.jpeg" alt="image">image.jpg1247×652 133 KB</a></p>
<p>SQL 层，对外暴露 MySQL 协议的连接 endpoint，负责接受客户端的连接，执行 SQL 解析和优化，最终生成分布式执行计划。TiDB 层本身是无状态的，实践中可以启动多个 TiDB 实例，通过负载均衡组件（如 LVS、HAProxy 或 F5）对外提供统一的接入地址，客户端的连接可以均匀地分摊在多个 TiDB 实例上以达到负载均衡的效果。TiDB Server 本身并不存储数据，只是解析 SQL，将实际的数据读取请求转发给底层的存储节点 TiKV（或 TiFlash）。</p>
<p><strong>TiKV</strong></p>
<p><a href="https://asktug.com/uploads/default/original/3X/a/d/ad94b1f8e1431d234f0ef9e9f53765120fde632e.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/a/d/ad94b1f8e1431d234f0ef9e9f53765120fde632e_2_690x334.jpeg" alt="image">image.jpg1248×605 58.4 KB</a></p>
<p>目前是一个基于**引擎修改实现的分布式KV存储引擎，具有高度分层的特性，底层的KV存储上层实现了Raft协议实现了保证数据一致性，上层实现了MVCC特性实现事务的多版本控制，上层Transaction事务层实现事务相关内容，TIKV分布式强一致的存储引擎不依赖分布式文件系统实现的。</p>
<p>负责存储数据，从外部看 TiKV 是一个分布式的提供事务的 Key-Value 存储引擎。存储数据的基本单位是 Region，每个 Region 负责存储一个 Key Range（从 StartKey 到 EndKey 的左闭右开区间）的数据，每个 TiKV 节点会负责多个 Region。TiKV 的 API 在 KV 键值对层面提供对分布式事务的原生支持，默认提供了 SI (Snapshot Isolation) 的隔离级别，这也是 TiDB 在 SQL 层面支持分布式事务的核心。TiDB 的 SQL 层做完 SQL 解析后，会将 SQL 的执行计划转换为对 TiKV API 的实际调用。所以，数据都存储在 TiKV 中。另外，TiKV 中的数据都会自动维护多副本（默认为三副本），天然支持高可用和自动故障转移。</p>
<p><strong>PD</strong></p>
<p><a href="https://asktug.com/uploads/default/original/3X/9/c/9c8e5a75689c0beef7480299a39e595f4ba04101.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/9/c/9c8e5a75689c0beef7480299a39e595f4ba04101_2_690x374.jpeg" alt="image">image.jpg1254×681 80.9 KB</a></p>
<p>主要负责全局事务ID的分配，实现region以及leader的调度，实现均衡。<br>整个 TiDB 集群的元信息管理模块，负责存储每个 TiKV 节点实时的数据分布情况和集群的整体拓扑结构，提供 TiDB Dashboard 管控界面，并为分布式事务分配事务 ID。PD 不仅存储元信息，同时还会根据 TiKV 节点实时上报的数据分布状态，下发数据调度命令给具体的 TiKV 节点，可以说是整个集群的“大脑”。此外，PD 本身也是由至少 3 个节点构成，拥有高可用的能力。建议部署奇数个 PD 节点。</p>
<p>4.0中提供了pd dashboad的功能</p>
<h1 id="TiDB中SQL读写处理流程"><a href="#TiDB中SQL读写处理流程" class="headerlink" title="TiDB中SQL读写处理流程"></a>TiDB中SQL读写处理流程</h1><p><a href="https://asktug.com/uploads/default/original/3X/8/a/8aac3876c20b474c2a8d5b1d4bf14f10e3c33758.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/8/a/8aac3876c20b474c2a8d5b1d4bf14f10e3c33758_2_690x375.jpeg" alt="image">image.jpg1245×678 87.4 KB</a></p>
<h2 id="读请求在TiDB中的处理过程"><a href="#读请求在TiDB中的处理过程" class="headerlink" title="读请求在TiDB中的处理过程"></a>读请求在TiDB中的处理过程</h2><p>1.客户端与TiDB建立连接并发送请求给TiDB<br>2.TiDB接受客户端发送的请求获取客户端发送的SQL语句<br>3.TiDB负责parses和compiles阶段文本解析，并生成AST语法树进行优化<br>4.TiDB与PD交互获取start_ts信息<br>5.TiDB根据执行计划与table元信息生成executor执行器<br>6.TiDB通过gRPC请求的方式将coprocessor请求发送给TiKV层<br>7.TiKV接到请求并按照请求过滤数据，并将数据返回给TiDB<br>8.TiDB接收到所有返回结果之后，整理汇总数据<br>9.TiDB将整理的结果返回给客户端</p>
<h2 id="写请求在TiDB中的处理过程"><a href="#写请求在TiDB中的处理过程" class="headerlink" title="写请求在TiDB中的处理过程"></a>写请求在TiDB中的处理过程</h2><p>1.客户端与TiDB建立连接并发送请求给TiDB<br>2.TiDB接受客户端发送的请求获取客户端发送的SQL语句<br>3.TiDB负责parses和compiles阶段文本解析，并生成AST语法树进行优化<br>4.TiDB与PD交互获取start_ts信息<br>5.TiDB根据执行计划与table元信息生成executor执行器<br>6.TiDB发起commit请求<br>7.参照percolator论文进行二阶段提交，prewrite阶段以及commit阶段，TiDB会在二阶段提交的commit阶段像TiKV请求获取commit_ts<br>8.TiKV将结果返回给TiDB<br>9.TiDB将结果返回给客户端</p>
<h2 id="对比读请求和写请求"><a href="#对比读请求和写请求" class="headerlink" title="对比读请求和写请求"></a>对比读请求和写请求</h2><ol>
<li>读请求主要像PD请求一次ts即可</li>
<li>写请求会请求两次tso，一次start_ts,一次commit_ts</li>
<li>写请求会涉及二阶段提交以及分布式事务相关内容</li>
</ol>
<ul>
<li>[TiDB 中的读写流程视频教程](<a href="https://university.pingcap.com/courses/TiDB" target="_blank" rel="noopener">https://university.pingcap.com/courses/TiDB</a> 4.0 新手指南/chapter/101-章节/lesson/Read-and-Write-data-in-the-TiDB-database-platform)</li>
<li><a href="https://docs.pingcap.com/zh/tidb/stable/tidb-architecture" target="_blank" rel="noopener">TiDB整体架构</a></li>
<li><a href="https://docs.pingcap.com/zh/tidb/stable/tidb-storage" target="_blank" rel="noopener">TiDB 数据库的存储</a></li>
<li><a href="https://docs.pingcap.com/zh/tidb/stable/tidb-scheduling" target="_blank" rel="noopener">调度概述</a></li>
</ul>
]]></content>
      <categories>
        <category>TiDB</category>
      </categories>
      <tags>
        <tag>TiDB入门</tag>
      </tags>
  </entry>
  <entry>
    <title>05-TiDB4.0重要特性</title>
    <url>/2020/12/18/TiDB/05-TiDB4-0%E9%87%8D%E8%A6%81%E7%89%B9%E6%80%A7/</url>
    <content><![CDATA[<h2 id="课程名称：1-5-Important-features-of-TiDB-database-platform（TiDB-4-0-重要特性）"><a href="#课程名称：1-5-Important-features-of-TiDB-database-platform（TiDB-4-0-重要特性）" class="headerlink" title="课程名称：1.5 Important features of TiDB database platform（TiDB 4.0 重要特性）"></a>课程名称：1.5 Important features of TiDB database platform（TiDB 4.0 重要特性）</h2><h2 id="学习时长："><a href="#学习时长：" class="headerlink" title="学习时长："></a>学习时长：</h2><p>10min</p>
<h2 id="课程收获："><a href="#课程收获：" class="headerlink" title="课程收获："></a>课程收获：</h2><ul>
<li>了解 TiDB 的基础架构以及特性，能够帮助业务解决什么样的问题。</li>
<li>了解 TiDB 4.0 提供的新功能及改进点。</li>
</ul>
<h2 id="课程内容："><a href="#课程内容：" class="headerlink" title="课程内容："></a>课程内容：</h2><blockquote>
<p>本课程简要介绍了原生分布式数据库 TiDB 的技术特性，相比于传统的单机关系型数据，以及基于分库分表中间件架构的分布式数据库的不同点。</p>
<p>学习目标： 了解 TiDB 的基础架构以及特性，能够帮助业务解决什么样的问题。</p>
<p>关键知识点： TiDB 的基础架构，扩展 HTAP 架构，TiDB 4.0 提供的新功能及改进点。</p>
</blockquote>
<h3 id="TiDB架构"><a href="#TiDB架构" class="headerlink" title="TiDB架构"></a>TiDB架构</h3><ul>
<li>Basic Architecture：TiDB、TiKV、PD</li>
<li>Extended Architecture with TiSpark：分布式计算引擎，千万级别大量join计算时，封装了Spark 的Jar包</li>
<li>Extended Architecture with TiFlash：行列混存，4.0新推出的最重要的功能。</li>
</ul>
<h3 id="技术特性"><a href="#技术特性" class="headerlink" title="技术特性"></a>技术特性</h3><p>在线可拓展性、高可用性、分布式事务、实时HTAP</p>
<ul>
<li>一键水平扩容或者缩容得益于 TiDB 存储计算分离的架构的设计，可按需对计算、存储分别进行在线扩容或者缩容，扩容或者缩容过程中对应用运维人员透明。</li>
<li>金融级高可用数据采用多副本存储，数据副本通过 Multi-Raft 协议同步事务日志，多数派写入成功事务才能提交，确保数据强一致性且少数副本发生故障时不影响数据的可用性。可按需配置副本地理位置、副本数量等策略满足不同容灾级别的要求。</li>
<li>实时 HTAP提供行存储引擎 TiKV、列存储引擎 TiFlash 两款存储引擎，TiFlash 通过 Multi-Raft Learner 协议实时从 TiKV 复制数据，确保行存储引擎 TiKV 和列存储引擎 TiFlash 之间的数据强一致。TiKV、TiFlash 可按需部署在不同的机器，解决 HTAP 资源隔离的问题。</li>
<li>云原生的分布式数据库专为云而设计的分布式数据库，通过 <a href="https://docs.pingcap.com/zh/tidb-in-kubernetes/v1.1/tidb-operator-overview" target="_blank" rel="noopener">TiDB Operator</a> 可在公有云、私有云、混合云中实现部署工具化、自动化。</li>
<li>兼容 MySQL 5.7 协议和 MySQL 生态兼容 MySQL 5.7 协议、MySQL 常用的功能、MySQL 生态，应用无需或者修改少量代码即可从 MySQL 迁移到 TiDB。提供丰富的数据迁移工具帮助应用便捷完成数据迁移。</li>
</ul>
<p>案例：</p>
<ul>
<li>知乎：300+节点，300+TP数据量</li>
</ul>
<h3 id="TiDB-4-0-新特性"><a href="#TiDB-4-0-新特性" class="headerlink" title="TiDB 4.0 新特性"></a>TiDB 4.0 新特性</h3><ul>
<li>TiUP: 一键安装工具</li>
<li>Large transaction: 3.0的限制（100MB limit, 6MB per kv pair, 300,000 kyes per transaction） 4.0 (10 GB limit more memory needed, 6MB per kv pair) 支持大事务，最大事务限制由 100 MB 提升到了 10 GB，同时支持乐观事务和悲观事务。</li>
<li>Tmp storage: 临时表 ,新增查询数据时将 Join、Sort 中间结果写入本地磁盘，防止查询语句占用内存过多导致系统 OOM 的问题，提升系统的稳定性。</li>
<li>Dashboard:TiDB Dashboard 图形化界面，内置各种有力工具方便 DBA 同学诊断、监视和管理集群。</li>
<li>Elastic Scheduling: 热点调度支持更多维度。热点调度在决策时，除了根据写入/读取流量作为调度依据外，新引入 key 的维度。可以很大程度改善原有单一维度决策造成的 CPU 资源利用率不均衡的问题。详情参阅：<a href="https://docs.pingcap.com/zh/tidb/stable/tidb-scheduling" target="_blank" rel="noopener">调度</a>。</li>
</ul>
<h2 id="学习过程中参考的其他资料"><a href="#学习过程中参考的其他资料" class="headerlink" title="学习过程中参考的其他资料"></a>学习过程中参考的其他资料</h2><ul>
<li>[视频教程-1.5 Important features of TiDB database platform（TiDB 4.0 重要特性）](<a href="https://university.pingcap.com/courses/TiDB" target="_blank" rel="noopener">https://university.pingcap.com/courses/TiDB</a> 4.0 新手指南/chapter/101-章节/lesson/Important-features-of-TiDB-database-platform)</li>
<li><a href="https://pingcap.com/blog-cn/tidb-4.0-new-features-tasting-guide/" target="_blank" rel="noopener">TiDB 4.0 新特性尝鲜指南</a></li>
<li><a href="https://www.toberoot.com/database/tidb/01_raft协议理解.html" target="_blank" rel="noopener">Raft-Understandable Distributed Consensus</a></li>
<li><a href="https://docs.pingcap.com/zh/tidb/stable/whats-new-in-tidb-4.0" target="_blank" rel="noopener">What’s New in TiDB 4.0</a></li>
</ul>
]]></content>
      <categories>
        <category>TiDB</category>
      </categories>
      <tags>
        <tag>TiDB入门</tag>
      </tags>
  </entry>
  <entry>
    <title>04-TiDB4.0架构概览</title>
    <url>/2020/12/18/TiDB/04-TiDB4-0%E6%9E%B6%E6%9E%84%E6%A6%82%E8%A7%88/</url>
    <content><![CDATA[<h1 id="课程名称：1-4-The-TiDB-platform-architecture-and-landscape（TiDB-4-0-架构概览）"><a href="#课程名称：1-4-The-TiDB-platform-architecture-and-landscape（TiDB-4-0-架构概览）" class="headerlink" title="课程名称：1.4 The TiDB platform architecture and landscape（TiDB 4.0 架构概览）"></a>课程名称：1.4 The TiDB platform architecture and landscape（TiDB 4.0 架构概览）</h1><h2 id="学习时长："><a href="#学习时长：" class="headerlink" title="学习时长："></a>学习时长：</h2><p>10min</p>
<h2 id="课程收获："><a href="#课程收获：" class="headerlink" title="课程收获："></a>课程收获：</h2><p>对 TiDB 的核心组件和生态工具的功能有一定的理解</p>
<h2 id="课程内容："><a href="#课程内容：" class="headerlink" title="课程内容："></a>课程内容：</h2><blockquote>
<p>本课程简要介绍了 TiDB 核心系统的各个组件以及部分 TiDB 的生态工具</p>
<p>学习目标： 对 TiDB 的核心组件和生态工具的功能有一定的理解</p>
<p>关键知识点： TiDB 架构，计算存储分离，Raft 共识协议，多副本，调度和负载均衡</p>
</blockquote>
<h3 id="TiDB-整体架构"><a href="#TiDB-整体架构" class="headerlink" title="TiDB 整体架构"></a>TiDB 整体架构</h3><p>与传统的单机数据库相比，TiDB 具有以下优势：</p>
<ul>
<li>纯分布式架构，拥有良好的扩展性，支持弹性的扩缩容</li>
<li>支持 SQL，对外暴露 MySQL 的网络协议，并兼容大多数 MySQL 的语法，在大多数场景下可以直接替换 MySQL</li>
<li>默认支持高可用，在少数副本失效的情况下，数据库本身能够自动进行数据修复和故障转移，对业务透明</li>
<li>支持 ACID 事务，对于一些有强一致需求的场景友好，例如：银行转账</li>
<li>具有丰富的工具链生态，覆盖数据迁移、同步、备份等多种场景</li>
</ul>
<p>在内核设计上，TiDB 分布式数据库将整体架构拆分成了多个模块，各模块之间互相通信，组成完整的 TiDB 系统。对应的架构图如下：</p>
<p><a href="https://asktug.com/uploads/default/original/3X/2/0/20dbc3915f73b13c7bb2d5bb729f297962e6543e.png" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/2/0/20dbc3915f73b13c7bb2d5bb729f297962e6543e_2_690x370.png" alt="architecture">tidb-architecture-1.png2200×1182 227 KB</a></p>
<ul>
<li>TiDB Server：SQL 层，对外暴露 MySQL 协议的连接 endpoint，负责接受客户端的连接，执行 SQL 解析和优化，最终生成分布式执行计划。TiDB 层本身是无状态的，实践中可以启动多个 TiDB 实例，通过负载均衡组件（如 LVS、HAProxy 或 F5）对外提供统一的接入地址，客户端的连接可以均匀地分摊在多个 TiDB 实例上以达到负载均衡的效果。TiDB Server 本身并不存储数据，只是解析 SQL，将实际的数据读取请求转发给底层的存储节点 TiKV（或 TiFlash）。</li>
<li>PD Server：整个 TiDB 集群的元信息管理模块，负责存储每个 TiKV 节点实时的数据分布情况和集群的整体拓扑结构，提供 TiDB Dashboard 管控界面，并为分布式事务分配事务 ID。PD 不仅存储元信息，同时还会根据 TiKV 节点实时上报的数据分布状态，下发数据调度命令给具体的 TiKV 节点，可以说是整个集群的“大脑”。此外，PD 本身也是由至少 3 个节点构成，拥有高可用的能力。建议部署奇数个 PD 节点。</li>
<li>存储节点<ul>
<li>TiKV Server：负责存储数据，从外部看 TiKV 是一个分布式的提供事务的 Key-Value 存储引擎。存储数据的基本单位是 Region，每个 Region 负责存储一个 Key Range（从 StartKey 到 EndKey 的左闭右开区间）的数据，每个 TiKV 节点会负责多个 Region。TiKV 的 API 在 KV 键值对层面提供对分布式事务的原生支持，默认提供了 SI (Snapshot Isolation) 的隔离级别，这也是 TiDB 在 SQL 层面支持分布式事务的核心。TiDB 的 SQL 层做完 SQL 解析后，会将 SQL 的执行计划转换为对 TiKV API 的实际调用。所以，数据都存储在 TiKV 中。另外，TiKV 中的数据都会自动维护多副本（默认为三副本），天然支持高可用和自动故障转移。</li>
<li>TiFlash：TiFlash 是一类特殊的存储节点。和普通 TiKV 节点不一样的是，在 TiFlash 内部，数据是以列式的形式进行存储，主要的功能是为分析型的场景加速。</li>
</ul>
</li>
</ul>
<h3 id="TiDB-的生态工具"><a href="#TiDB-的生态工具" class="headerlink" title="TiDB 的生态工具"></a>TiDB 的生态工具</h3><h4 id="全量导出"><a href="#全量导出" class="headerlink" title="全量导出"></a>全量导出</h4><p><a href="https://docs.pingcap.com/zh/tidb/stable/dumpling-overview" target="_blank" rel="noopener">Dumpling</a> 是一个用于从 MySQL/TiDB 进行全量逻辑导出的工具。</p>
<p>基本信息：</p>
<ul>
<li>Dumpling 的输入：MySQL/TiDB 集群</li>
<li>Dumpling 的输出：SQL/CSV 文件</li>
<li>适用 TiDB 版本：所有版本</li>
<li>Kubernetes 支持：尚未支持</li>
</ul>
<h4 id="全量导入"><a href="#全量导入" class="headerlink" title="全量导入"></a>全量导入</h4><p><a href="https://docs.pingcap.com/zh/tidb/stable/tidb-lightning-overview" target="_blank" rel="noopener">TiDB Lightning</a> 是一个用于将全量数据导入到 TiDB 集群的工具。</p>
<p>使用 TiDB Lightning 导入数据到 TiDB 时，有三种模式：</p>
<ul>
<li><code>local</code> 模式：TiDB Lightning 将数据解析为有序的键值对，并直接将其导入 TiKV。这种模式一般用于导入大量的数据（TB 级别）到新集群，但在数据导入过程中集群无法提供正常的服务。</li>
<li><code>importer</code> 模式：和 <code>local</code> 模式类似，但是需要部署额外的组件 <code>tikv-importer</code> 协助完成键值对的导入。对于 4.0 以上的目标集群，请优先使用 <code>local</code> 模式进行导入。</li>
<li><code>tidb</code> 模式：以 TiDB/MySQL 作为后端，这种模式相比 <code>local</code> 和 <code>importer</code> 模式的导入速度较慢，但是可以在线导入，同时也支持将数据导入到 MySQL。</li>
</ul>
<p>基本信息：</p>
<ul>
<li>Lightning 的输入：<ul>
<li>Dumpling 输出文件</li>
<li>其他格式兼容的 CSV 文件</li>
</ul>
</li>
<li>适用 TiDB 版本：v2.1 及以上</li>
<li>Kubernetes 支持：<a href="https://docs.pingcap.com/zh/tidb-in-kubernetes/v1.1/restore-data-using-tidb-lightning" target="_blank" rel="noopener">使用 TiDB Lightning 快速恢复 Kubernetes 上的 TiDB 集群数据</a></li>
</ul>
<blockquote>
<p><strong>注意：</strong></p>
<p>原 Loader 工具已停止维护，不再推荐使用。相关场景请使用 TiDB Lightning 的 <code>tidb</code> 模式进行替代，详细信息请参考 <a href="https://docs.pingcap.com/zh/tidb/stable/tidb-lightning-backends#从-loader-迁移到-tidb-lightning-tidb-backend" target="_blank" rel="noopener">TiDB Lightning TiDB-backend 文档</a>。</p>
</blockquote>
<h4 id="备份和恢复"><a href="#备份和恢复" class="headerlink" title="备份和恢复"></a>备份和恢复</h4><p><a href="https://docs.pingcap.com/zh/tidb/stable/backup-and-restore-tool" target="_blank" rel="noopener">BR</a> 是一个对 TiDB 进行分布式备份和恢复的工具，可以高效地对大数据量的 TiDB 集群进行数据备份和恢复。</p>
<p>基本信息：</p>
<ul>
<li><a href="https://docs.pingcap.com/zh/tidb/stable/backup-and-restore-tool#备份文件类型" target="_blank" rel="noopener">备份输出和恢复输入的文件类型</a>：SST + <code>backupmeta</code> 文件</li>
<li>适用 TiDB 版本：v3.1 及 v4.0</li>
<li>Kubernetes 支持：<a href="https://docs.pingcap.com/zh/tidb-in-kubernetes/v1.1/backup-to-aws-s3-using-br" target="_blank" rel="noopener">使用 BR 工具备份 TiDB 集群数据到兼容 S3 的存储</a>, <a href="https://docs.pingcap.com/zh/tidb-in-kubernetes/v1.1/restore-from-aws-s3-using-br" target="_blank" rel="noopener">使用 BR 工具恢复 S3 兼容存储上的备份数据</a></li>
</ul>
<h4 id="TiDB-增量日志同步"><a href="#TiDB-增量日志同步" class="headerlink" title="TiDB 增量日志同步"></a>TiDB 增量日志同步</h4><p><a href="https://docs.pingcap.com/zh/tidb/stable/tidb-binlog-overview" target="_blank" rel="noopener">TiDB Binlog</a> 是收集 TiDB 的增量 binlog 数据，并提供准实时同步和备份的工具。该工具可用于 TiDB 集群间的增量数据同步，如将其中一个 TiDB 集群作为另一个 TiDB 集群的从集群。</p>
<p>基本信息：</p>
<ul>
<li>TiDB Binlog 的输入：TiDB 集群</li>
<li>TiDB Binlog 的输出：TiDB 集群、MySQL、Kafka 或者增量备份文件</li>
<li>适用 TiDB 版本：v2.1 及以上</li>
<li>Kubernetes 支持：<a href="https://docs.pingcap.com/zh/tidb-in-kubernetes/v1.1/deploy-tidb-binlog" target="_blank" rel="noopener">TiDB Binlog 运维文档</a>，<a href="https://docs.pingcap.com/zh/tidb-in-kubernetes/v1.1/configure-tidb-binlog-drainer" target="_blank" rel="noopener">Kubernetes 上的 TiDB Binlog Drainer 配置</a></li>
</ul>
<h4 id="数据迁入"><a href="#数据迁入" class="headerlink" title="数据迁入"></a>数据迁入</h4><p><a href="https://docs.pingcap.com/zh/tidb-data-migration/v2.0/overview" target="_blank" rel="noopener">TiDB Data Migration (DM)</a> 是将 MySQL/MariaDB 数据迁移到 TiDB 的工具，支持全量数据和增量数据的迁移。</p>
<p>基本信息：</p>
<ul>
<li>DM 的输入：MySQL/MariaDB</li>
<li>DM 的输出：TiDB 集群</li>
<li>适用 TiDB 版本：所有版本</li>
<li>Kubernetes 支持：开发中</li>
</ul>
<p>如果数据量在 TB 级别以下，推荐直接使用 DM 迁移 MySQL/MariaDB 数据到 TiDB（迁移的过程包括全量数据的导出导入和增量数据的同步）。</p>
<p>如果数据量在 TB 级别，推荐的迁移步骤如下：</p>
<ol>
<li>使用 <a href="https://docs.pingcap.com/zh/tidb/stable/dumpling-overview" target="_blank" rel="noopener">Dumpling</a> 导出 MySQL/MariaDB 全量数据。</li>
<li>使用 <a href="https://docs.pingcap.com/zh/tidb/stable/tidb-lightning-overview" target="_blank" rel="noopener">TiDB Lightning</a> 将全量导出数据导入 TiDB 集群。</li>
<li>使用 DM 迁移 MySQL/MariaDB 增量数据到 TiDB。</li>
</ol>
<h2 id="学习过程中参考的其他资料"><a href="#学习过程中参考的其他资料" class="headerlink" title="学习过程中参考的其他资料"></a>学习过程中参考的其他资料</h2><ul>
<li><p>[视频教程-1.4 The TiDB platform architecture and landscape（TiDB 4.0 架构概览）](<a href="https://university.pingcap.com/courses/TiDB" target="_blank" rel="noopener">https://university.pingcap.com/courses/TiDB</a> 4.0 新手指南/chapter/101-章节/lesson/The-TiDB-platform-architecture-and-landscape)</p>
</li>
<li><p><a href="https://docs.pingcap.com/zh/tidb/stable/ecosystem-tool-user-guide" target="_blank" rel="noopener">TiDB 生态工具功能概览</a></p>
</li>
<li><p><a href="https://docs.pingcap.com/zh/tidb/stable/tidb-architecture" target="_blank" rel="noopener">TiDB 架构</a></p>
</li>
</ul>
]]></content>
      <categories>
        <category>TiDB</category>
      </categories>
      <tags>
        <tag>TiDB入门</tag>
      </tags>
  </entry>
  <entry>
    <title>03-TiDB发展简史</title>
    <url>/2020/12/18/TiDB/03-TiDB%E5%8F%91%E5%B1%95%E7%AE%80%E5%8F%B2/</url>
    <content><![CDATA[<h1 id="课程名称：1-3-A-Brief-History-About-the-TiDB-database-platform（TiDB-发展简史）"><a href="#课程名称：1-3-A-Brief-History-About-the-TiDB-database-platform（TiDB-发展简史）" class="headerlink" title="课程名称：1.3 A Brief History About the TiDB database platform（TiDB 发展简史）"></a>课程名称：1.3 A Brief History About the TiDB database platform（TiDB 发展简史）</h1><h2 id="学习时长："><a href="#学习时长：" class="headerlink" title="学习时长："></a>学习时长：</h2><p>30min</p>
<h2 id="课程收获："><a href="#课程收获：" class="headerlink" title="课程收获："></a>课程收获：</h2><p>了解 TiDB 的发展历史</p>
<h2 id="课程内容："><a href="#课程内容：" class="headerlink" title="课程内容："></a>课程内容：</h2><blockquote>
<p>本课程简要介绍了 TiDB 的发展历史。自从 v1.0.0 GA 开始，TiDB 做到了：可以从计算和存储两个层面的无限扩展，兼容了 MySQL 的语法和协议，强一致的真分布式事务。到今天，TiDB 可以称为一个真正的 HTAP 系统，不需要 ETL 工具进行数据转换，在系统运行 OLTP 业务时，也可以方便的进行报表查询。</p>
<p>学习目标： 了解 TiDB 的发展历史</p>
<p>关键知识点： TiDB；HTAP；数据中台；TiSpark；TiFlash</p>
</blockquote>
<p>A Brief History of the TiDb Database Platform</p>
<p>时间线：早期的TiDB，TiSpak TiDB，TiFlash TiDB</p>
<h3 id="早期的TiDB"><a href="#早期的TiDB" class="headerlink" title="早期的TiDB"></a>早期的TiDB</h3><p><a href="https://asktug.com/uploads/default/original/3X/3/2/3218e1b3c94d7475706becd10599148f101b1166.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/3/2/3218e1b3c94d7475706becd10599148f101b1166_2_690x391.jpeg" alt="13">截屏2020-12-16 上午10.47.13.jpg1224×694 81.4 KB</a></p>
<ul>
<li>Google Spanner</li>
<li>1.0.0 GA 兼容 MySQL 协议</li>
<li>TiDB Cluster _ TiDB * N</li>
<li>TiKV Cluster _ TiKV * N</li>
<li>PD Cluster _ PD * N</li>
<li>作为数据中台，汇聚数据的应用较多</li>
<li>问题：TP场景的问题较多；AP场景下复杂查询较慢、总是OMM；无法与大数据平台集成</li>
</ul>
<h3 id="TiSpak-TiDB"><a href="#TiSpak-TiDB" class="headerlink" title="TiSpak TiDB"></a>TiSpak TiDB</h3><p><a href="https://asktug.com/uploads/default/original/3X/d/2/d256b755ef38cebf8018f53ea14b359e9c8dbc61.png" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/d/2/d256b755ef38cebf8018f53ea14b359e9c8dbc61_2_689x379.png" alt="00">截屏2020-12-16 上午10.47.00.png1240×682 207 KB</a></p>
<ul>
<li>为了解决上面的问题，TiSpark诞生了，分布式计算框架</li>
<li>将单点的计算能力拓展成多节点的并行计算能力</li>
<li>同时无缝地接入大数据平台，像 R语言、Python、Apache Zeppelin、Hadoop</li>
<li>缺点：并发低、消耗大量的计算资源、用户希望使用高并发的同时进行一些中等程度的AP查询</li>
</ul>
<p>在这一点上TiDB 要比 TiSpark适合很多：</p>
<ol>
<li>复杂计算消耗的资源更少</li>
<li>TiDB 的维护成本更低</li>
</ol>
<p>引入TiSpark的同时，对TiDB的优化：</p>
<ol>
<li>优化器的优化：简单的优化器 ==&gt; RBO + CBO ==&gt; Cascades Optimizer (WIP)</li>
<li>执行器的优化：经典火山模型 ==&gt; 并发执行 ==&gt; 向量化执行；以及更好的并发控制</li>
<li>其他的新特性：分区表、Index Merge等</li>
</ol>
<p>这些都对复杂计算有巨大的提升。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/d/9/d94693bbeef7bb052a469994988e600251673661.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/d/9/d94693bbeef7bb052a469994988e600251673661_2_690x383.jpeg" alt="22">截屏2020-12-16 上午11.11.22.jpg1246×692 64.1 KB</a></p>
<p><a href="https://asktug.com/uploads/default/original/3X/2/f/2f11abe7d13957b9593d39a21be20ab04d8af3ed.png" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/2/f/2f11abe7d13957b9593d39a21be20ab04d8af3ed_2_690x387.png" alt="06">截屏2020-12-16 上午11.12.06.png1246×700 92.1 KB</a></p>
<p>两个核心矛盾未解决：</p>
<ol>
<li>行存不适合做分析</li>
<li>没有资源隔离</li>
</ol>
<h3 id="TiFlash-TiDB"><a href="#TiFlash-TiDB" class="headerlink" title="TiFlash TiDB"></a>TiFlash TiDB</h3><p>通过Raft Learner独立同步一组列存储:</p>
<ul>
<li>Raft Learner提供极低消耗的副本同步</li>
<li>Raft Learner读协议可与MVCC配合使用，以提供强一致读</li>
</ul>
<p>通过标签 Label 进行物理资源隔离：</p>
<ul>
<li>AP/TP 工作负载不会互相影响</li>
</ul>
<p><a href="https://asktug.com/uploads/default/original/3X/7/9/79f50c33d2ecf68db5b1b1273d94c240593414fa.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/7/9/79f50c33d2ecf68db5b1b1273d94c240593414fa_2_690x377.jpeg" alt="57">截屏2020-12-16 上午11.19.57.jpg1246×682 107 KB</a></p>
<ul>
<li>TiFlash 作为只读节点，可以处理来自TiSpark 和 TiDB 的读请求；</li>
<li>TiFlash 的数据是通过 Raft Learner 同步过来，通过列存的形式保存下来</li>
</ul>
<p><a href="https://asktug.com/uploads/default/original/3X/4/c/4c3af3dc7dc6b94130879553c4e9b10d213a510a.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/4/c/4c3af3dc7dc6b94130879553c4e9b10d213a510a_2_690x384.jpeg" alt="06">截屏2020-12-16 上午11.22.06.jpg1238×690 108 KB</a></p>
<p><a href="https://asktug.com/uploads/default/original/3X/2/4/2451a0eee9faff90e8b728dfe1f053ade47cc169.png" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/2/4/2451a0eee9faff90e8b728dfe1f053ade47cc169_2_690x383.png" alt="03">截屏2020-12-16 上午11.23.03.png1248×694 189 KB</a></p>
<p>将不同的SQL发送到不同的搜索引擎中：</p>
<ul>
<li>通过TiKV进行索引的扫描</li>
<li>通过TiFlash进行某两列的扫描</li>
</ul>
<h3 id="Till-Now"><a href="#Till-Now" class="headerlink" title="Till Now"></a>Till Now</h3><ul>
<li>TiDB 不需要你去选择 TP/AP</li>
<li>一个平台，既有行存又有列存 row and column storage 无需ETL工具进行同步</li>
<li>在系统运行TP业务时也可以方便进行报表查询</li>
</ul>
<p><a href="https://asktug.com/uploads/default/original/3X/d/d/dd5c3ab9948a0f0db1c2810c6e1097ebb925ef13.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/d/d/dd5c3ab9948a0f0db1c2810c6e1097ebb925ef13_2_690x382.jpeg" alt="22">截屏2020-12-16 上午11.31.22.jpg1244×690 167 KB</a></p>
<ul>
<li>同步上游数据：DM</li>
<li>同步下游数据：TiDB CDC</li>
<li>监控告警：TiDB Dashboard——Prometheus</li>
<li>安装部署：TiUP \ TiDB Operator 分别对应TiDB 虚拟和物理部署</li>
</ul>
<h2 id="学习过程中参考的其他资料"><a href="#学习过程中参考的其他资料" class="headerlink" title="学习过程中参考的其他资料"></a>学习过程中参考的其他资料</h2><ul>
<li>[视频教程-1.3 A Brief History About the TiDB database platform（TiDB 发展简史）](<a href="https://university.pingcap.com/courses/TiDB" target="_blank" rel="noopener">https://university.pingcap.com/courses/TiDB</a> 4.0 新手指南/chapter/101-章节/lesson/A-Brief-History-About-the-TiDB-database-platform)</li>
<li><a href="https://pingcap.com/blog-cn/the-future-and-past-of-tidb/" target="_blank" rel="noopener">TiDB 的现在和未来</a></li>
<li><a href="https://en.wikipedia.org/wiki/Spanner_(database)" target="_blank" rel="noopener">Google Spanner</a></li>
<li><a href="https://docs.pingcap.com/zh/tidb/stable/ecosystem-tool-user-guide" target="_blank" rel="noopener">TiDB 生态工具功能概览</a></li>
</ul>
]]></content>
      <categories>
        <category>TiDB</category>
      </categories>
      <tags>
        <tag>TiDB入门</tag>
      </tags>
  </entry>
  <entry>
    <title>02-HTAP数据库简介</title>
    <url>/2020/12/18/TiDB/02-HTAP%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%80%E4%BB%8B/</url>
    <content><![CDATA[<h1 id="课程名称：-1-2-What’s-an-HTAP-Database-（HTAP-数据库简介）"><a href="#课程名称：-1-2-What’s-an-HTAP-Database-（HTAP-数据库简介）" class="headerlink" title="课程名称： 1.2 What’s an HTAP Database? （HTAP 数据库简介）"></a>课程名称： 1.2 What’s an HTAP Database? （HTAP 数据库简介）</h1><h2 id="学习时长"><a href="#学习时长" class="headerlink" title="学习时长"></a>学习时长</h2><p>10min</p>
<h2 id="课程收获"><a href="#课程收获" class="headerlink" title="课程收获"></a>课程收获</h2><p>熟悉 HTAP 领域 以及 TiDB 的HTAP 适用场景。</p>
<h2 id="课程内容"><a href="#课程内容" class="headerlink" title="课程内容"></a>课程内容</h2><blockquote>
<p>本课程简要介绍了 HTAP 意义，技术难点，TiDB 如何实现 HTAP 以及相关的应用场景。</p>
</blockquote>
<h2 id="什么是HTAP？"><a href="#什么是HTAP？" class="headerlink" title="什么是HTAP？"></a>什么是HTAP？</h2><p>传统上，有两种类型的数据库：</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Online_transaction_processing" target="_blank" rel="noopener">在线事务处理</a>（OLTP）数据库</li>
<li><a href="https://en.wikipedia.org/wiki/Online_analytical_processing" target="_blank" rel="noopener">在线分析处理</a>（OLAP）数据库</li>
</ul>
<p>另一方面，HTAP数据库是混合数据库，可同时处理两个工作负载。</p>
<p>HTAP functionality is offered by database companies, such as <a href="https://en.wikipedia.org/wiki/Microsoft_Azure" target="_blank" rel="noopener">Microsoft Azure</a> Synapse Link<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-9" target="_blank" rel="noopener">[9]</a> for <a href="https://en.wikipedia.org/wiki/Cosmos_DB" target="_blank" rel="noopener">Cosmos DB</a>, DbAlibaba DRDS, LeanXcale,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-10" target="_blank" rel="noopener">[10]</a> <a href="https://en.wikipedia.org/wiki/TiDB" target="_blank" rel="noopener">TiDB</a>,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-11" target="_blank" rel="noopener">[11]</a><a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-12" target="_blank" rel="noopener">[12]</a> Hubble, <a href="https://en.wikipedia.org/wiki/ArangoDB" target="_blank" rel="noopener">ArangoDB</a>, <a href="https://en.wikipedia.org/wiki/Aerospike_(database)" target="_blank" rel="noopener">Aerospike</a>, <a href="https://en.wikipedia.org/wiki/GridGain_Systems" target="_blank" rel="noopener">Apache Ignite/GridGain In-Memory Data Fabric</a>, <a href="https://en.wikipedia.org/wiki/IBM" target="_blank" rel="noopener">IBM</a> <a href="https://en.wikipedia.org/wiki/IBM_Db2" target="_blank" rel="noopener">IBM_Db2</a> IDAA,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-13" target="_blank" rel="noopener">[13]</a> <a href="https://en.wikipedia.org/wiki/InterSystems" target="_blank" rel="noopener">InterSystems</a>,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-14" target="_blank" rel="noopener">[14]</a><a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-15" target="_blank" rel="noopener">[15]</a> <a href="https://en.wikipedia.org/wiki/Kdb%2B" target="_blank" rel="noopener">Kdb+</a>, <a href="https://en.wikipedia.org/wiki/Microsoft_SQL_Server" target="_blank" rel="noopener">Microsoft SQL Server</a>, <a href="https://en.wikipedia.org/wiki/Neo4j" target="_blank" rel="noopener">Neo4j</a>, <a href="https://en.wikipedia.org/w/index.php?title=Oracle_12c_In-Memory&action=edit&redlink=1" target="_blank" rel="noopener">Oracle 12c In-Memory</a>,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-oracle.com_2018-16" target="_blank" rel="noopener">[16]</a> <a href="https://en.wikipedia.org/wiki/SAP_HANA" target="_blank" rel="noopener">SAP HANA</a>,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-17" target="_blank" rel="noopener">[17]</a><a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-18" target="_blank" rel="noopener">[18]</a> <a href="https://en.wikipedia.org/wiki/MemSQL" target="_blank" rel="noopener">MemSQL</a>, <a href="https://en.wikipedia.org/wiki/MongoDB" target="_blank" rel="noopener">MongoDB</a>, <a href="https://en.wikipedia.org/wiki/VoltDB" target="_blank" rel="noopener">VoltDB</a>, <a href="https://en.wikipedia.org/wiki/NuoDB" target="_blank" rel="noopener">NuoDB</a>, <a href="https://en.wikipedia.org/wiki/OrientDB" target="_blank" rel="noopener">OrientDB</a>, <a href="https://en.wikipedia.org/wiki/DataStax" target="_blank" rel="noopener">DataStax</a>, <a href="https://en.wikipedia.org/wiki/EXtremeDB" target="_blank" rel="noopener">eXtremeDB</a>, <a href="https://en.wikipedia.org/w/index.php?title=Splice_Machine&action=edit&redlink=1" target="_blank" rel="noopener">Splice Machine</a>,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-19" target="_blank" rel="noopener">[19]</a> <a href="https://en.wikipedia.org/w/index.php?title=EsgynDB&action=edit&redlink=1" target="_blank" rel="noopener">EsgynDB</a>, <a href="https://en.wikipedia.org/wiki/Spanner_(database)" target="_blank" rel="noopener">Cloud Spanner</a>, HarperDB, <a href="https://en.wikipedia.org/wiki/Amazon_Aurora" target="_blank" rel="noopener">Amazon Aurora</a> (Parallel Query), BlobCity, <a href="https://en.wikipedia.org/wiki/Couchbase" target="_blank" rel="noopener">Couchbase</a>,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-20" target="_blank" rel="noopener">[20]</a> <a href="https://en.wikipedia.org/wiki/YugabyteDB" target="_blank" rel="noopener">YugabyteDB</a><a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-21" target="_blank" rel="noopener">[21]</a> and Postgres.</p>
<h3 id="传统数据平台架构"><a href="#传统数据平台架构" class="headerlink" title="传统数据平台架构"></a>传统数据平台架构</h3><p>一般来说，OLTP数据库使用基于行的存储引擎。它们存储当前数据，实时更新它们，并支持高并发性和强一致性。每个请求最多只能修改几行数据。另一方面，OLAP数据库更可能是列式数据库。它们批量处理历史数据，这意味着并发性不高，每个请求都涉及大量行。</p>
<p>如您所见，OLTP和OLAP请求具有不同的要求，因此它们需要不同的技术。因此，OLTP和OLAP请求通常在隔离的数据库中处理。因此，传统的数据处理系统可能如下所示：</p>
<p><a href="https://asktug.com/uploads/default/original/3X/9/7/97a3017838e27ba0e4f787ba12630b7e27479d14.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/9/7/97a3017838e27ba0e4f787ba12630b7e27479d14_2_690x251.jpeg" alt="img">a-traditional-data-platform-with-oltp-and-olap.jpg1600×584 67 KB</a></p>
<p>在以上架构中，在线数据存储在在线数据库中，该数据库处理事务性工作负载。定期从在线数据库中提取数据（例如每天一次），并将数据加载到分析处理数据库中，例如关系数据仓库或Hadoop数据湖。数据仓库或数据湖处理提取的数据，然后将其导出为报告，然后加载到数据服务数据库或发送回在线数据库。</p>
<p>这个过程漫长而复杂。数据执行的过程越多，获得的延迟就越高。</p>
<h3 id="为什么HTAP很重要"><a href="#为什么HTAP很重要" class="headerlink" title="为什么HTAP很重要"></a>为什么HTAP很重要</h3><p>您的数据平台是否必须与上述平台一样复杂？当然不是。HTAP数据库可帮助您简化系统并提供实时性能。让我解释一下原因。</p>
<p>HTAP描述<strong>了一个可同时处理OLTP和OLAP工作负载的数据库</strong>。使用HTAP数据库，您不必在一个数据库中执行事务，而在另一个数据库中执行分析。它可以让您同时做到。通过组合行存储和列存储，HTAP数据库利用了两者的优点，并且完成了比简单地连接两种格式更多的工作。</p>
<p>但是，为什么需要HTAP数据库？您的旧数据平台可能很复杂且运行缓慢，但是仍然可以使您的应用程序保持运行状态。</p>
<p>答案在于，<strong>事务和分析工作负载之间的界限越来越模糊</strong>：</p>
<ul>
<li><strong>OLAP用例变得事务化</strong>。提供报告时，我们可能还必须执行高度并行的简短查询，并对历史数据进行小范围查询。</li>
<li><strong>OLTP用例变得分析起来</strong>。交易运行时，我们可能还需要执行大规模分析。我们可能需要向在线数据库提供反馈，以改善在线行为，对应用程序数据进行实时分析或在不同的应用程序中进行查询。</li>
</ul>
<p>如果您看下面的情况，即使是普通销售平台中的数据库也必须处理一组混合的动态需求。左侧是类似OLTP的工作负载，而右侧是类似OLAP的工作负载。在两个椭圆形相交的区域，工作负载既需要OLTP功能又需要OLAP功能。即HTAP功能。每个工作负载对数据库功能都有各种要求，例如可伸缩性，细粒度索引，列存储，实时更新和高并发性。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/6/c/6c9541cd5d7a7040f6bd3d473ef4fe4bb1cd045b.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/6/c/6c9541cd5d7a7040f6bd3d473ef4fe4bb1cd045b_2_690x319.jpeg" alt="img">even-a-simple-sales-platform-can-have-mixed-requirements.jpg1600×742 107 KB</a></p>
<p>为了满足这些要求，HTAP数据库必须同时具有行存储和列存储。但是，仅仅将它们放在一起并不是怎么工作的。我们需要将它们作为一个有机的整体进行整合：让列存储和行存储自由地相互通信，并确保数据是实时且一致的。</p>
<h2 id="TiDB如何实施HTAP"><a href="#TiDB如何实施HTAP" class="headerlink" title="TiDB如何实施HTAP"></a>TiDB如何实施HTAP</h2><p>从一开始，TiDB就被设计为OLTP数据库。现在，它最大的单个数据库拥有数万亿行数据，并且可以在生产中每秒处理数千万个查询（QPS）。但是令我们惊讶的是，甚至在4.0之前，一些用户已经将TiDB部署为功能良好的数据中心或数据仓库。当时，TiDB支持OLTP和OLAP工作负载。</p>
<p>那么，TiDB 4.0中有什么新功能？简而言之，TiDB 4.0通过引入实时列式存储引擎<a href="https://docs.pingcap.com/tidb/stable/tiflash-overview" target="_blank" rel="noopener">TiFlash来</a>提供改进的HTAP体验。TiFlash是<a href="https://docs.pingcap.com/tidb/dev/tikv-overview" target="_blank" rel="noopener">TiKV</a>（分布式，事务性键值存储）的列式扩展。它根据<a href="https://en.wikipedia.org/wiki/Raft_(computer_science)" target="_blank" rel="noopener">Raft共识算法</a>异步复制来自TiKV的数据，并通过验证Raft索引和多版本并发控制（MVCC）来确保快照隔离级别的一致性。</p>
<p>现在，如下图所示，将TiFlash与TiKV结合使用时，TiDB具有集成行和列存储的可伸缩体系结构。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/f/d/fd9961301d94d1d41636c43c08a14da15f17a905.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/f/d/fd9961301d94d1d41636c43c08a14da15f17a905_2_690x343.jpeg" alt="img">tidb-4.0-htap-architecture.jpg1600×797 143 KB</a></p>
<p>在这种架构中：</p>
<ul>
<li>TiKV和TiFlash使用单独的存储节点以确保完全隔离。</li>
<li>柱状副本中的数据是实时且一致的。</li>
<li>TiKV和TiFlash之间没有中间层，因此数据复制既快速又简单。</li>
<li>它通过行存储索引和列存储支持点获取，小范围扫描和大批量扫描。优化器使用成本模型根据实际工作量在列存储和行存储之间进行选择。</li>
</ul>
<h3 id="可扩展的实时更新"><a href="#可扩展的实时更新" class="headerlink" title="可扩展的实时更新"></a>可扩展的实时更新</h3><p>在TiDB的HTAP架构中，行存储和列存储是可伸缩和实时更新的。</p>
<p>就像TiKV一样，TiFlash实现了多筏组副本机制。唯一的区别是TiFlash将数据从行存储复制到列存储。复制或存储数据的基本单位称为<a href="https://docs.pingcap.com/tidb/stable/glossary#regionpeerraft-group" target="_blank" rel="noopener">Region</a>。</p>
<p>同样，数据复制没有中间层。在其他数据复制过程中，数据必须通过某些分布式管道，例如Kafka或其他消息队列系统，这会增加延迟。但是在TiDB中，TiKV和TiFlash之间的复制是对等的。没有中间层，因此可以实时复制数据。</p>
<p>HTAP架构在复制和存储可伸缩性之间取得平衡。它使用与以前的OLTP体系结构相同的复制和分片机制。因此，调度策略仍然适用于HTAP架构，集群仍可以水平扩展或扩展。此外，您可以分别扩展列存储和行存储，以满足您的应用程序的需求。</p>
<p>要启用TiFlash复制，您只需要一个命令：</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="comment"># To create 2 columnar replicas for orders table</span></span><br><span class="line">mysql&gt; ALTER TABLE orders SET TIFLASH REPLICA 2;</span><br></pre></td></tr></table></figure>

<h3 id="具有实时和一致读取的异步复制"><a href="#具有实时和一致读取的异步复制" class="headerlink" title="具有实时和一致读取的异步复制"></a>具有实时和一致读取的异步复制</h3><p>在TiFlash中，数据复制是异步的。此设计有两个优点：</p>
<ul>
<li>列存储的复制不会阻止事务处理。</li>
<li>即使列状副本已关闭，行存储仍然可以工作。</li>
</ul>
<p>尽管复制是异步的，但是由于Raft共识算法，应用程序始终读取最新数据。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/3/b/3bc9a3aaf435b2e9a1c31b7f3da52f521377aa09.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/3/b/3bc9a3aaf435b2e9a1c31b7f3da52f521377aa09_2_690x407.jpeg" alt="img">the-raft-learner-mechanism.jpg1600×945 115 KB</a></p>
<p>当应用程序从TiFlash中的学习者副本读取数据时，该应用程序将读取验证发送到TiKV中的Leader副本，然后接收有关复制进度的信息。如果进度没有完成，则不会将最新数据复制到学习者副本，并且学习者副本将等待直到获得最新数据。除非系统达到峰值利用率，否则整个等待时间只有几十到几百毫秒。</p>
<h3 id="智能选择的优化器"><a href="#智能选择的优化器" class="headerlink" title="智能选择的优化器"></a>智能选择的优化器</h3><p>请注意，列存储和行存储不是两个独立的系统，而是一个有机整体。两家商店如何协调？好吧，诀窍在我们的优化器中。</p>
<p>优化器选择查询执行计划时，会将列存储视为特殊索引。在行存储和特殊列存储索引中的所有索引中，优化器通过统计信息和基于成本的优化（CBO）选择最快的索引。这样，既考虑了列存储又考虑了行存储。您不必决定要在复杂查询中使用哪个存储引擎，因为优化器会为您做出最佳决定。</p>
<p>但是，如果打算完全隔离列存储和行存储，则可以手动指定查询使用两个存储引擎之一。</p>
<p>以下来自<a href="https://en.wikipedia.org/wiki/ClickHouse" target="_blank" rel="noopener">ClickHouse的</a>结果显示了TiFlash，MariaDB，Spark和Greenplum在单个宽表上的实时基准测试。对于相同的10个查询，四个数据库具有不同的执行时间。如您所见，在这种体系结构中，TiFlash上的TiDB的性能优于其他体系结构。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/2/f/2f7dd550617e177805d9efe3fdd00811243dec4c.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/2/f/2f7dd550617e177805d9efe3fdd00811243dec4c_2_690x369.jpeg" alt="img">benchmarking-tiflash-mariadb-spark-greenplum.jpg1600×856 70.4 KB</a></p>
<h3 id="Apache-Spark与TiSpark携手合作"><a href="#Apache-Spark与TiSpark携手合作" class="headerlink" title="Apache Spark与TiSpark携手合作"></a>Apache Spark与TiSpark携手合作</h3><p>TiDB的HTAP架构在TiSpark的帮助下可以与Apache Spark无缝协作。<a href="https://docs.pingcap.com/tidb/stable/tispark-overview" target="_blank" rel="noopener">TiSpark</a>是一个薄计算层，旨在在TiKV或TiFlash之上运行Spark以响应复杂的OLAP查询，例如提供AI计算和数据科学工具箱，以及与商业智能（BI）集成。通过与Spark生态系统连接，TiDB可以为这些复杂的场景提供服务。</p>
<p>您可以将TiSpark与Hadoop数据湖一起使用。在这种情况下，TiDB是为重量级，复杂查询提供分布式计算的绝佳方法。</p>
<p>当我们在TiSpark和Greenplum上运行<a href="http://www.tpc.org/tpch/" target="_blank" rel="noopener">TPC-H</a>基准测试时，TiSpark + TiFlash使Greenplum陷入困境。有时Greenplum更快，而其他时候TiSpark + TiFlash更快，如下所示。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/1/5/153221a23bd20fff47ec225b1412d290721ec5e5.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/1/5/153221a23bd20fff47ec225b1412d290721ec5e5_2_690x401.jpeg" alt="img">benchmarking-tispark-tiflash-and-greenplum.jpg1600×931 87.1 KB</a></p>
<h2 id="在HTAP方案中应用TiDB"><a href="#在HTAP方案中应用TiDB" class="headerlink" title="在HTAP方案中应用TiDB"></a>在HTAP方案中应用TiDB</h2><p>如前所述，在HTAP方案中，TiDB帮助用户构建简化的体系结构，从而降低维护复杂性，为应用程序提供实时数据并提高业务敏捷性。</p>
<h3 id="实时数据仓库"><a href="#实时数据仓库" class="headerlink" title="实时数据仓库"></a>实时数据仓库</h3><p>下图显示了一个流行的TiDB用例：实时数据仓库。TiDB支持连续更新，因此可以轻松同步来自其他OLTP数据库的数据。在这种体系结构中，TiDB从多个应用程序收集数据并实时聚合它们的数据。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/b/0/b0ffa95b1ac647629b67166d53718c95c95766e1.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/b/0/b0ffa95b1ac647629b67166d53718c95c95766e1_2_690x265.jpeg" alt="img">use-tidb-as-real-time-data-warehouse.jpg1600×616 78.1 KB</a></p>
<h3 id="一站式交易和分析处理"><a href="#一站式交易和分析处理" class="headerlink" title="一站式交易和分析处理"></a>一站式交易和分析处理</h3><p>在HTAP方案中应用TiDB的另一种方法是建立一个用于事务处理和分析处理的一站式数据库。以前，用户可能会将MySQL视为在线数据库，并在T + 1天内将数据从MySQL复制到分析数据库或Hadoop。MySQL为在线应用程序提供服务，BI工具连接到分析数据库或Hadoop以执行数据分析。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/7/7/77720f522f552eeb0de9e3e27347ffaecea85d8e.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/7/7/77720f522f552eeb0de9e3e27347ffaecea85d8e_2_690x247.jpeg" alt="img">tidb-as-one-stop-database-for-oltp-and-olap.jpg1600×574 74.1 KB</a></p>
<p>但是对于这种情况，您只需要一个TiDB集群。在线应用程序连接到TiDB的行存储，BI服务器连接到列存储。这种架构不仅降低了架构的复杂性，而且提高了整体性能。</p>
<h3 id="将TiDB与您现有的数据仓库集成"><a href="#将TiDB与您现有的数据仓库集成" class="headerlink" title="将TiDB与您现有的数据仓库集成"></a>将TiDB与您现有的数据仓库集成</h3><p>有人可能会说：但是我已经有了一个可行的数据仓库系统。我不能简单地放弃他们并将所有内容迁移到TiDB，可以吗？</p>
<p>实际上，如果您已经在使用Hadoop或数据仓库，则先前的用例可能不适用于您的系统。但是TiDB是如此灵活和可扩展，您可以将其与现有的数据仓库系统集成在一起，如下图所示：</p>
<p><a href="https://asktug.com/uploads/default/original/3X/e/9/e9061783cc2c97a5dd415eda272a79dc298fdc80.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/e/9/e9061783cc2c97a5dd415eda272a79dc298fdc80_2_690x356.jpeg" alt="img">integrating-tidb-with-your-data-warehouse.jpg1600×826 114 KB</a></p>
<p>这些应用程序将数据聚合到TiDB中，从而为实时查询和外部数据服务提供了一个实时层。通过此实时层，TiSpark可以将数据发送到脱机Hadoop层，在Hadoop层中Hadoop建模并清除数据，然后将数据导出回TiDB，以便TiDB可以更有效地服务数据。</p>
<p>通常，由于Hadoop不支持高速实时查询，因此我们无法将其API直接公开给外部服务。借助TiDB，我们使现有系统能够实时提供数据服务。</p>
<h1 id="学习过程中参考的其他资料"><a href="#学习过程中参考的其他资料" class="headerlink" title="学习过程中参考的其他资料"></a>学习过程中参考的其他资料</h1><ul>
<li>[视频教程-1.2 Why HTAP Matters（HTAP 数据库简介）](<a href="https://university.pingcap.com/courses/TiDB" target="_blank" rel="noopener">https://university.pingcap.com/courses/TiDB</a> 4.0 新手指南/chapter/101-章节/lesson/Why-HTAP-Matters)</li>
<li><a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing" target="_blank" rel="noopener">Hybrid transactional/analytical processing</a></li>
<li><a href="https://en.pingcap.com/blog/how-we-build-an-htap-database-that-simplifies-your-data-platform" target="_blank" rel="noopener">我们如何构建可简化数据平台的HTAP数据库</a></li>
<li><a href="https://db-engines.com/en/system/TiDB" target="_blank" rel="noopener">DB-Engine TiDB</a></li>
</ul>
]]></content>
      <categories>
        <category>TiDB</category>
      </categories>
      <tags>
        <tag>TiDB入门</tag>
      </tags>
  </entry>
  <entry>
    <title>01-分布式数据库发展简史</title>
    <url>/2020/12/18/TiDB/01-%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E5%BA%93%E5%8F%91%E5%B1%95%E7%AE%80%E5%8F%B2/</url>
    <content><![CDATA[<h2 id="课程名称：1-1-A-Brief-History-of-Distributed-Database（分布式数据库发展简史）"><a href="#课程名称：1-1-A-Brief-History-of-Distributed-Database（分布式数据库发展简史）" class="headerlink" title="课程名称：1.1 A Brief History of Distributed Database（分布式数据库发展简史）"></a>课程名称：1.1 A Brief History of Distributed Database（分布式数据库发展简史）</h2><h2 id="学习时长：10min"><a href="#学习时长：10min" class="headerlink" title="学习时长：10min"></a>学习时长：10min</h2><h2 id="课程收获："><a href="#课程收获：" class="headerlink" title="课程收获："></a>课程收获：</h2><p>本课程简要介绍了从 20 世纪到 21 世纪分布式数据库的发展历史</p>
<h2 id="课程内容："><a href="#课程内容：" class="headerlink" title="课程内容："></a>课程内容：</h2><p>学习目标： 帮助学员了解分布式数据库的发展历史</p>
<p>关键知识点： 分布式数据库历史，NoSQL 和 NewSQL，OLTP 和 HTAP，新技术</p>
<p>20世纪的数据库<br>传统数据库<br>使用SQL交互<br>单节点（shared everything架构）<br>面向OLTP负载<br>PostgreSQL、MySQL、SQL Server</p>
<p>Internet时代（2000年后）<br>分布式中间件<br>ShardingSphere<br>Viteness<br>数据仓库兴起<br>编程语言API交互<br>Hadoop<br>基于SQL的OLAP数据库<br>使用SQL交互<br>分布式（shared nothing架构）<br>面向列<br>OLAP负载<br>Greenplum、monetdb<br>NOSQL<br>使用key-value API交互<br>没有事务、没有关系模型、没有schema<br>高性能<br>高可用<br>分布式（shared nothing架构）<br>mongoDB、HBASE、cassandra</p>
<p>NewSQL（2010年后）<br>对OLTP负载，提供了不逊于NoSQL系统的可扩展性，同时支持ACID事务<br>使用SQL交互<br>分布式（shared nothing架构）<br>Cloud Spanner</p>
<p>HTAP（2010年后）<br>像NewSQL一样执行OLTP查询<br>像数据仓库一样执行OLAP查询<br>HTAP NewSQL 数据库<br>使用SQL交互<br>支持OLTP&amp;OLAP负载<br>分布式（shared nothing）<br>高性能<br>高可用<br>TiDB</p>
<p><a href="https://asktug.com/uploads/default/original/3X/d/e/de661b4101ca616057d4c643088886b5f783d416.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/d/e/de661b4101ca616057d4c643088886b5f783d416_2_455x500.jpeg" alt="image">image.jpg1013×1111 193 KB</a></p>
<p><a href="https://docs.pingcap.com/zh/tidb/stable" target="_blank" rel="noopener">TiDB简介</a></p>
<p><a href="https://docs.pingcap.com/zh/tidb/stable/release-notes#40" target="_blank" rel="noopener">TiDB版本发布历史</a></p>
]]></content>
      <categories>
        <category>TiDB</category>
      </categories>
      <tags>
        <tag>TiDB入门</tag>
      </tags>
  </entry>
  <entry>
    <title>TiDB新手指南</title>
    <url>/2020/12/15/TiDB/TiDB%E6%96%B0%E6%89%8B%E6%8C%87%E5%8D%97/</url>
    <content><![CDATA[<p><a href="https://docs.pingcap.com/zh/tidb/stable" target="_blank" rel="noopener">TiDB简介</a></p>
<p><a href="https://docs.pingcap.com/zh/tidb/stable/release-notes#40" target="_blank" rel="noopener">TiDB版本发布历史</a></p>
<p>[Day 1]</p>
<ul>
<li>1.1 A Brief History of Distributed Database（分布式数据库发展简史）</li>
</ul>
<blockquote>
<p>本课程简要介绍了从 20 世纪到 21 世纪分布式数据库的发展历史</p>
<p>学习目标： 帮助学员了解分布式数据库的发展历史</p>
<p>关键知识点： 分布式数据库历史，NoSQL 和 NewSQL，OLTP 和 HTAP，新技术</p>
</blockquote>
<p>TiDB：高性能高扩展的数据库</p>
<img src="/2020/12/15/TiDB/TiDB%E6%96%B0%E6%89%8B%E6%8C%87%E5%8D%97/1.jpg" class="" title="This is an 1 image">

<p>20世纪的数据库<br>    传统数据库<br>        使用SQL交互<br>        单节点（shared everything架构）<br>        面向OLTP负载<br>    PostgreSQL、MySQL、SQL Server</p>
<p>Internet时代（2000年后）<br>    分布式中间件<br>        ShardingSphere<br>        Viteness<br>    数据仓库兴起<br>        编程语言API交互<br>            Hadoop<br>        基于SQL的OLAP数据库<br>            使用SQL交互<br>            分布式（shared nothing架构）<br>            面向列<br>            OLAP负载<br>            Greenplum、monetdb<br>        NOSQL<br>            使用key-value API交互<br>            没有事务、没有关系模型、没有schema<br>            高性能<br>            高可用<br>            分布式（shared nothing架构）<br>            mongoDB、HBASE、cassandra</p>
<p>NewSQL（2010年后）<br>    对OLTP负载，提供了不逊于NoSQL系统的可扩展性，同时支持ACID事务<br>        使用SQL交互<br>        分布式（shared nothing架构）<br>        Cloud Spanner</p>
<p>HTAP（2010年后）<br>    像NewSQL一样执行OLTP查询<br>    像数据仓库一样执行OLAP查询<br>    HTAP NewSQL 数据库<br>        使用SQL交互<br>        支持OLTP&amp;OLAP负载<br>        分布式（shared nothing）<br>        高性能<br>        高可用<br>    TiDB</p>
<h1 id="课程名称：-1-2-What’s-an-HTAP-Database-（HTAP-数据库简介）"><a href="#课程名称：-1-2-What’s-an-HTAP-Database-（HTAP-数据库简介）" class="headerlink" title="课程名称： 1.2 What’s an HTAP Database? （HTAP 数据库简介）"></a>课程名称： 1.2 What’s an HTAP Database? （HTAP 数据库简介）</h1><h2 id="学习时长"><a href="#学习时长" class="headerlink" title="学习时长"></a>学习时长</h2><p>10min</p>
<h2 id="课程收获"><a href="#课程收获" class="headerlink" title="课程收获"></a>课程收获</h2><p>熟悉 HTAP 领域 以及 TiDB 的HTAP 适用场景。</p>
<h2 id="课程内容"><a href="#课程内容" class="headerlink" title="课程内容"></a>课程内容</h2><blockquote>
<p>本课程简要介绍了 HTAP 意义，技术难点，TiDB 如何实现 HTAP 以及相关的应用场景。</p>
</blockquote>
<h2 id="什么是HTAP？"><a href="#什么是HTAP？" class="headerlink" title="什么是HTAP？"></a>什么是HTAP？</h2><p>传统上，有两种类型的数据库：</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Online_transaction_processing" target="_blank" rel="noopener">在线事务处理</a>（OLTP）数据库</li>
<li><a href="https://en.wikipedia.org/wiki/Online_analytical_processing" target="_blank" rel="noopener">在线分析处理</a>（OLAP）数据库</li>
</ul>
<p>另一方面，HTAP数据库是混合数据库，可同时处理两个工作负载。</p>
<p>HTAP functionality is offered by database companies, such as <a href="https://en.wikipedia.org/wiki/Microsoft_Azure" target="_blank" rel="noopener">Microsoft Azure</a> Synapse Link<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-9" target="_blank" rel="noopener">[9]</a> for <a href="https://en.wikipedia.org/wiki/Cosmos_DB" target="_blank" rel="noopener">Cosmos DB</a>, DbAlibaba DRDS, LeanXcale,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-10" target="_blank" rel="noopener">[10]</a> <a href="https://en.wikipedia.org/wiki/TiDB" target="_blank" rel="noopener">TiDB</a>,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-11" target="_blank" rel="noopener">[11]</a><a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-12" target="_blank" rel="noopener">[12]</a> Hubble, <a href="https://en.wikipedia.org/wiki/ArangoDB" target="_blank" rel="noopener">ArangoDB</a>, <a href="https://en.wikipedia.org/wiki/Aerospike_(database)" target="_blank" rel="noopener">Aerospike</a>, <a href="https://en.wikipedia.org/wiki/GridGain_Systems" target="_blank" rel="noopener">Apache Ignite/GridGain In-Memory Data Fabric</a>, <a href="https://en.wikipedia.org/wiki/IBM" target="_blank" rel="noopener">IBM</a> <a href="https://en.wikipedia.org/wiki/IBM_Db2" target="_blank" rel="noopener">IBM_Db2</a> IDAA,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-13" target="_blank" rel="noopener">[13]</a> <a href="https://en.wikipedia.org/wiki/InterSystems" target="_blank" rel="noopener">InterSystems</a>,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-14" target="_blank" rel="noopener">[14]</a><a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-15" target="_blank" rel="noopener">[15]</a> <a href="https://en.wikipedia.org/wiki/Kdb%2B" target="_blank" rel="noopener">Kdb+</a>, <a href="https://en.wikipedia.org/wiki/Microsoft_SQL_Server" target="_blank" rel="noopener">Microsoft SQL Server</a>, <a href="https://en.wikipedia.org/wiki/Neo4j" target="_blank" rel="noopener">Neo4j</a>, <a href="https://en.wikipedia.org/w/index.php?title=Oracle_12c_In-Memory&action=edit&redlink=1" target="_blank" rel="noopener">Oracle 12c In-Memory</a>,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-oracle.com_2018-16" target="_blank" rel="noopener">[16]</a> <a href="https://en.wikipedia.org/wiki/SAP_HANA" target="_blank" rel="noopener">SAP HANA</a>,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-17" target="_blank" rel="noopener">[17]</a><a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-18" target="_blank" rel="noopener">[18]</a> <a href="https://en.wikipedia.org/wiki/MemSQL" target="_blank" rel="noopener">MemSQL</a>, <a href="https://en.wikipedia.org/wiki/MongoDB" target="_blank" rel="noopener">MongoDB</a>, <a href="https://en.wikipedia.org/wiki/VoltDB" target="_blank" rel="noopener">VoltDB</a>, <a href="https://en.wikipedia.org/wiki/NuoDB" target="_blank" rel="noopener">NuoDB</a>, <a href="https://en.wikipedia.org/wiki/OrientDB" target="_blank" rel="noopener">OrientDB</a>, <a href="https://en.wikipedia.org/wiki/DataStax" target="_blank" rel="noopener">DataStax</a>, <a href="https://en.wikipedia.org/wiki/EXtremeDB" target="_blank" rel="noopener">eXtremeDB</a>, <a href="https://en.wikipedia.org/w/index.php?title=Splice_Machine&action=edit&redlink=1" target="_blank" rel="noopener">Splice Machine</a>,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-19" target="_blank" rel="noopener">[19]</a> <a href="https://en.wikipedia.org/w/index.php?title=EsgynDB&action=edit&redlink=1" target="_blank" rel="noopener">EsgynDB</a>, <a href="https://en.wikipedia.org/wiki/Spanner_(database)" target="_blank" rel="noopener">Cloud Spanner</a>, HarperDB, <a href="https://en.wikipedia.org/wiki/Amazon_Aurora" target="_blank" rel="noopener">Amazon Aurora</a> (Parallel Query), BlobCity, <a href="https://en.wikipedia.org/wiki/Couchbase" target="_blank" rel="noopener">Couchbase</a>,<a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-20" target="_blank" rel="noopener">[20]</a> <a href="https://en.wikipedia.org/wiki/YugabyteDB" target="_blank" rel="noopener">YugabyteDB</a><a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing#cite_note-21" target="_blank" rel="noopener">[21]</a> and Postgres.</p>
<h3 id="传统数据平台架构"><a href="#传统数据平台架构" class="headerlink" title="传统数据平台架构"></a>传统数据平台架构</h3><p>一般来说，OLTP数据库使用基于行的存储引擎。它们存储当前数据，实时更新它们，并支持高并发性和强一致性。每个请求最多只能修改几行数据。另一方面，OLAP数据库更可能是列式数据库。它们批量处理历史数据，这意味着并发性不高，每个请求都涉及大量行。</p>
<p>如您所见，OLTP和OLAP请求具有不同的要求，因此它们需要不同的技术。因此，OLTP和OLAP请求通常在隔离的数据库中处理。因此，传统的数据处理系统可能如下所示：</p>
<p><a href="https://asktug.com/uploads/default/original/3X/9/7/97a3017838e27ba0e4f787ba12630b7e27479d14.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/9/7/97a3017838e27ba0e4f787ba12630b7e27479d14_2_690x251.jpeg" alt="img">a-traditional-data-platform-with-oltp-and-olap.jpg1600×584 67 KB</a></p>
<p>在以上架构中，在线数据存储在在线数据库中，该数据库处理事务性工作负载。定期从在线数据库中提取数据（例如每天一次），并将数据加载到分析处理数据库中，例如关系数据仓库或Hadoop数据湖。数据仓库或数据湖处理提取的数据，然后将其导出为报告，然后加载到数据服务数据库或发送回在线数据库。</p>
<p>这个过程漫长而复杂。数据执行的过程越多，获得的延迟就越高。</p>
<h3 id="为什么HTAP很重要"><a href="#为什么HTAP很重要" class="headerlink" title="为什么HTAP很重要"></a>为什么HTAP很重要</h3><p>您的数据平台是否必须与上述平台一样复杂？当然不是。HTAP数据库可帮助您简化系统并提供实时性能。让我解释一下原因。</p>
<p>HTAP描述<strong>了一个可同时处理OLTP和OLAP工作负载的数据库</strong>。使用HTAP数据库，您不必在一个数据库中执行事务，而在另一个数据库中执行分析。它可以让您同时做到。通过组合行存储和列存储，HTAP数据库利用了两者的优点，并且完成了比简单地连接两种格式更多的工作。</p>
<p>但是，为什么需要HTAP数据库？您的旧数据平台可能很复杂且运行缓慢，但是仍然可以使您的应用程序保持运行状态。</p>
<p>答案在于，<strong>事务和分析工作负载之间的界限越来越模糊</strong>：</p>
<ul>
<li><strong>OLAP用例变得事务化</strong>。提供报告时，我们可能还必须执行高度并行的简短查询，并对历史数据进行小范围查询。</li>
<li><strong>OLTP用例变得分析起来</strong>。交易运行时，我们可能还需要执行大规模分析。我们可能需要向在线数据库提供反馈，以改善在线行为，对应用程序数据进行实时分析或在不同的应用程序中进行查询。</li>
</ul>
<p>如果您看下面的情况，即使是普通销售平台中的数据库也必须处理一组混合的动态需求。左侧是类似OLTP的工作负载，而右侧是类似OLAP的工作负载。在两个椭圆形相交的区域，工作负载既需要OLTP功能又需要OLAP功能。即HTAP功能。每个工作负载对数据库功能都有各种要求，例如可伸缩性，细粒度索引，列存储，实时更新和高并发性。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/6/c/6c9541cd5d7a7040f6bd3d473ef4fe4bb1cd045b.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/6/c/6c9541cd5d7a7040f6bd3d473ef4fe4bb1cd045b_2_690x319.jpeg" alt="img">even-a-simple-sales-platform-can-have-mixed-requirements.jpg1600×742 107 KB</a></p>
<p>为了满足这些要求，HTAP数据库必须同时具有行存储和列存储。但是，仅仅将它们放在一起并不是怎么工作的。我们需要将它们作为一个有机的整体进行整合：让列存储和行存储自由地相互通信，并确保数据是实时且一致的。</p>
<h2 id="TiDB如何实施HTAP"><a href="#TiDB如何实施HTAP" class="headerlink" title="TiDB如何实施HTAP"></a>TiDB如何实施HTAP</h2><p>从一开始，TiDB就被设计为OLTP数据库。现在，它最大的单个数据库拥有数万亿行数据，并且可以在生产中每秒处理数千万个查询（QPS）。但是令我们惊讶的是，甚至在4.0之前，一些用户已经将TiDB部署为功能良好的数据中心或数据仓库。当时，TiDB支持OLTP和OLAP工作负载。</p>
<p>那么，TiDB 4.0中有什么新功能？简而言之，TiDB 4.0通过引入实时列式存储引擎<a href="https://docs.pingcap.com/tidb/stable/tiflash-overview" target="_blank" rel="noopener">TiFlash来</a>提供改进的HTAP体验。TiFlash是<a href="https://docs.pingcap.com/tidb/dev/tikv-overview" target="_blank" rel="noopener">TiKV</a>（分布式，事务性键值存储）的列式扩展。它根据<a href="https://en.wikipedia.org/wiki/Raft_(computer_science)" target="_blank" rel="noopener">Raft共识算法</a>异步复制来自TiKV的数据，并通过验证Raft索引和多版本并发控制（MVCC）来确保快照隔离级别的一致性。</p>
<p>现在，如下图所示，将TiFlash与TiKV结合使用时，TiDB具有集成行和列存储的可伸缩体系结构。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/f/d/fd9961301d94d1d41636c43c08a14da15f17a905.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/f/d/fd9961301d94d1d41636c43c08a14da15f17a905_2_690x343.jpeg" alt="img">tidb-4.0-htap-architecture.jpg1600×797 143 KB</a></p>
<p>在这种架构中：</p>
<ul>
<li>TiKV和TiFlash使用单独的存储节点以确保完全隔离。</li>
<li>柱状副本中的数据是实时且一致的。</li>
<li>TiKV和TiFlash之间没有中间层，因此数据复制既快速又简单。</li>
<li>它通过行存储索引和列存储支持点获取，小范围扫描和大批量扫描。优化器使用成本模型根据实际工作量在列存储和行存储之间进行选择。</li>
</ul>
<h3 id="可扩展的实时更新"><a href="#可扩展的实时更新" class="headerlink" title="可扩展的实时更新"></a>可扩展的实时更新</h3><p>在TiDB的HTAP架构中，行存储和列存储是可伸缩和实时更新的。</p>
<p>就像TiKV一样，TiFlash实现了多筏组副本机制。唯一的区别是TiFlash将数据从行存储复制到列存储。复制或存储数据的基本单位称为<a href="https://docs.pingcap.com/tidb/stable/glossary#regionpeerraft-group" target="_blank" rel="noopener">Region</a>。</p>
<p>同样，数据复制没有中间层。在其他数据复制过程中，数据必须通过某些分布式管道，例如Kafka或其他消息队列系统，这会增加延迟。但是在TiDB中，TiKV和TiFlash之间的复制是对等的。没有中间层，因此可以实时复制数据。</p>
<p>HTAP架构在复制和存储可伸缩性之间取得平衡。它使用与以前的OLTP体系结构相同的复制和分片机制。因此，调度策略仍然适用于HTAP架构，集群仍可以水平扩展或扩展。此外，您可以分别扩展列存储和行存储，以满足您的应用程序的需求。</p>
<p>要启用TiFlash复制，您只需要一个命令：</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line"><span class="comment"># To create 2 columnar replicas for orders table</span></span><br><span class="line">mysql&gt; ALTER TABLE orders SET TIFLASH REPLICA 2;</span><br></pre></td></tr></table></figure>

<h3 id="具有实时和一致读取的异步复制"><a href="#具有实时和一致读取的异步复制" class="headerlink" title="具有实时和一致读取的异步复制"></a>具有实时和一致读取的异步复制</h3><p>在TiFlash中，数据复制是异步的。此设计有两个优点：</p>
<ul>
<li>列存储的复制不会阻止事务处理。</li>
<li>即使列状副本已关闭，行存储仍然可以工作。</li>
</ul>
<p>尽管复制是异步的，但是由于Raft共识算法，应用程序始终读取最新数据。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/3/b/3bc9a3aaf435b2e9a1c31b7f3da52f521377aa09.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/3/b/3bc9a3aaf435b2e9a1c31b7f3da52f521377aa09_2_690x407.jpeg" alt="img">the-raft-learner-mechanism.jpg1600×945 115 KB</a></p>
<p>当应用程序从TiFlash中的学习者副本读取数据时，该应用程序将读取验证发送到TiKV中的Leader副本，然后接收有关复制进度的信息。如果进度没有完成，则不会将最新数据复制到学习者副本，并且学习者副本将等待直到获得最新数据。除非系统达到峰值利用率，否则整个等待时间只有几十到几百毫秒。</p>
<h3 id="智能选择的优化器"><a href="#智能选择的优化器" class="headerlink" title="智能选择的优化器"></a>智能选择的优化器</h3><p>请注意，列存储和行存储不是两个独立的系统，而是一个有机整体。两家商店如何协调？好吧，诀窍在我们的优化器中。</p>
<p>优化器选择查询执行计划时，会将列存储视为特殊索引。在行存储和特殊列存储索引中的所有索引中，优化器通过统计信息和基于成本的优化（CBO）选择最快的索引。这样，既考虑了列存储又考虑了行存储。您不必决定要在复杂查询中使用哪个存储引擎，因为优化器会为您做出最佳决定。</p>
<p>但是，如果打算完全隔离列存储和行存储，则可以手动指定查询使用两个存储引擎之一。</p>
<p>以下来自<a href="https://en.wikipedia.org/wiki/ClickHouse" target="_blank" rel="noopener">ClickHouse的</a>结果显示了TiFlash，MariaDB，Spark和Greenplum在单个宽表上的实时基准测试。对于相同的10个查询，四个数据库具有不同的执行时间。如您所见，在这种体系结构中，TiFlash上的TiDB的性能优于其他体系结构。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/2/f/2f7dd550617e177805d9efe3fdd00811243dec4c.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/2/f/2f7dd550617e177805d9efe3fdd00811243dec4c_2_690x369.jpeg" alt="img">benchmarking-tiflash-mariadb-spark-greenplum.jpg1600×856 70.4 KB</a></p>
<h3 id="Apache-Spark与TiSpark携手合作"><a href="#Apache-Spark与TiSpark携手合作" class="headerlink" title="Apache Spark与TiSpark携手合作"></a>Apache Spark与TiSpark携手合作</h3><p>TiDB的HTAP架构在TiSpark的帮助下可以与Apache Spark无缝协作。<a href="https://docs.pingcap.com/tidb/stable/tispark-overview" target="_blank" rel="noopener">TiSpark</a>是一个薄计算层，旨在在TiKV或TiFlash之上运行Spark以响应复杂的OLAP查询，例如提供AI计算和数据科学工具箱，以及与商业智能（BI）集成。通过与Spark生态系统连接，TiDB可以为这些复杂的场景提供服务。</p>
<p>您可以将TiSpark与Hadoop数据湖一起使用。在这种情况下，TiDB是为重量级，复杂查询提供分布式计算的绝佳方法。</p>
<p>当我们在TiSpark和Greenplum上运行<a href="http://www.tpc.org/tpch/" target="_blank" rel="noopener">TPC-H</a>基准测试时，TiSpark + TiFlash使Greenplum陷入困境。有时Greenplum更快，而其他时候TiSpark + TiFlash更快，如下所示。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/1/5/153221a23bd20fff47ec225b1412d290721ec5e5.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/1/5/153221a23bd20fff47ec225b1412d290721ec5e5_2_690x401.jpeg" alt="img">benchmarking-tispark-tiflash-and-greenplum.jpg1600×931 87.1 KB</a></p>
<h2 id="在HTAP方案中应用TiDB"><a href="#在HTAP方案中应用TiDB" class="headerlink" title="在HTAP方案中应用TiDB"></a>在HTAP方案中应用TiDB</h2><p>如前所述，在HTAP方案中，TiDB帮助用户构建简化的体系结构，从而降低维护复杂性，为应用程序提供实时数据并提高业务敏捷性。</p>
<h3 id="实时数据仓库"><a href="#实时数据仓库" class="headerlink" title="实时数据仓库"></a>实时数据仓库</h3><p>下图显示了一个流行的TiDB用例：实时数据仓库。TiDB支持连续更新，因此可以轻松同步来自其他OLTP数据库的数据。在这种体系结构中，TiDB从多个应用程序收集数据并实时聚合它们的数据。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/b/0/b0ffa95b1ac647629b67166d53718c95c95766e1.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/b/0/b0ffa95b1ac647629b67166d53718c95c95766e1_2_690x265.jpeg" alt="img">use-tidb-as-real-time-data-warehouse.jpg1600×616 78.1 KB</a></p>
<h3 id="一站式交易和分析处理"><a href="#一站式交易和分析处理" class="headerlink" title="一站式交易和分析处理"></a>一站式交易和分析处理</h3><p>在HTAP方案中应用TiDB的另一种方法是建立一个用于事务处理和分析处理的一站式数据库。以前，用户可能会将MySQL视为在线数据库，并在T + 1天内将数据从MySQL复制到分析数据库或Hadoop。MySQL为在线应用程序提供服务，BI工具连接到分析数据库或Hadoop以执行数据分析。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/7/7/77720f522f552eeb0de9e3e27347ffaecea85d8e.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/7/7/77720f522f552eeb0de9e3e27347ffaecea85d8e_2_690x247.jpeg" alt="img">tidb-as-one-stop-database-for-oltp-and-olap.jpg1600×574 74.1 KB</a></p>
<p>但是对于这种情况，您只需要一个TiDB集群。在线应用程序连接到TiDB的行存储，BI服务器连接到列存储。这种架构不仅降低了架构的复杂性，而且提高了整体性能。</p>
<h3 id="将TiDB与您现有的数据仓库集成"><a href="#将TiDB与您现有的数据仓库集成" class="headerlink" title="将TiDB与您现有的数据仓库集成"></a>将TiDB与您现有的数据仓库集成</h3><p>有人可能会说：但是我已经有了一个可行的数据仓库系统。我不能简单地放弃他们并将所有内容迁移到TiDB，可以吗？</p>
<p>实际上，如果您已经在使用Hadoop或数据仓库，则先前的用例可能不适用于您的系统。但是TiDB是如此灵活和可扩展，您可以将其与现有的数据仓库系统集成在一起，如下图所示：</p>
<p><a href="https://asktug.com/uploads/default/original/3X/e/9/e9061783cc2c97a5dd415eda272a79dc298fdc80.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/e/9/e9061783cc2c97a5dd415eda272a79dc298fdc80_2_690x356.jpeg" alt="img">integrating-tidb-with-your-data-warehouse.jpg1600×826 114 KB</a></p>
<p>这些应用程序将数据聚合到TiDB中，从而为实时查询和外部数据服务提供了一个实时层。通过此实时层，TiSpark可以将数据发送到脱机Hadoop层，在Hadoop层中Hadoop建模并清除数据，然后将数据导出回TiDB，以便TiDB可以更有效地服务数据。</p>
<p>通常，由于Hadoop不支持高速实时查询，因此我们无法将其API直接公开给外部服务。借助TiDB，我们使现有系统能够实时提供数据服务。</p>
<h1 id="学习过程中参考的其他资料"><a href="#学习过程中参考的其他资料" class="headerlink" title="学习过程中参考的其他资料"></a>学习过程中参考的其他资料</h1><ul>
<li>[视频教程-1.2 Why HTAP Matters（HTAP 数据库简介）](<a href="https://university.pingcap.com/courses/TiDB" target="_blank" rel="noopener">https://university.pingcap.com/courses/TiDB</a> 4.0 新手指南/chapter/101-章节/lesson/Why-HTAP-Matters)</li>
<li><a href="https://en.wikipedia.org/wiki/Hybrid_transactional/analytical_processing" target="_blank" rel="noopener">Hybrid transactional/analytical processing</a></li>
<li><a href="https://en.pingcap.com/blog/how-we-build-an-htap-database-that-simplifies-your-data-platform" target="_blank" rel="noopener">我们如何构建可简化数据平台的HTAP数据库</a></li>
<li><a href="https://db-engines.com/en/system/TiDB" target="_blank" rel="noopener">DB-Engine TiDB</a></li>
</ul>
<p>[Day2]</p>
<h1 id="课程名称：1-3-A-Brief-History-About-the-TiDB-database-platform（TiDB-发展简史）"><a href="#课程名称：1-3-A-Brief-History-About-the-TiDB-database-platform（TiDB-发展简史）" class="headerlink" title="课程名称：1.3 A Brief History About the TiDB database platform（TiDB 发展简史）"></a>课程名称：1.3 A Brief History About the TiDB database platform（TiDB 发展简史）</h1><h2 id="学习时长："><a href="#学习时长：" class="headerlink" title="学习时长："></a>学习时长：</h2><p>30min</p>
<h2 id="课程收获："><a href="#课程收获：" class="headerlink" title="课程收获："></a>课程收获：</h2><p>了解 TiDB 的发展历史</p>
<h2 id="课程内容："><a href="#课程内容：" class="headerlink" title="课程内容："></a>课程内容：</h2><blockquote>
<p>本课程简要介绍了 TiDB 的发展历史。自从 v1.0.0 GA 开始，TiDB 做到了：可以从计算和存储两个层面的无限扩展，兼容了 MySQL 的语法和协议，强一致的真分布式事务。到今天，TiDB 可以称为一个真正的 HTAP 系统，不需要 ETL 工具进行数据转换，在系统运行 OLTP 业务时，也可以方便的进行报表查询。</p>
<p>学习目标： 了解 TiDB 的发展历史</p>
<p>关键知识点： TiDB；HTAP；数据中台；TiSpark；TiFlash</p>
</blockquote>
<p>A Brief History of the TiDb Database Platform</p>
<p>时间线：早期的TiDB，TiSpak TiDB，TiFlash TiDB</p>
<h3 id="早期的TiDB"><a href="#早期的TiDB" class="headerlink" title="早期的TiDB"></a>早期的TiDB</h3><p><a href="https://asktug.com/uploads/default/original/3X/3/2/3218e1b3c94d7475706becd10599148f101b1166.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/3/2/3218e1b3c94d7475706becd10599148f101b1166_2_690x391.jpeg" alt="13">截屏2020-12-16 上午10.47.13.jpg1224×694 81.4 KB</a></p>
<ul>
<li>Google Spanner</li>
<li>1.0.0 GA 兼容 MySQL 协议</li>
<li>TiDB Cluster _ TiDB * N</li>
<li>TiKV Cluster _ TiKV * N</li>
<li>PD Cluster _ PD * N</li>
<li>作为数据中台，汇聚数据的应用较多</li>
<li>问题：TP场景的问题较多；AP场景下复杂查询较慢、总是OMM；无法与大数据平台集成</li>
</ul>
<h3 id="TiSpak-TiDB"><a href="#TiSpak-TiDB" class="headerlink" title="TiSpak TiDB"></a>TiSpak TiDB</h3><p><a href="https://asktug.com/uploads/default/original/3X/d/2/d256b755ef38cebf8018f53ea14b359e9c8dbc61.png" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/d/2/d256b755ef38cebf8018f53ea14b359e9c8dbc61_2_689x379.png" alt="00">截屏2020-12-16 上午10.47.00.png1240×682 207 KB</a></p>
<ul>
<li>为了解决上面的问题，TiSpark诞生了，分布式计算框架</li>
<li>将单点的计算能力拓展成多节点的并行计算能力</li>
<li>同时无缝地接入大数据平台，像 R语言、Python、Apache Zeppelin、Hadoop</li>
<li>缺点：并发低、消耗大量的计算资源、用户希望使用高并发的同时进行一些中等程度的AP查询</li>
</ul>
<p>在这一点上TiDB 要比 TiSpark适合很多：</p>
<ol>
<li>复杂计算消耗的资源更少</li>
<li>TiDB 的维护成本更低</li>
</ol>
<p>引入TiSpark的同时，对TiDB的优化：</p>
<ol>
<li>优化器的优化：简单的优化器 ==&gt; RBO + CBO ==&gt; Cascades Optimizer (WIP)</li>
<li>执行器的优化：经典火山模型 ==&gt; 并发执行 ==&gt; 向量化执行；以及更好的并发控制</li>
<li>其他的新特性：分区表、Index Merge等</li>
</ol>
<p>这些都对复杂计算有巨大的提升。</p>
<p><a href="https://asktug.com/uploads/default/original/3X/d/9/d94693bbeef7bb052a469994988e600251673661.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/d/9/d94693bbeef7bb052a469994988e600251673661_2_690x383.jpeg" alt="22">截屏2020-12-16 上午11.11.22.jpg1246×692 64.1 KB</a></p>
<p><a href="https://asktug.com/uploads/default/original/3X/2/f/2f11abe7d13957b9593d39a21be20ab04d8af3ed.png" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/2/f/2f11abe7d13957b9593d39a21be20ab04d8af3ed_2_690x387.png" alt="06">截屏2020-12-16 上午11.12.06.png1246×700 92.1 KB</a></p>
<p>两个核心矛盾未解决：</p>
<ol>
<li>行存不适合做分析</li>
<li>没有资源隔离</li>
</ol>
<h3 id="TiFlash-TiDB"><a href="#TiFlash-TiDB" class="headerlink" title="TiFlash TiDB"></a>TiFlash TiDB</h3><p>通过Raft Learner独立同步一组列存储:</p>
<ul>
<li>Raft Learner提供极低消耗的副本同步</li>
<li>Raft Learner读协议可与MVCC配合使用，以提供强一致读</li>
</ul>
<p>通过标签 Label 进行物理资源隔离：</p>
<ul>
<li>AP/TP 工作负载不会互相影响</li>
</ul>
<p><a href="https://asktug.com/uploads/default/original/3X/7/9/79f50c33d2ecf68db5b1b1273d94c240593414fa.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/7/9/79f50c33d2ecf68db5b1b1273d94c240593414fa_2_690x377.jpeg" alt="57">截屏2020-12-16 上午11.19.57.jpg1246×682 107 KB</a></p>
<ul>
<li>TiFlash 作为只读节点，可以处理来自TiSpark 和 TiDB 的读请求；</li>
<li>TiFlash 的数据是通过 Raft Learner 同步过来，通过列存的形式保存下来</li>
</ul>
<p><a href="https://asktug.com/uploads/default/original/3X/4/c/4c3af3dc7dc6b94130879553c4e9b10d213a510a.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/4/c/4c3af3dc7dc6b94130879553c4e9b10d213a510a_2_690x384.jpeg" alt="06">截屏2020-12-16 上午11.22.06.jpg1238×690 108 KB</a></p>
<p><a href="https://asktug.com/uploads/default/original/3X/2/4/2451a0eee9faff90e8b728dfe1f053ade47cc169.png" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/2/4/2451a0eee9faff90e8b728dfe1f053ade47cc169_2_690x383.png" alt="03">截屏2020-12-16 上午11.23.03.png1248×694 189 KB</a></p>
<p>将不同的SQL发送到不同的搜索引擎中：</p>
<ul>
<li>通过TiKV进行索引的扫描</li>
<li>通过TiFlash进行某两列的扫描</li>
</ul>
<h3 id="Till-Now"><a href="#Till-Now" class="headerlink" title="Till Now"></a>Till Now</h3><ul>
<li>TiDB 不需要你去选择 TP/AP</li>
<li>一个平台，既有行存又有列存 row and column storage 无需ETL工具进行同步</li>
<li>在系统运行TP业务时也可以方便进行报表查询</li>
</ul>
<p><a href="https://asktug.com/uploads/default/original/3X/d/d/dd5c3ab9948a0f0db1c2810c6e1097ebb925ef13.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/d/d/dd5c3ab9948a0f0db1c2810c6e1097ebb925ef13_2_690x382.jpeg" alt="22">截屏2020-12-16 上午11.31.22.jpg1244×690 167 KB</a></p>
<ul>
<li>同步上游数据：DM</li>
<li>同步下游数据：TiDB CDC</li>
<li>监控告警：TiDB Dashboard——Prometheus</li>
<li>安装部署：TiUP \ TiDB Operator 分别对应TiDB 虚拟和物理部署</li>
</ul>
<h2 id="学习过程中参考的其他资料-1"><a href="#学习过程中参考的其他资料-1" class="headerlink" title="学习过程中参考的其他资料"></a>学习过程中参考的其他资料</h2><ul>
<li>[视频教程-1.3 A Brief History About the TiDB database platform（TiDB 发展简史）](<a href="https://university.pingcap.com/courses/TiDB" target="_blank" rel="noopener">https://university.pingcap.com/courses/TiDB</a> 4.0 新手指南/chapter/101-章节/lesson/A-Brief-History-About-the-TiDB-database-platform)</li>
<li><a href="https://pingcap.com/blog-cn/the-future-and-past-of-tidb/" target="_blank" rel="noopener">TiDB 的现在和未来</a></li>
<li><a href="https://en.wikipedia.org/wiki/Spanner_(database)" target="_blank" rel="noopener">Google Spanner</a></li>
<li><a href="https://docs.pingcap.com/zh/tidb/stable/ecosystem-tool-user-guide" target="_blank" rel="noopener">TiDB 生态工具功能概览</a></li>
</ul>
<h1 id="课程名称：1-4-The-TiDB-platform-architecture-and-landscape（TiDB-4-0-架构概览）"><a href="#课程名称：1-4-The-TiDB-platform-architecture-and-landscape（TiDB-4-0-架构概览）" class="headerlink" title="课程名称：1.4 The TiDB platform architecture and landscape（TiDB 4.0 架构概览）"></a>课程名称：1.4 The TiDB platform architecture and landscape（TiDB 4.0 架构概览）</h1><h2 id="学习时长：-1"><a href="#学习时长：-1" class="headerlink" title="学习时长："></a>学习时长：</h2><p>10min</p>
<h2 id="课程收获：-1"><a href="#课程收获：-1" class="headerlink" title="课程收获："></a>课程收获：</h2><p>对 TiDB 的核心组件和生态工具的功能有一定的理解</p>
<h2 id="课程内容：-1"><a href="#课程内容：-1" class="headerlink" title="课程内容："></a>课程内容：</h2><blockquote>
<p>本课程简要介绍了 TiDB 核心系统的各个组件以及部分 TiDB 的生态工具</p>
<p>学习目标： 对 TiDB 的核心组件和生态工具的功能有一定的理解</p>
<p>关键知识点： TiDB 架构，计算存储分离，Raft 共识协议，多副本，调度和负载均衡</p>
</blockquote>
<h3 id="TiDB-整体架构"><a href="#TiDB-整体架构" class="headerlink" title="TiDB 整体架构"></a>TiDB 整体架构</h3><p>与传统的单机数据库相比，TiDB 具有以下优势：</p>
<ul>
<li>纯分布式架构，拥有良好的扩展性，支持弹性的扩缩容</li>
<li>支持 SQL，对外暴露 MySQL 的网络协议，并兼容大多数 MySQL 的语法，在大多数场景下可以直接替换 MySQL</li>
<li>默认支持高可用，在少数副本失效的情况下，数据库本身能够自动进行数据修复和故障转移，对业务透明</li>
<li>支持 ACID 事务，对于一些有强一致需求的场景友好，例如：银行转账</li>
<li>具有丰富的工具链生态，覆盖数据迁移、同步、备份等多种场景</li>
</ul>
<p>在内核设计上，TiDB 分布式数据库将整体架构拆分成了多个模块，各模块之间互相通信，组成完整的 TiDB 系统。对应的架构图如下：</p>
<p><a href="https://asktug.com/uploads/default/original/3X/2/0/20dbc3915f73b13c7bb2d5bb729f297962e6543e.png" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/2/0/20dbc3915f73b13c7bb2d5bb729f297962e6543e_2_690x370.png" alt="architecture">tidb-architecture-1.png2200×1182 227 KB</a></p>
<ul>
<li>TiDB Server：SQL 层，对外暴露 MySQL 协议的连接 endpoint，负责接受客户端的连接，执行 SQL 解析和优化，最终生成分布式执行计划。TiDB 层本身是无状态的，实践中可以启动多个 TiDB 实例，通过负载均衡组件（如 LVS、HAProxy 或 F5）对外提供统一的接入地址，客户端的连接可以均匀地分摊在多个 TiDB 实例上以达到负载均衡的效果。TiDB Server 本身并不存储数据，只是解析 SQL，将实际的数据读取请求转发给底层的存储节点 TiKV（或 TiFlash）。</li>
<li>PD Server：整个 TiDB 集群的元信息管理模块，负责存储每个 TiKV 节点实时的数据分布情况和集群的整体拓扑结构，提供 TiDB Dashboard 管控界面，并为分布式事务分配事务 ID。PD 不仅存储元信息，同时还会根据 TiKV 节点实时上报的数据分布状态，下发数据调度命令给具体的 TiKV 节点，可以说是整个集群的“大脑”。此外，PD 本身也是由至少 3 个节点构成，拥有高可用的能力。建议部署奇数个 PD 节点。</li>
<li>存储节点<ul>
<li>TiKV Server：负责存储数据，从外部看 TiKV 是一个分布式的提供事务的 Key-Value 存储引擎。存储数据的基本单位是 Region，每个 Region 负责存储一个 Key Range（从 StartKey 到 EndKey 的左闭右开区间）的数据，每个 TiKV 节点会负责多个 Region。TiKV 的 API 在 KV 键值对层面提供对分布式事务的原生支持，默认提供了 SI (Snapshot Isolation) 的隔离级别，这也是 TiDB 在 SQL 层面支持分布式事务的核心。TiDB 的 SQL 层做完 SQL 解析后，会将 SQL 的执行计划转换为对 TiKV API 的实际调用。所以，数据都存储在 TiKV 中。另外，TiKV 中的数据都会自动维护多副本（默认为三副本），天然支持高可用和自动故障转移。</li>
<li>TiFlash：TiFlash 是一类特殊的存储节点。和普通 TiKV 节点不一样的是，在 TiFlash 内部，数据是以列式的形式进行存储，主要的功能是为分析型的场景加速。</li>
</ul>
</li>
</ul>
<h3 id="TiDB-的生态工具"><a href="#TiDB-的生态工具" class="headerlink" title="TiDB 的生态工具"></a>TiDB 的生态工具</h3><h4 id="全量导出"><a href="#全量导出" class="headerlink" title="全量导出"></a>全量导出</h4><p><a href="https://docs.pingcap.com/zh/tidb/stable/dumpling-overview" target="_blank" rel="noopener">Dumpling</a> 是一个用于从 MySQL/TiDB 进行全量逻辑导出的工具。</p>
<p>基本信息：</p>
<ul>
<li>Dumpling 的输入：MySQL/TiDB 集群</li>
<li>Dumpling 的输出：SQL/CSV 文件</li>
<li>适用 TiDB 版本：所有版本</li>
<li>Kubernetes 支持：尚未支持</li>
</ul>
<h4 id="全量导入"><a href="#全量导入" class="headerlink" title="全量导入"></a>全量导入</h4><p><a href="https://docs.pingcap.com/zh/tidb/stable/tidb-lightning-overview" target="_blank" rel="noopener">TiDB Lightning</a> 是一个用于将全量数据导入到 TiDB 集群的工具。</p>
<p>使用 TiDB Lightning 导入数据到 TiDB 时，有三种模式：</p>
<ul>
<li><code>local</code> 模式：TiDB Lightning 将数据解析为有序的键值对，并直接将其导入 TiKV。这种模式一般用于导入大量的数据（TB 级别）到新集群，但在数据导入过程中集群无法提供正常的服务。</li>
<li><code>importer</code> 模式：和 <code>local</code> 模式类似，但是需要部署额外的组件 <code>tikv-importer</code> 协助完成键值对的导入。对于 4.0 以上的目标集群，请优先使用 <code>local</code> 模式进行导入。</li>
<li><code>tidb</code> 模式：以 TiDB/MySQL 作为后端，这种模式相比 <code>local</code> 和 <code>importer</code> 模式的导入速度较慢，但是可以在线导入，同时也支持将数据导入到 MySQL。</li>
</ul>
<p>基本信息：</p>
<ul>
<li>Lightning 的输入：<ul>
<li>Dumpling 输出文件</li>
<li>其他格式兼容的 CSV 文件</li>
</ul>
</li>
<li>适用 TiDB 版本：v2.1 及以上</li>
<li>Kubernetes 支持：<a href="https://docs.pingcap.com/zh/tidb-in-kubernetes/v1.1/restore-data-using-tidb-lightning" target="_blank" rel="noopener">使用 TiDB Lightning 快速恢复 Kubernetes 上的 TiDB 集群数据</a></li>
</ul>
<blockquote>
<p><strong>注意：</strong></p>
<p>原 Loader 工具已停止维护，不再推荐使用。相关场景请使用 TiDB Lightning 的 <code>tidb</code> 模式进行替代，详细信息请参考 <a href="https://docs.pingcap.com/zh/tidb/stable/tidb-lightning-backends#从-loader-迁移到-tidb-lightning-tidb-backend" target="_blank" rel="noopener">TiDB Lightning TiDB-backend 文档</a>。</p>
</blockquote>
<h4 id="备份和恢复"><a href="#备份和恢复" class="headerlink" title="备份和恢复"></a>备份和恢复</h4><p><a href="https://docs.pingcap.com/zh/tidb/stable/backup-and-restore-tool" target="_blank" rel="noopener">BR</a> 是一个对 TiDB 进行分布式备份和恢复的工具，可以高效地对大数据量的 TiDB 集群进行数据备份和恢复。</p>
<p>基本信息：</p>
<ul>
<li><a href="https://docs.pingcap.com/zh/tidb/stable/backup-and-restore-tool#备份文件类型" target="_blank" rel="noopener">备份输出和恢复输入的文件类型</a>：SST + <code>backupmeta</code> 文件</li>
<li>适用 TiDB 版本：v3.1 及 v4.0</li>
<li>Kubernetes 支持：<a href="https://docs.pingcap.com/zh/tidb-in-kubernetes/v1.1/backup-to-aws-s3-using-br" target="_blank" rel="noopener">使用 BR 工具备份 TiDB 集群数据到兼容 S3 的存储</a>, <a href="https://docs.pingcap.com/zh/tidb-in-kubernetes/v1.1/restore-from-aws-s3-using-br" target="_blank" rel="noopener">使用 BR 工具恢复 S3 兼容存储上的备份数据</a></li>
</ul>
<h4 id="TiDB-增量日志同步"><a href="#TiDB-增量日志同步" class="headerlink" title="TiDB 增量日志同步"></a>TiDB 增量日志同步</h4><p><a href="https://docs.pingcap.com/zh/tidb/stable/tidb-binlog-overview" target="_blank" rel="noopener">TiDB Binlog</a> 是收集 TiDB 的增量 binlog 数据，并提供准实时同步和备份的工具。该工具可用于 TiDB 集群间的增量数据同步，如将其中一个 TiDB 集群作为另一个 TiDB 集群的从集群。</p>
<p>基本信息：</p>
<ul>
<li>TiDB Binlog 的输入：TiDB 集群</li>
<li>TiDB Binlog 的输出：TiDB 集群、MySQL、Kafka 或者增量备份文件</li>
<li>适用 TiDB 版本：v2.1 及以上</li>
<li>Kubernetes 支持：<a href="https://docs.pingcap.com/zh/tidb-in-kubernetes/v1.1/deploy-tidb-binlog" target="_blank" rel="noopener">TiDB Binlog 运维文档</a>，<a href="https://docs.pingcap.com/zh/tidb-in-kubernetes/v1.1/configure-tidb-binlog-drainer" target="_blank" rel="noopener">Kubernetes 上的 TiDB Binlog Drainer 配置</a></li>
</ul>
<h4 id="数据迁入"><a href="#数据迁入" class="headerlink" title="数据迁入"></a>数据迁入</h4><p><a href="https://docs.pingcap.com/zh/tidb-data-migration/v2.0/overview" target="_blank" rel="noopener">TiDB Data Migration (DM)</a> 是将 MySQL/MariaDB 数据迁移到 TiDB 的工具，支持全量数据和增量数据的迁移。</p>
<p>基本信息：</p>
<ul>
<li>DM 的输入：MySQL/MariaDB</li>
<li>DM 的输出：TiDB 集群</li>
<li>适用 TiDB 版本：所有版本</li>
<li>Kubernetes 支持：开发中</li>
</ul>
<p>如果数据量在 TB 级别以下，推荐直接使用 DM 迁移 MySQL/MariaDB 数据到 TiDB（迁移的过程包括全量数据的导出导入和增量数据的同步）。</p>
<p>如果数据量在 TB 级别，推荐的迁移步骤如下：</p>
<ol>
<li>使用 <a href="https://docs.pingcap.com/zh/tidb/stable/dumpling-overview" target="_blank" rel="noopener">Dumpling</a> 导出 MySQL/MariaDB 全量数据。</li>
<li>使用 <a href="https://docs.pingcap.com/zh/tidb/stable/tidb-lightning-overview" target="_blank" rel="noopener">TiDB Lightning</a> 将全量导出数据导入 TiDB 集群。</li>
<li>使用 DM 迁移 MySQL/MariaDB 增量数据到 TiDB。</li>
</ol>
<h2 id="学习过程中参考的其他资料-2"><a href="#学习过程中参考的其他资料-2" class="headerlink" title="学习过程中参考的其他资料"></a>学习过程中参考的其他资料</h2><ul>
<li><p>[视频教程-1.4 The TiDB platform architecture and landscape（TiDB 4.0 架构概览）](<a href="https://university.pingcap.com/courses/TiDB" target="_blank" rel="noopener">https://university.pingcap.com/courses/TiDB</a> 4.0 新手指南/chapter/101-章节/lesson/The-TiDB-platform-architecture-and-landscape)</p>
</li>
<li><p><a href="https://docs.pingcap.com/zh/tidb/stable/ecosystem-tool-user-guide" target="_blank" rel="noopener">TiDB 生态工具功能概览</a></p>
</li>
<li><p><a href="https://docs.pingcap.com/zh/tidb/stable/tidb-architecture" target="_blank" rel="noopener">TiDB 架构</a></p>
</li>
</ul>
<ul>
<li><h2 id="课程名称：1-5-Important-features-of-TiDB-database-platform（TiDB-4-0-重要特性）"><a href="#课程名称：1-5-Important-features-of-TiDB-database-platform（TiDB-4-0-重要特性）" class="headerlink" title="课程名称：1.5 Important features of TiDB database platform（TiDB 4.0 重要特性）"></a>课程名称：1.5 Important features of TiDB database platform（TiDB 4.0 重要特性）</h2><h2 id="学习时长：-2"><a href="#学习时长：-2" class="headerlink" title="学习时长："></a>学习时长：</h2><p>10min</p>
<h2 id="课程收获：-2"><a href="#课程收获：-2" class="headerlink" title="课程收获："></a>课程收获：</h2><ul>
<li>了解 TiDB 的基础架构以及特性，能够帮助业务解决什么样的问题。</li>
<li>了解 TiDB 4.0 提供的新功能及改进点。</li>
</ul>
<h2 id="课程内容：-2"><a href="#课程内容：-2" class="headerlink" title="课程内容："></a>课程内容：</h2><blockquote>
<p>本课程简要介绍了原生分布式数据库 TiDB 的技术特性，相比于传统的单机关系型数据，以及基于分库分表中间件架构的分布式数据库的不同点。</p>
<p>学习目标： 了解 TiDB 的基础架构以及特性，能够帮助业务解决什么样的问题。</p>
<p>关键知识点： TiDB 的基础架构，扩展 HTAP 架构，TiDB 4.0 提供的新功能及改进点。</p>
</blockquote>
<h3 id="TiDB架构"><a href="#TiDB架构" class="headerlink" title="TiDB架构"></a>TiDB架构</h3><ul>
<li>Basic Architecture：TiDB、TiKV、PD</li>
<li>Extended Architecture with TiSpark：分布式计算引擎，千万级别大量join计算时，封装了Spark 的Jar包</li>
<li>Extended Architecture with TiFlash：行列混存，4.0新推出的最重要的功能。</li>
</ul>
<h3 id="技术特性"><a href="#技术特性" class="headerlink" title="技术特性"></a>技术特性</h3><p>在线可拓展性、高可用性、分布式事务、实时HTAP</p>
<ul>
<li>一键水平扩容或者缩容得益于 TiDB 存储计算分离的架构的设计，可按需对计算、存储分别进行在线扩容或者缩容，扩容或者缩容过程中对应用运维人员透明。</li>
<li>金融级高可用数据采用多副本存储，数据副本通过 Multi-Raft 协议同步事务日志，多数派写入成功事务才能提交，确保数据强一致性且少数副本发生故障时不影响数据的可用性。可按需配置副本地理位置、副本数量等策略满足不同容灾级别的要求。</li>
<li>实时 HTAP提供行存储引擎 TiKV、列存储引擎 TiFlash 两款存储引擎，TiFlash 通过 Multi-Raft Learner 协议实时从 TiKV 复制数据，确保行存储引擎 TiKV 和列存储引擎 TiFlash 之间的数据强一致。TiKV、TiFlash 可按需部署在不同的机器，解决 HTAP 资源隔离的问题。</li>
<li>云原生的分布式数据库专为云而设计的分布式数据库，通过 <a href="https://docs.pingcap.com/zh/tidb-in-kubernetes/v1.1/tidb-operator-overview" target="_blank" rel="noopener">TiDB Operator</a> 可在公有云、私有云、混合云中实现部署工具化、自动化。</li>
<li>兼容 MySQL 5.7 协议和 MySQL 生态兼容 MySQL 5.7 协议、MySQL 常用的功能、MySQL 生态，应用无需或者修改少量代码即可从 MySQL 迁移到 TiDB。提供丰富的数据迁移工具帮助应用便捷完成数据迁移。</li>
</ul>
<p>案例：</p>
<ul>
<li>知乎：300+节点，300+TP数据量</li>
</ul>
<h3 id="TiDB-4-0-新特性"><a href="#TiDB-4-0-新特性" class="headerlink" title="TiDB 4.0 新特性"></a>TiDB 4.0 新特性</h3><ul>
<li>TiUP: 一键安装工具</li>
<li>Large transaction: 3.0的限制（100MB limit, 6MB per kv pair, 300,000 kyes per transaction） 4.0 (10 GB limit more memory needed, 6MB per kv pair) 支持大事务，最大事务限制由 100 MB 提升到了 10 GB，同时支持乐观事务和悲观事务。</li>
<li>Tmp storage: 临时表 ,新增查询数据时将 Join、Sort 中间结果写入本地磁盘，防止查询语句占用内存过多导致系统 OOM 的问题，提升系统的稳定性。</li>
<li>Dashboard:TiDB Dashboard 图形化界面，内置各种有力工具方便 DBA 同学诊断、监视和管理集群。</li>
<li>Elastic Scheduling: 热点调度支持更多维度。热点调度在决策时，除了根据写入/读取流量作为调度依据外，新引入 key 的维度。可以很大程度改善原有单一维度决策造成的 CPU 资源利用率不均衡的问题。详情参阅：<a href="https://docs.pingcap.com/zh/tidb/stable/tidb-scheduling" target="_blank" rel="noopener">调度</a>。</li>
</ul>
<h2 id="学习过程中参考的其他资料-3"><a href="#学习过程中参考的其他资料-3" class="headerlink" title="学习过程中参考的其他资料"></a>学习过程中参考的其他资料</h2><ul>
<li>[视频教程-1.5 Important features of TiDB database platform（TiDB 4.0 重要特性）](<a href="https://university.pingcap.com/courses/TiDB" target="_blank" rel="noopener">https://university.pingcap.com/courses/TiDB</a> 4.0 新手指南/chapter/101-章节/lesson/Important-features-of-TiDB-database-platform)</li>
<li><a href="https://pingcap.com/blog-cn/tidb-4.0-new-features-tasting-guide/" target="_blank" rel="noopener">TiDB 4.0 新特性尝鲜指南</a></li>
<li><a href="https://www.toberoot.com/database/tidb/01_raft协议理解.html" target="_blank" rel="noopener">Raft-Understandable Distributed Consensus</a></li>
<li><a href="https://docs.pingcap.com/zh/tidb/stable/whats-new-in-tidb-4.0" target="_blank" rel="noopener">What’s New in TiDB 4.0</a></li>
</ul>
</li>
<li></li>
</ul>
<p>[Day3]</p>
<h2 id="课程名称：1-6-Read-and-Write-data-in-the-TiDB-database-platform（TiDB-中的读写流程）"><a href="#课程名称：1-6-Read-and-Write-data-in-the-TiDB-database-platform（TiDB-中的读写流程）" class="headerlink" title="课程名称：1.6 Read and Write data in the TiDB database platform（TiDB 中的读写流程）"></a>课程名称：1.6 Read and Write data in the TiDB database platform（TiDB 中的读写流程）</h2><h2 id="学习时长：20min"><a href="#学习时长：20min" class="headerlink" title="学习时长：20min"></a>学习时长：20min</h2><h2 id="课程收获：-3"><a href="#课程收获：-3" class="headerlink" title="课程收获："></a>课程收获：</h2><p>本课程主要包括 TiDB 架构的简单介绍、各个组件的作用，以及读写请求在 TiDB 中的过程</p>
<h2 id="课程内容：-3"><a href="#课程内容：-3" class="headerlink" title="课程内容："></a>课程内容：</h2><p>学习目标： 对 TiDB 整体架构以及读写路程有大概的了解<br>关键知识点： TiDB 架构；读写流程</p>
<h2 id="TiDB整体架构"><a href="#TiDB整体架构" class="headerlink" title="TiDB整体架构"></a>TiDB整体架构</h2><p><a href="https://asktug.com/uploads/default/original/3X/3/9/3922aed8671259e75b76381cbad35a599622dbdc.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/3/9/3922aed8671259e75b76381cbad35a599622dbdc_2_689x360.jpeg" alt="image">image.jpg1237×646 97.8 KB</a></p>
<p>三大组件：</p>
<ul>
<li><ol>
<li>TiDB：负责SQL处理组件</li>
</ol>
</li>
<li><ol>
<li>TiKV：负责存储组件</li>
</ol>
</li>
<li><ol>
<li>PD：负责调度组件</li>
</ol>
</li>
</ul>
<p>TiDB可以很好的跟spark结合，通过TiSpark做为入口，可以像使用spark一样使用TiDB</p>
<p><strong>TiDB</strong></p>
<p><a href="https://asktug.com/uploads/default/original/3X/f/b/fb327f927f6b2134710fd3c04ac73c8fa656ba13.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/f/b/fb327f927f6b2134710fd3c04ac73c8fa656ba13_2_690x360.jpeg" alt="image">image.jpg1247×652 133 KB</a></p>
<p>SQL 层，对外暴露 MySQL 协议的连接 endpoint，负责接受客户端的连接，执行 SQL 解析和优化，最终生成分布式执行计划。TiDB 层本身是无状态的，实践中可以启动多个 TiDB 实例，通过负载均衡组件（如 LVS、HAProxy 或 F5）对外提供统一的接入地址，客户端的连接可以均匀地分摊在多个 TiDB 实例上以达到负载均衡的效果。TiDB Server 本身并不存储数据，只是解析 SQL，将实际的数据读取请求转发给底层的存储节点 TiKV（或 TiFlash）。</p>
<p><strong>TiKV</strong></p>
<p><a href="https://asktug.com/uploads/default/original/3X/a/d/ad94b1f8e1431d234f0ef9e9f53765120fde632e.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/a/d/ad94b1f8e1431d234f0ef9e9f53765120fde632e_2_690x334.jpeg" alt="image">image.jpg1248×605 58.4 KB</a></p>
<p>目前是一个基于**引擎修改实现的分布式KV存储引擎，具有高度分层的特性，底层的KV存储上层实现了Raft协议实现了保证数据一致性，上层实现了MVCC特性实现事务的多版本控制，上层Transaction事务层实现事务相关内容，TIKV分布式强一致的存储引擎不依赖分布式文件系统实现的。</p>
<p>负责存储数据，从外部看 TiKV 是一个分布式的提供事务的 Key-Value 存储引擎。存储数据的基本单位是 Region，每个 Region 负责存储一个 Key Range（从 StartKey 到 EndKey 的左闭右开区间）的数据，每个 TiKV 节点会负责多个 Region。TiKV 的 API 在 KV 键值对层面提供对分布式事务的原生支持，默认提供了 SI (Snapshot Isolation) 的隔离级别，这也是 TiDB 在 SQL 层面支持分布式事务的核心。TiDB 的 SQL 层做完 SQL 解析后，会将 SQL 的执行计划转换为对 TiKV API 的实际调用。所以，数据都存储在 TiKV 中。另外，TiKV 中的数据都会自动维护多副本（默认为三副本），天然支持高可用和自动故障转移。</p>
<p><strong>PD</strong></p>
<p><a href="https://asktug.com/uploads/default/original/3X/9/c/9c8e5a75689c0beef7480299a39e595f4ba04101.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/9/c/9c8e5a75689c0beef7480299a39e595f4ba04101_2_690x374.jpeg" alt="image">image.jpg1254×681 80.9 KB</a></p>
<p>主要负责全局事务ID的分配，实现region以及leader的调度，实现均衡。<br>整个 TiDB 集群的元信息管理模块，负责存储每个 TiKV 节点实时的数据分布情况和集群的整体拓扑结构，提供 TiDB Dashboard 管控界面，并为分布式事务分配事务 ID。PD 不仅存储元信息，同时还会根据 TiKV 节点实时上报的数据分布状态，下发数据调度命令给具体的 TiKV 节点，可以说是整个集群的“大脑”。此外，PD 本身也是由至少 3 个节点构成，拥有高可用的能力。建议部署奇数个 PD 节点。</p>
<p>4.0中提供了pd dashboad的功能</p>
<h1 id="TiDB中SQL读写处理流程"><a href="#TiDB中SQL读写处理流程" class="headerlink" title="TiDB中SQL读写处理流程"></a>TiDB中SQL读写处理流程</h1><p><a href="https://asktug.com/uploads/default/original/3X/8/a/8aac3876c20b474c2a8d5b1d4bf14f10e3c33758.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/8/a/8aac3876c20b474c2a8d5b1d4bf14f10e3c33758_2_690x375.jpeg" alt="image">image.jpg1245×678 87.4 KB</a></p>
<h2 id="读请求在TiDB中的处理过程"><a href="#读请求在TiDB中的处理过程" class="headerlink" title="读请求在TiDB中的处理过程"></a>读请求在TiDB中的处理过程</h2><p>1.客户端与TiDB建立连接并发送请求给TiDB<br>2.TiDB接受客户端发送的请求获取客户端发送的SQL语句<br>3.TiDB负责parses和compiles阶段文本解析，并生成AST语法树进行优化<br>4.TiDB与PD交互获取start_ts信息<br>5.TiDB根据执行计划与table元信息生成executor执行器<br>6.TiDB通过gRPC请求的方式将coprocessor请求发送给TiKV层<br>7.TiKV接到请求并按照请求过滤数据，并将数据返回给TiDB<br>8.TiDB接收到所有返回结果之后，整理汇总数据<br>9.TiDB将整理的结果返回给客户端</p>
<h2 id="写请求在TiDB中的处理过程"><a href="#写请求在TiDB中的处理过程" class="headerlink" title="写请求在TiDB中的处理过程"></a>写请求在TiDB中的处理过程</h2><p>1.客户端与TiDB建立连接并发送请求给TiDB<br>2.TiDB接受客户端发送的请求获取客户端发送的SQL语句<br>3.TiDB负责parses和compiles阶段文本解析，并生成AST语法树进行优化<br>4.TiDB与PD交互获取start_ts信息<br>5.TiDB根据执行计划与table元信息生成executor执行器<br>6.TiDB发起commit请求<br>7.参照percolator论文进行二阶段提交，prewrite阶段以及commit阶段，TiDB会在二阶段提交的commit阶段像TiKV请求获取commit_ts<br>8.TiKV将结果返回给TiDB<br>9.TiDB将结果返回给客户端</p>
<h2 id="对比读请求和写请求"><a href="#对比读请求和写请求" class="headerlink" title="对比读请求和写请求"></a>对比读请求和写请求</h2><ol>
<li>读请求主要像PD请求一次ts即可</li>
<li>写请求会请求两次tso，一次start_ts,一次commit_ts</li>
<li>写请求会涉及二阶段提交以及分布式事务相关内容</li>
</ol>
<ul>
<li>[TiDB 中的读写流程视频教程](<a href="https://university.pingcap.com/courses/TiDB" target="_blank" rel="noopener">https://university.pingcap.com/courses/TiDB</a> 4.0 新手指南/chapter/101-章节/lesson/Read-and-Write-data-in-the-TiDB-database-platform)</li>
<li><a href="https://docs.pingcap.com/zh/tidb/stable/tidb-architecture" target="_blank" rel="noopener">TiDB整体架构</a></li>
<li><a href="https://docs.pingcap.com/zh/tidb/stable/tidb-storage" target="_blank" rel="noopener">TiDB 数据库的存储</a></li>
<li><a href="https://docs.pingcap.com/zh/tidb/stable/tidb-scheduling" target="_blank" rel="noopener">调度概述</a></li>
</ul>
<h2 id="课程名称：1-7-Use-cases-and-success-stories-with-the-TiDB（TiDB-典型应用场景及用户案例）"><a href="#课程名称：1-7-Use-cases-and-success-stories-with-the-TiDB（TiDB-典型应用场景及用户案例）" class="headerlink" title="课程名称：1.7 Use cases and success stories with the TiDB（TiDB 典型应用场景及用户案例）"></a>课程名称：1.7 Use cases and success stories with the TiDB（TiDB 典型应用场景及用户案例）</h2><h2 id="学习时长：20min-1"><a href="#学习时长：20min-1" class="headerlink" title="学习时长：20min"></a>学习时长：20min</h2><h2 id="课程收获：-4"><a href="#课程收获：-4" class="headerlink" title="课程收获："></a>课程收获：</h2><p>本课程简要介绍了 TiDB 的适用场景及用户案例。 从 TiDB 具有的可扩展性，高可用性，分布式事务，实时分析等特点出发，总结出 TiDB 的各种适用场景。在海量数据，高并发等大规模集群中，TiDB 能够体现出超强的处理能力。同时基于 HTAP 的架构设计，TiDB 也非常适合作为实时分析类系统的数据库。</p>
<h2 id="课程内容：-4"><a href="#课程内容：-4" class="headerlink" title="课程内容："></a>课程内容：</h2><p>学习目标： 了解 TiDB 的特性及适用的场景</p>
<p>关键知识点： TiDB；HTAP；用户案例</p>
<h2 id="TiDB特性"><a href="#TiDB特性" class="headerlink" title="TiDB特性"></a>TiDB特性</h2><ul>
<li>可扩展性</li>
<li>高可用</li>
<li>分布式事务</li>
<li>实时分析能力</li>
</ul>
<h2 id="TiDB适用场景"><a href="#TiDB适用场景" class="headerlink" title="TiDB适用场景"></a>TiDB适用场景</h2><p>基于可扩展性及分布式事务特性</p>
<ul>
<li>海量数据</li>
<li>高并发</li>
<li>基于MySQL开发的数据代码</li>
<li>未来可扩展</li>
</ul>
<p>高可用：</p>
<ul>
<li>重要的业务</li>
<li>多活需求</li>
</ul>
<p>实时分析需求：</p>
<ul>
<li>跨库统计报表</li>
<li>指定列的分析业务</li>
</ul>
<h2 id="客户案例"><a href="#客户案例" class="headerlink" title="客户案例"></a>客户案例</h2><p><a href="https://asktug.com/uploads/default/original/3X/8/7/8781cdb1b2cf9ea3d1d35a0bf80f4e0b5cfbfc2b.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/8/7/8781cdb1b2cf9ea3d1d35a0bf80f4e0b5cfbfc2b_2_690x322.jpeg" alt="image">image.jpg1260×589 71 KB</a></p>
<p>知乎（最大的生产集群）<br>250多个数据节点 20多个计算节点<br>2万亿的数据记录数<br>每个月100亿的数据增长<br>超强处理能力</p>
<p><a href="https://asktug.com/uploads/default/original/3X/a/7/a7e0a0d954427c4ceff4201745d00a5c2e36b1a9.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/a/7/a7e0a0d954427c4ceff4201745d00a5c2e36b1a9_2_690x295.jpeg" alt="image">image.jpg1274×546 73.4 KB</a></p>
<p>北京银行<br>两地三中心<br>经历过在线扩容和缩容，业务不受影响</p>
<p><a href="https://asktug.com/uploads/default/original/3X/5/d/5d7e27f2b9a97bee99de0dfe3bc7bf855a61088b.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/5/d/5d7e27f2b9a97bee99de0dfe3bc7bf855a61088b_2_690x343.jpeg" alt="image">image.jpg1274×635 53.6 KB</a></p>
<p>PayPay<br>日本第一支付公司<br>支付，钱包交易写库的流量都使用TiDB<br>100TB数据量</p>
<p><a href="https://asktug.com/uploads/default/original/3X/a/d/adf98a3d6a8b1a78ae3c85674b14bc4504f1be3c.jpeg" target="_blank" rel="noopener"><img src="https://asktug.com/uploads/default/optimized/3X/a/d/adf98a3d6a8b1a78ae3c85674b14bc4504f1be3c_2_690x327.jpeg" alt="image">image.jpg1278×606 57.9 KB</a></p>
<p>中通快递<br>网点查询业务系统，各网点寄件的情况<br>TiSpark应用各网点BI需求</p>
<p>思考问题：<br>TiDB能否支撑BI业务？</p>
<ul>
<li>可以</li>
</ul>
<p>TiDB是否有银行使用案例？</p>
<ul>
<li>有</li>
<li>[TiDB 典型应用场景及用户案例视频教程](<a href="https://university.pingcap.com/courses/TiDB" target="_blank" rel="noopener">https://university.pingcap.com/courses/TiDB</a> 4.0 新手指南/chapter/101-章节/lesson/Use-cases-and-success-stories-with-the-TiDB)</li>
<li>TiDB 生态工具适用场景</li>
</ul>
]]></content>
  </entry>
  <entry>
    <title>docker操作篇-部署MySQL</title>
    <url>/2020/11/21/Docker/docker%E6%93%8D%E4%BD%9C%E7%AF%87-%E9%83%A8%E7%BD%B2MySQL/</url>
    <content><![CDATA[<p><a href="https://hub.docker.com/_/mysql?tab=description" target="_blank" rel="noopener">#LearnInstallMySQL</a></p>
<ul>
<li>Docker镜像分享</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">Apple@DESKTOP-V8IAR5D MINGW64 ~</span><br><span class="line"><span class="meta">$</span><span class="bash"> docker save -o a.tar qingyu111/docker101tutorial</span></span><br><span class="line"></span><br><span class="line">Apple@DESKTOP-V8IAR5D MINGW64 ~</span><br><span class="line"><span class="meta">$</span><span class="bash"> docker stop 9e137a347a3f</span></span><br><span class="line">9e137a347a3f</span><br><span class="line"></span><br><span class="line">Apple@DESKTOP-V8IAR5D MINGW64 ~</span><br><span class="line"><span class="meta">$</span><span class="bash"> docker rmi qingyu111/docker101tutorial</span></span><br><span class="line">Error response from daemon: conflict: unable to remove repository reference "qingyu111/docker101tutorial" (must force) - container 9e137a347a3f is using its referenced image 9318f962962d</span><br><span class="line"></span><br><span class="line">Apple@DESKTOP-V8IAR5D MINGW64 ~</span><br><span class="line"><span class="meta">$</span><span class="bash"> docker load -i  a.tar</span></span><br><span class="line">Loaded image: qingyu111/docker101tutorial:latest</span><br><span class="line"></span><br><span class="line">Apple@DESKTOP-V8IAR5D MINGW64 ~</span><br><span class="line"><span class="meta">$</span><span class="bash"> docker images</span></span><br><span class="line">REPOSITORY                    TAG                 IMAGE ID            CREATED             SIZE</span><br><span class="line">qingyu111/docker101tutorial   latest              9318f962962d        28 hours ago        27.2MB</span><br><span class="line">mysql                         8.0                 4f1413420360        2 days ago          545MB</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Docker</category>
      </categories>
  </entry>
  <entry>
    <title>docker入门篇-图形化配置</title>
    <url>/2020/11/19/Docker/docker%E5%85%A5%E9%97%A8%E7%AF%87-%E5%9B%BE%E5%BD%A2%E5%8C%96%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<p><a href="https://www.docker.com/101-tutorial" target="_blank" rel="noopener">#LearnDocker</a></p>
<p><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener">#Dockeroverview</a></p>
<h4 id="Docker-Desktop"><a href="#Docker-Desktop" class="headerlink" title="Docker Desktop"></a>Docker Desktop</h4><p>Docker Desktop is a native application that delivers all of the Docker tools to your Mac or Windows Computer. </p>
<ol>
<li>Open Docker Desktop. (Download <a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener">here</a> if you don’t have it).</li>
<li>Type the following command in your terminal: <code>docker run -dp 80:80 docker/getting-started</code></li>
<li>Open your browser to <a href="http://localhost/" target="_blank" rel="noopener">http://localhost</a></li>
<li>Have fun!</li>
</ol>
<p><em>DockerID:qingyu111</em></p>

]]></content>
      <categories>
        <category>Docker</category>
      </categories>
  </entry>
  <entry>
    <title>去o专题</title>
    <url>/2020/11/16/Oracle/%E5%8E%BBo%E4%B8%93%E9%A2%98/</url>
    <content><![CDATA[<p><a href="https://time.geekbang.org/column/article/207010" target="_blank" rel="noopener">陆金所去Oracle转MySQL全过程</a><br><a href="https://www.lufaxholding.com/zh-cn/solution/detail/solution/luDBGate/sqlmapo2m/index.html" target="_blank" rel="noopener">SQL转换官网</a></p>
]]></content>
  </entry>
  <entry>
    <title>02-日志系统一条SQL更新语句是如何执行的？</title>
    <url>/2020/11/16/MySQL%E5%AE%9E%E6%88%9845%E8%AE%B2/02-%E6%97%A5%E5%BF%97%E7%B3%BB%E7%BB%9F%E4%B8%80%E6%9D%A1SQL%E6%9B%B4%E6%96%B0%E8%AF%AD%E5%8F%A5%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84%EF%BC%9F/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>Oracle12C_OCP_062数据库管理</title>
    <url>/2020/11/11/Oracle/Oracle12C-OCP-062%E6%95%B0%E6%8D%AE%E5%BA%93%E7%AE%A1%E7%90%86/</url>
    <content><![CDATA[<p><strong>知识点1：</strong></p>
<p><a href="https://docs.oracle.com/en/database/oracle/oracle-database/12.2/admin/creating-and-configuring-an-oracle-database.html" target="_blank" rel="noopener">使用DBCA创建数据库</a></p>
<p><a href="https://docs.oracle.com/en/database/oracle/oracle-database/12.2/admqs/installing-oracle-database-creating-database.html#GUID-2A1B1AF2-CC36-405A-89EB-72E7A33F7E2B" target="_blank" rel="noopener">使用DBCA创建和管理数据库</a></p>
<p><strong>知识点2：</strong></p>
<p><a href="https://docs.oracle.com/en/database/oracle/oracle-database/12.2/admin/starting-up-and-shutting-down.html#GUID-045DE684-6680-4099-A49E-2F5B5FA59670" target="_blank" rel="noopener">启动和关闭</a></p>
<p><em>实验1：数据库实例读写模式打开多个用户连接，执行alter system enable restricted session;，对当前会话有什么影响？</em></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">1. SQL&gt; alter system enable restricted session;</span><br><span class="line">System altered. </span><br><span class="line">或者</span><br><span class="line">SQL&gt; startup restrict </span><br><span class="line"> </span><br><span class="line">2. 没有RESTRICTED SESSION的用户无法登录：</span><br><span class="line">SQL&gt; connect scott/scott</span><br><span class="line">ERROR:</span><br><span class="line">ORA-01035: ORACLE only available to users <span class="keyword">with</span> <span class="keyword">RESTRICTED</span> <span class="keyword">SESSION</span> privilege</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span> 赋权限 </span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">create</span> <span class="keyword">session</span>, <span class="keyword">restricted</span> <span class="keyword">session</span> <span class="keyword">to</span> scott;</span><br><span class="line"></span><br><span class="line">4. 取消restricted </span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">system</span> <span class="keyword">disable</span> <span class="keyword">restricted</span> <span class="keyword">session</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>启用restricted mode方式启动和运行数据库后，只有那些具有create session和restricted session权限的用户，才能登录入系统数据库。默认情况下，<br>只有SYSDBA和SYSOPER用户拥有restricted session权限。意味着只有数据库管理权限的用户才能进行restricted mode下的数据管理工作。<br>但对于<code>已登陆的会话没有影响</code>。<br>在restricted mode下，用户即使拥有restricted session权限，只能本地登录并且不经过监听程序才可以。Remote方式登录是被拒绝的。</p>
</blockquote>
<p><em>实验2：参数在线修改</em></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">SYSTEM</span> <span class="keyword">SET</span> LOG_BUFFER=<span class="number">32</span> M;</span><br><span class="line">ERROR at line1:</span><br><span class="line">ORA-02095:specified initialization parameter cannot be modified</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Oracle</category>
      </categories>
      <tags>
        <tag>Oracle 12C</tag>
        <tag>OCP</tag>
      </tags>
  </entry>
  <entry>
    <title>MySQL/MySQL性能监控</title>
    <url>/2020/11/04/MySQL/MySQL%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7/</url>
    <content><![CDATA[<!DOCTYPE html>
<!-- saved from url=(0016)http://localhost -->
<html>
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>MySQL性能监控</title>
    <style>
        body{
            margin: 0;
        }
        #content-info{
            width: auto;
            margin: 0 auto;
            text-align: center;
        }
        #author-info{
            white-space: nowrap;
            text-overflow: ellipsis;
            overflow: hidden;
        }
        #title{
            text-overflow: ellipsis;
            white-space: nowrap;
            overflow: hidden;
            padding-top: 10px;
            margin-bottom: 2px;
            font-size: 34px;
            color: #505050;
        }
        .text{
            white-space:nowrap;
            text-overflow: ellipsis;
            display: inline-block;
            margin-right: 20px;
            margin-bottom: 2px;
            font-size: 20px;
            color: #8c8c8c;
        }
        #navBar{
            width: auto;
            height: auto;
            position: fixed;
            right:0;
            bottom: 0;
            background-color: #f0f3f4;
            overflow-y: auto;
            text-align: center;
        }
        #svg-container{
            width: 100%;
            overflow-x: scroll;
            min-width: 0px;
            margin: 0 10px;
            overflow: visible;
            position: relative;
        }
        #nav-thumbs{
            overflow-y: scroll;
            padding: 0 5px;
        }
        .nav-thumb{
            position: relative;
            margin: 10px auto;
        }
        .nav-thumb >p{
            text-align: center;
            font-size: 12px;
            margin: 4px 0 0 0;
        }
        .nav-thumb >div{
            position: relative;
            display: inline-block;
            border: 1px solid #c6cfd5;
        }
        .nav-thumb img{
            display: block;
        }
        #main-content{
            bottom: 0;
            left: 0;
            right: 0;
            background-color: #d0cfd8;
            display: flex;
            height: auto;
            flex-flow: row wrap;
            text-align:center;
        }
        #svg-container >svg{
            overflow: visible;
            display: block;
            margin:5px auto;
            margin-bottom: 5px;
        }
        #copyright{
            bottom: 0;
            left: 50%;
            margin: 5px auto;
            font-size: 16px;
            color: #515151;
        }
        #copyright >a{
            text-decoration: none;
            color: #77C;
        }
        .number{
            position: absolute;
            top:0;
            left:0;
            border-top:22px solid #08a1ef;
            border-right: 22px solid transparent;
        }
        .pagenum{
            font-size: 12px;
            color: #fff;
            position: absolute;
            top: -23px;
            left: 2px;
        }
            #navBar::-webkit-scrollbar{
            width: 8px;
            background-color: #f5f5f5;
        }
            #navBar::-webkit-scrollbar-track{
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            border-radius: 8px;
            background-color: #fff;
        }
            #navBar::-webkit-scrollbar-thumb{
            border-radius: 8px;
            -webkit-box-shadow: inset 0 0 4px rgba(0,0,0,.3);
            background-color: #6b6b70;
        }
        #navBar::-webkit-scrollbar-thumb:hover{
            background-color: #4a4a4f;
        }
</style>
  <meta name="generator" content="Hexo 4.2.0"><link rel="alternate" href="/atom.xml" title="青雨果果的博客" type="application/atom+xml">
</head>
  <body>
    <div id="main-area">
      <div id="content-info">
        <div id="content-info">
          <div id="title">MySQL性能监控</div>
        </div>
        <div id="author-info">
          <div class="text" id="author-name">大宝???? 好吃的都给你原则</div>
          <div class="text" id="share-time">2020-11-04</div>
        </div>
      </div>
      <div id="main-content">
        <div id="svg-container"><svg width="3447" ed:hSpacing="50" height="2572" id="page0" viewBox="0 0 3447 2572" xmlns="http://www.w3.org/2000/svg" ed:name="页面-1" preserveAspectRadio="xMinYMin meet" xmlns:ev="http://www.w3.org/2001/xml-events" ed:vSpacing="20" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:ed="https://www.edrawsoft.cn/xml/2017/SVGExtensions/">
    <style type="text/css"><![CDATA[
g[ed\:togtopicid],g[ed\:hyperlink],g[ed\:comment],g[ed\:note] {cursor:pointer;}
g[id] {-moz-user-select: none;-ms-user-select: none;user-select: none;}
svg text::selection,svg tspan::selection{background-color: #4285f4;color: #ffffff;fill: #ffffff;}
.st10 {fill:#303030;font-family:;font-size:11.25pt}
.st11 {fill:#303030;font-family:;font-size:9pt}
.st12 {fill:#303030;font-family:Apple LiSung Light;font-size:9pt}
.st13 {fill:#444444;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:9.75pt}
.st8 {fill:#454545;font-family:;font-size:14.25pt}
.st9 {font-family:.SF NS Text}
.st14 {font-size:10.84pt}
]]></style>
    <defs/>
    <rect width="3447" fill="#ffffff" y="0" height="2572" x="0"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="494" ed:type="summary" id="826" stroke-linejoin="round" transform="matrix(1,0,0,1,809.14,181.5)" d="M12,0C12,0,6.8,-1.3,5.4,114.7C4,230.7,7.3,303.6,6.1,395.2C5,486.8,0,508.1,0,508.1C0,508.1,4.9,526.9,6.1,621.2C7.4,715.5,4,786.1,5.4,901.7C6.8,1017.3,12,1016.3,12,1016.3" ed:idlist="494,496,524,526,528,530,532,534,536,538,540,542,498,544,546,548,550,552,554,556,558,560,562,564,566,568,570,572,574,576,578,500,580,582,584,586,588,590,592,594,502,596,598,600,504,602,604,606,608,611"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="613,615,617,619,621" ed:type="summary" id="894" stroke-linejoin="round" transform="matrix(1,0,0,1,1189.32,62.75)" d="M12,0C12,0,6.8,-0.1,5.4,12.8C4,25.8,7.3,34,6.1,44.2C5,54.5,0,56.9,0,56.9C0,56.9,4.9,59,6.1,69.5C7.4,80.1,4,88,5.4,100.9C6.8,113.9,12,113.8,12,113.8" ed:idlist="613,615,617,619,621"/>
    <path fill="#ef8f8a" stroke="#ef8f8a" ed:parentid="101" stroke-linecap="round" id="103" stroke-linejoin="round" transform="matrix(1,0,0,1,2037.78,1070.25)" ed:tosuperid="102" d="M41.9,144C42.7,146.4,44.7,147.5,46.6,146.8C48.4,146.2,49.3,144.1,48.5,141.7C47.7,139.5,47,137.4,46.2,135.2C45.5,133,44.8,130.8,44.2,128.6C43.5,126.4,42.8,124.1,42.2,121.9C41.5,119.7,40.9,117.5,40.3,115.2C39.7,113,39.1,110.7,38.5,108.5C38,106.2,37.4,104,36.9,101.7C36.3,99.5,35.8,97.2,35.2,95C34.7,92.7,34.2,90.4,33.7,88.2C33.2,85.9,32.7,83.6,32.2,81.3C31.7,79.1,31.3,76.8,30.8,74.5C30.3,72.2,29.8,70,29.4,67.7C28.9,65.4,28.5,63.1,28,60.8C27.6,58.5,27.1,56.2,26.7,54C26.3,51.7,25.8,49.4,25.4,47.1C25,44.8,24.6,42.5,24.1,40.2C23.7,37.9,23.3,35.6,22.9,33.3C22.4,31,22,28.7,21.6,26.5C21.2,24.2,20.8,21.9,20.4,19.6C19.9,17.3,19.5,15,19.1,12.7C18.7,10.4,18.3,8.1,17.9,5.8C17.4,3.5,17,1.2,16.6,-1.1C16.2,-3.4,15.7,-5.7,15.3,-8C14.9,-10.3,14.5,-12.6,14,-14.9C13.6,-17.2,13.1,-19.5,12.7,-21.8C12.3,-24.1,11.8,-26.3,11.4,-28.6C10.9,-30.9,10.4,-33.2,10,-35.5C9.5,-37.8,9,-40.1,8.6,-42.4C8.1,-44.7,7.6,-47,7.1,-49.2C6.6,-51.5,6.1,-53.8,5.6,-56.1C5.1,-58.4,4.6,-60.7,4,-62.9C3.5,-65.2,3,-67.5,2.4,-69.8C1.9,-72,1.3,-74.3,0.7,-76.6C0.1,-78.8,-0.4,-81.1,-1,-83.4C-1.6,-85.6,-2.3,-87.9,-2.9,-90.1C-3.5,-92.4,-4.2,-94.7,-4.8,-96.9C-5.5,-99.1,-6.2,-101.4,-6.9,-103.6C-7.6,-105.9,-8.3,-108.1,-9,-110.3C-9.7,-112.5,-10.5,-114.8,-11.3,-117C-12.1,-119.2,-12.9,-121.4,-13.7,-123.6C-14.5,-125.8,-15.3,-128,-16.2,-130.1C-17.1,-132.3,-18,-134.5,-18.9,-136.6C-19.9,-138.8,-20.8,-140.9,-21.8,-143.1C-22.8,-145.2,-23.8,-147.3,-24.9,-149.4C-25.9,-151.5,-27,-153.6,-28.2,-155.6C-29.3,-157.7,-30.5,-159.7,-31.7,-161.8C-32.9,-163.8,-34.1,-165.8,-35.4,-167.7C-36.7,-169.7,-38.1,-171.6,-39.5,-173.5C-40.9,-175.4,-42.3,-177.3,-43.8,-179.1C-45.3,-180.9,-46.8,-182.7,-48.4,-184.4C-50,-186.1,-51.7,-187.8,-53.4,-189.4C-55.1,-191.1,-56.9,-192.6,-58.7,-194.1C-60.5,-195.6,-62.4,-197.1,-64.3,-198.4C-66.2,-199.8,-68.2,-201.1,-70.2,-202.3C-72.3,-203.5,-74.3,-204.6,-76.5,-205.6C-78.6,-206.6,-80.7,-207.6,-82.9,-208.4C-85.1,-209.3,-87.4,-210,-89.6,-210.7C-91.9,-211.3,-94.2,-211.9,-96.5,-212.4C-98.8,-212.9,-101.1,-213.2,-103.4,-213.5C-105.8,-213.9,-108.1,-214.1,-110.4,-214.2C-112.8,-214.3,-115.1,-214.4,-117.4,-214.4C-117.8,-214.4,-118,-214.2,-118,-213.9C-118,-213.6,-117.8,-213.4,-117.4,-213.4C-115.1,-213.3,-112.8,-213.3,-110.5,-213.1C-108.2,-212.9,-105.9,-212.7,-103.6,-212.4C-101.3,-212,-99,-211.6,-96.7,-211.1C-94.5,-210.6,-92.2,-210,-90,-209.3C-87.8,-208.6,-85.6,-207.9,-83.5,-207C-81.3,-206.2,-79.2,-205.2,-77.2,-204.2C-75.1,-203.1,-73.1,-202,-71.1,-200.8C-69.1,-199.6,-67.2,-198.3,-65.3,-197C-63.5,-195.6,-61.7,-194.2,-59.9,-192.7C-58.1,-191.2,-56.4,-189.6,-54.8,-188C-53.1,-186.4,-51.5,-184.7,-50,-183C-48.4,-181.3,-46.9,-179.5,-45.5,-177.7C-44.1,-175.9,-42.7,-174,-41.3,-172.2C-40,-170.3,-38.7,-168.4,-37.4,-166.4C-36.2,-164.5,-35,-162.5,-33.8,-160.5C-32.7,-158.5,-31.5,-156.5,-30.4,-154.4C-29.4,-152.4,-28.3,-150.3,-27.3,-148.2C-26.3,-146.1,-25.3,-144,-24.4,-141.9C-23.4,-139.8,-22.5,-137.7,-21.6,-135.5C-20.7,-133.4,-19.8,-131.2,-19,-129C-18.2,-126.9,-17.4,-124.7,-16.6,-122.5C-15.8,-120.3,-15,-118.1,-14.3,-115.9C-13.6,-113.7,-12.8,-111.5,-12.2,-109.3C-11.5,-107.1,-10.8,-104.9,-10.1,-102.6C-9.5,-100.4,-8.8,-98.2,-8.2,-95.9C-7.6,-93.7,-7,-91.5,-6.4,-89.2C-5.8,-87,-5.2,-84.7,-4.6,-82.4C-4.1,-80.2,-3.5,-77.9,-3,-75.7C-2.4,-73.4,-1.9,-71.1,-1.4,-68.9C-0.9,-66.6,-0.4,-64.3,0.1,-62.1C0.6,-59.8,1.1,-57.5,1.6,-55.2C2.1,-52.9,2.5,-50.7,3,-48.4C3.4,-46.1,3.9,-43.8,4.3,-41.5C4.8,-39.2,5.2,-37,5.7,-34.7C6.1,-32.4,6.5,-30.1,6.9,-27.8C7.4,-25.5,7.8,-23.2,8.2,-20.9C8.6,-18.6,9,-16.3,9.4,-14C9.8,-11.7,10.2,-9.4,10.6,-7.1C11,-4.8,11.4,-2.5,11.8,-0.2C12.2,2.1,12.5,4.4,12.9,6.7C13.3,9,13.7,11.3,14.1,13.6C14.5,15.9,14.9,18.2,15.2,20.5C15.6,22.8,16,25.1,16.4,27.4C16.8,29.7,17.2,32,17.5,34.3C17.9,36.6,18.3,38.9,18.7,41.2C19.1,43.5,19.5,45.8,19.9,48.1C20.3,50.4,20.7,52.7,21.1,55C21.5,57.3,21.9,59.6,22.3,61.9C22.8,64.2,23.2,66.5,23.6,68.8C24,71.1,24.5,73.4,24.9,75.7C25.3,78,25.8,80.3,26.2,82.6C26.7,84.9,27.2,87.2,27.6,89.5C28.1,91.8,28.6,94,29.1,96.3C29.6,98.6,30.1,100.9,30.6,103.2C31.1,105.5,31.7,107.8,32.2,110.1C32.8,112.3,33.3,114.6,33.9,116.9C34.5,119.2,35.1,121.4,35.7,123.7C36.3,126,37,128.3,37.6,130.5C38.3,132.8,39,135,39.7,137.3C40.4,139.5,41.1,141.8,41.9,144z"/>
    <path fill="#ffc000" stroke="#ffc000" ed:parentid="101" stroke-linecap="round" id="105" stroke-linejoin="round" transform="matrix(1,0,0,1,2037.78,1707.81)" ed:tosuperid="104" d="M59.9,-350.3C60.5,-352.7,59.5,-354.8,57.6,-355.3C55.8,-355.8,53.8,-354.6,53.1,-352.2C52.5,-349.9,51.9,-347.6,51.3,-345.3C50.8,-343,50.2,-340.7,49.7,-338.5C49.1,-336.2,48.6,-333.9,48.1,-331.6C47.6,-329.3,47.2,-327,46.7,-324.7C46.3,-322.3,45.8,-320,45.4,-317.7C45,-315.4,44.6,-313.1,44.2,-310.8C43.8,-308.5,43.4,-306.2,43,-303.9C42.7,-301.5,42.3,-299.2,42,-296.9C41.6,-294.6,41.3,-292.3,41,-289.9C40.6,-287.6,40.3,-285.3,40,-283C39.7,-280.7,39.4,-278.3,39.2,-276C38.9,-273.7,38.6,-271.4,38.3,-269C38.1,-266.7,37.8,-264.4,37.6,-262C37.3,-259.7,37.1,-257.4,36.8,-255.1C36.6,-252.7,36.4,-250.4,36.2,-248.1C35.9,-245.8,35.7,-243.4,35.5,-241.1C35.3,-238.8,35.1,-236.4,34.9,-234.1C34.7,-231.8,34.5,-229.4,34.3,-227.1C34.1,-224.8,34,-222.5,33.8,-220.1C33.6,-217.8,33.4,-215.5,33.3,-213.1C33.1,-210.8,32.9,-208.5,32.8,-206.1C32.6,-203.8,32.5,-201.5,32.3,-199.1C32.2,-196.8,32,-194.5,31.9,-192.1C31.7,-189.8,31.6,-187.5,31.4,-185.2C31.3,-182.8,31.2,-180.5,31,-178.2C30.9,-175.8,30.8,-173.5,30.7,-171.2C30.5,-168.8,30.4,-166.5,30.3,-164.2C30.2,-161.8,30,-159.5,29.9,-157.2C29.8,-154.8,29.7,-152.5,29.6,-150.2C29.5,-147.8,29.4,-145.5,29.3,-143.2C29.2,-140.8,29.1,-138.5,29,-136.2C28.8,-133.8,28.7,-131.5,28.6,-129.2C28.5,-126.8,28.4,-124.5,28.4,-122.2C28.3,-119.8,28.2,-117.5,28.1,-115.2C28,-112.8,27.9,-110.5,27.8,-108.2C27.7,-105.9,27.6,-103.5,27.5,-101.2C27.4,-98.9,27.3,-96.5,27.2,-94.2C27.2,-91.9,27.1,-89.5,27,-87.2C26.9,-84.9,26.8,-82.5,26.7,-80.2C26.6,-77.9,26.6,-75.5,26.5,-73.2C26.4,-70.9,26.3,-68.5,26.2,-66.2C26.1,-63.9,26.1,-61.5,26,-59.2C25.9,-56.9,25.8,-54.5,25.7,-52.2C25.6,-49.9,25.5,-47.6,25.5,-45.2C25.4,-42.9,25.3,-40.6,25.2,-38.2C25.1,-35.9,25,-33.6,25,-31.2C24.9,-28.9,24.8,-26.6,24.7,-24.2C24.6,-21.9,24.5,-19.6,24.4,-17.2C24.3,-14.9,24.3,-12.6,24.2,-10.2C24.1,-7.9,24,-5.6,23.9,-3.3C23.8,-0.9,23.7,1.4,23.6,3.7C23.5,6.1,23.4,8.4,23.3,10.7C23.2,13.1,23.1,15.4,23,17.7C22.9,20.1,22.8,22.4,22.7,24.7C22.6,27,22.5,29.4,22.4,31.7C22.3,34,22.2,36.4,22.1,38.7C22,41,21.9,43.4,21.8,45.7C21.7,48,21.6,50.3,21.4,52.7C21.3,55,21.2,57.3,21.1,59.7C21,62,20.9,64.3,20.7,66.6C20.6,69,20.5,71.3,20.3,73.6C20.2,76,20.1,78.3,19.9,80.6C19.8,82.9,19.7,85.3,19.5,87.6C19.4,89.9,19.3,92.3,19.1,94.6C19,96.9,18.8,99.2,18.7,101.6C18.5,103.9,18.3,106.2,18.2,108.5C18,110.9,17.9,113.2,17.7,115.5C17.5,117.8,17.4,120.2,17.2,122.5C17,124.8,16.8,127.1,16.7,129.5C16.5,131.8,16.3,134.1,16.1,136.4C15.9,138.8,15.7,141.1,15.5,143.4C15.3,145.7,15.1,148,14.9,150.4C14.7,152.7,14.5,155,14.3,157.3C14,159.7,13.8,162,13.6,164.3C13.4,166.6,13.1,168.9,12.9,171.3C12.7,173.6,12.4,175.9,12.2,178.2C11.9,180.5,11.7,182.8,11.4,185.2C11.1,187.5,10.9,189.8,10.6,192.1C10.3,194.4,10,196.7,9.8,199C9.5,201.4,9.2,203.7,8.9,206C8.6,208.3,8.3,210.6,7.9,212.9C7.6,215.2,7.3,217.5,7,219.8C6.6,222.1,6.3,224.4,5.9,226.7C5.6,229,5.2,231.3,4.9,233.6C4.5,235.9,4.1,238.2,3.7,240.5C3.4,242.8,3,245.1,2.6,247.4C2.2,249.7,1.7,252,1.3,254.3C0.9,256.6,0.4,258.9,-0,261.2C-0.4,263.5,-0.9,265.7,-1.4,268C-1.9,270.3,-2.3,272.6,-2.8,274.9C-3.3,277.1,-3.8,279.4,-4.4,281.7C-4.9,283.9,-5.4,286.2,-6,288.5C-6.5,290.7,-7.1,293,-7.7,295.2C-8.3,297.5,-8.9,299.7,-9.5,302C-10.1,304.2,-10.7,306.5,-11.4,308.7C-12,310.9,-12.7,313.2,-13.4,315.4C-14.1,317.6,-14.8,319.8,-15.5,322C-16.3,324.2,-17,326.4,-17.8,328.6C-18.6,330.8,-19.4,333,-20.2,335.2C-21,337.4,-21.9,339.5,-22.7,341.7C-23.6,343.8,-24.5,346,-25.5,348.1C-26.4,350.2,-27.3,352.4,-28.3,354.5C-29.3,356.6,-30.4,358.6,-31.4,360.7C-32.5,362.8,-33.6,364.8,-34.7,366.9C-35.8,368.9,-37,370.9,-38.2,372.9C-39.4,374.9,-40.7,376.8,-42,378.7C-43.3,380.7,-44.6,382.6,-46,384.4C-47.4,386.3,-48.8,388.1,-50.3,389.9C-51.8,391.7,-53.3,393.4,-54.9,395.1C-56.5,396.8,-58.1,398.4,-59.8,400C-61.5,401.6,-63.2,403.1,-65,404.6C-66.8,406.1,-68.7,407.4,-70.6,408.8C-72.5,410.1,-74.4,411.3,-76.5,412.5C-78.5,413.6,-80.5,414.7,-82.6,415.7C-84.7,416.6,-86.9,417.5,-89,418.3C-91.2,419.1,-93.4,419.8,-95.7,420.4C-97.9,421,-100.2,421.5,-102.4,421.9C-104.7,422.3,-106.8,422.6,-109.3,422.8C-111.9,423,-114.9,423.1,-116.3,423.2C-117.7,423.2,-117.6,423.2,-117.4,423.2C-117,423.1,-118,423.4,-118,423.7C-118,424,-117,424.1,-117.4,424.2C-117.6,424.2,-117.7,424.2,-116.3,424.2C-114.8,424.1,-111.8,424.1,-109.2,423.9C-106.7,423.7,-104.5,423.4,-102.3,423C-100,422.6,-97.7,422.1,-95.4,421.5C-93.1,420.9,-90.8,420.2,-88.6,419.5C-86.4,418.7,-84.2,417.8,-82.1,416.8C-79.9,415.8,-77.9,414.8,-75.8,413.6C-73.8,412.4,-71.8,411.2,-69.8,409.9C-67.9,408.6,-66,407.2,-64.1,405.7C-62.3,404.2,-60.5,402.7,-58.8,401.1C-57.1,399.5,-55.4,397.8,-53.8,396.1C-52.2,394.4,-50.6,392.7,-49.1,390.9C-47.6,389.1,-46.1,387.3,-44.7,385.4C-43.3,383.5,-41.9,381.6,-40.6,379.7C-39.3,377.7,-38,375.8,-36.8,373.8C-35.5,371.8,-34.3,369.8,-33.2,367.7C-32,365.7,-30.9,363.6,-29.8,361.5C-28.7,359.5,-27.7,357.4,-26.7,355.3C-25.6,353.1,-24.7,351,-23.7,348.9C-22.8,346.7,-21.8,344.6,-20.9,342.4C-20,340.3,-19.2,338.1,-18.3,335.9C-17.5,333.7,-16.6,331.5,-15.9,329.3C-15.1,327.1,-14.3,324.9,-13.5,322.7C-12.8,320.5,-12,318.3,-11.3,316C-10.6,313.8,-9.9,311.6,-9.3,309.3C-8.6,307.1,-7.9,304.8,-7.3,302.6C-6.7,300.3,-6,298.1,-5.4,295.8C-4.8,293.6,-4.3,291.3,-3.7,289C-3.1,286.8,-2.6,284.5,-2,282.2C-1.5,279.9,-0.9,277.7,-0.4,275.4C0.1,273.1,0.6,270.8,1.1,268.5C1.6,266.3,2.1,264,2.5,261.7C3,259.4,3.4,257.1,3.9,254.8C4.3,252.5,4.8,250.2,5.2,247.9C5.6,245.6,6,243.3,6.4,241C6.8,238.7,7.2,236.4,7.6,234.1C8,231.8,8.4,229.5,8.7,227.2C9.1,224.9,9.5,222.6,9.8,220.2C10.2,217.9,10.5,215.6,10.8,213.3C11.2,211,11.5,208.7,11.8,206.4C12.1,204.1,12.4,201.7,12.7,199.4C13.1,197.1,13.4,194.8,13.6,192.5C13.9,190.2,14.2,187.8,14.5,185.5C14.8,183.2,15.1,180.9,15.3,178.6C15.6,176.2,15.8,173.9,16.1,171.6C16.4,169.3,16.6,167,16.9,164.6C17.1,162.3,17.3,160,17.6,157.7C17.8,155.3,18,153,18.3,150.7C18.5,148.4,18.7,146,18.9,143.7C19.1,141.4,19.4,139.1,19.6,136.7C19.8,134.4,20,132.1,20.2,129.8C20.4,127.4,20.6,125.1,20.8,122.8C20.9,120.4,21.1,118.1,21.3,115.8C21.5,113.5,21.7,111.1,21.9,108.8C22,106.5,22.2,104.1,22.4,101.8C22.5,99.5,22.7,97.2,22.9,94.8C23,92.5,23.2,90.2,23.4,87.8C23.5,85.5,23.7,83.2,23.8,80.9C24,78.5,24.1,76.2,24.3,73.9C24.4,71.5,24.6,69.2,24.7,66.9C24.8,64.5,25,62.2,25.1,59.9C25.3,57.5,25.4,55.2,25.5,52.9C25.7,50.6,25.8,48.2,25.9,45.9C26,43.6,26.2,41.2,26.3,38.9C26.4,36.6,26.5,34.2,26.7,31.9C26.8,29.6,26.9,27.2,27,24.9C27.1,22.6,27.3,20.3,27.4,17.9C27.5,15.6,27.6,13.3,27.7,10.9C27.8,8.6,27.9,6.3,28,3.9C28.2,1.6,28.3,-0.7,28.4,-3.1C28.5,-5.4,28.6,-7.7,28.7,-10.1C28.8,-12.4,28.9,-14.7,29,-17.1C29.1,-19.4,29.2,-21.7,29.3,-24C29.4,-26.4,29.5,-28.7,29.6,-31C29.7,-33.4,29.8,-35.7,29.9,-38C30,-40.4,30.1,-42.7,30.2,-45C30.3,-47.4,30.4,-49.7,30.5,-52C30.6,-54.4,30.7,-56.7,30.8,-59C31,-61.3,31.1,-63.7,31.2,-66C31.3,-68.3,31.4,-70.7,31.5,-73C31.6,-75.3,31.7,-77.7,31.8,-80C31.9,-82.3,32,-84.7,32.1,-87C32.2,-89.3,32.3,-91.6,32.4,-94C32.5,-96.3,32.6,-98.6,32.7,-101C32.8,-103.3,32.9,-105.6,33,-108C33.1,-110.3,33.2,-112.6,33.3,-114.9C33.5,-117.3,33.6,-119.6,33.7,-121.9C33.8,-124.3,33.9,-126.6,34,-128.9C34.1,-131.3,34.3,-133.6,34.4,-135.9C34.5,-138.2,34.6,-140.6,34.7,-142.9C34.9,-145.2,35,-147.6,35.1,-149.9C35.3,-152.2,35.4,-154.5,35.5,-156.9C35.6,-159.2,35.8,-161.5,35.9,-163.9C36.1,-166.2,36.2,-168.5,36.3,-170.8C36.5,-173.2,36.6,-175.5,36.8,-177.8C36.9,-180.1,37.1,-182.5,37.2,-184.8C37.4,-187.1,37.5,-189.4,37.7,-191.8C37.8,-194.1,38,-196.4,38.2,-198.7C38.3,-201.1,38.5,-203.4,38.7,-205.7C38.9,-208,39.1,-210.4,39.2,-212.7C39.4,-215,39.6,-217.3,39.8,-219.6C40,-222,40.2,-224.3,40.4,-226.6C40.6,-228.9,40.8,-231.2,41,-233.6C41.2,-235.9,41.5,-238.2,41.7,-240.5C41.9,-242.8,42.1,-245.2,42.4,-247.5C42.6,-249.8,42.9,-252.1,43.1,-254.4C43.4,-256.7,43.6,-259,43.9,-261.3C44.1,-263.7,44.4,-266,44.7,-268.3C45,-270.6,45.3,-272.9,45.6,-275.2C45.9,-277.5,46.2,-279.8,46.5,-282.1C46.8,-284.4,47.1,-286.7,47.5,-289C47.8,-291.3,48.1,-293.6,48.5,-295.9C48.8,-298.2,49.2,-300.5,49.6,-302.8C50,-305.1,50.4,-307.4,50.8,-309.6C51.2,-311.9,51.6,-314.2,52,-316.5C52.5,-318.8,52.9,-321,53.4,-323.3C53.9,-325.6,54.3,-327.8,54.8,-330.1C55.3,-332.4,55.9,-334.6,56.4,-336.9C56.9,-339.1,57.5,-341.4,58.1,-343.6C58.6,-345.8,59.3,-348.1,59.9,-350.3z"/>
    <path stroke="#f56582" fill="none" ed:parentid="915" stroke-linecap="round" id="109" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2631.56,1095.06)" ed:tosuperid="108" d="M-16.5,116.2C6.6,116.2,-16.5,-116.2,16.5,-116.2"/>
    <path stroke="#f56582" fill="none" ed:parentid="915" stroke-linecap="round" id="115" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2631.56,1338.5)" ed:tosuperid="114" d="M-16.5,-127.3C6.6,-127.3,-16.5,127.3,16.5,127.3"/>
    <path stroke="#f56582" fill="none" ed:parentid="915" stroke-linecap="round" id="117" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2631.56,1547.88)" ed:tosuperid="116" d="M-16.5,-336.6C6.6,-336.6,-16.5,336.6,16.5,336.6"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="393" stroke-linecap="round" id="123" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1572.82,1626.44)" ed:tosuperid="122" d="M16.5,-31.7C-3.5,-31.7,9.2,31.7,-16.5,31.7"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="393" stroke-linecap="round" id="127" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1572.82,1557.63)" ed:tosuperid="126" d="M16.5,37.1C-4.4,37.1,11.3,-37.1,-16.5,-37.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="393" stroke-linecap="round" id="129" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1572.82,1589.81)" ed:tosuperid="128" d="M16.5,4.9C2.1,4.9,-3.9,-4.9,-16.5,-4.9"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="391" stroke-linecap="round" id="143" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1572.82,777.25)" ed:tosuperid="142" d="M16.5,0C3.3,0,-6.6,0,-16.5,0"/>
    <path stroke="#ffc000" fill="none" ed:parentid="156" stroke-linecap="round" id="159" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1560.82,1853.31)" ed:tosuperid="160" d="M16.5,-35.4C-4.1,-35.4,10.7,35.4,-16.5,35.4"/>
    <path stroke="#ffc000" fill="none" ed:parentid="156" stroke-linecap="round" id="161" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1560.82,1806.19)" ed:tosuperid="162" d="M16.5,11.7C0.6,11.7,-0.3,-11.7,-16.5,-11.7"/>
    <path stroke="#ffc000" fill="none" ed:parentid="164" stroke-linecap="round" id="165" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1560.82,2267.19)" ed:tosuperid="166" d="M16.5,-30.1C-3.2,-30.1,8.6,30.1,-16.5,30.1"/>
    <path stroke="#ffc000" fill="none" ed:parentid="164" stroke-linecap="round" id="167" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1560.82,2119.13)" ed:tosuperid="168" d="M16.5,118C-6.6,118,16.5,-118,-16.5,-118"/>
    <path stroke="#ffc000" fill="none" ed:parentid="164" stroke-linecap="round" id="169" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1560.82,2088.56)" ed:tosuperid="163" d="M16.5,148.6C-6.6,148.6,16.5,-148.6,-16.5,-148.6"/>
    <path stroke="#ffc000" fill="none" ed:parentid="104" stroke-linecap="round" id="177" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1678.82,1974.69)" ed:tosuperid="156" d="M16.5,156.8C-6.6,156.8,16.5,-156.8,-16.5,-156.8"/>
    <path stroke="#ffc000" fill="none" ed:parentid="104" stroke-linecap="round" id="178" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1678.82,2184.31)" ed:tosuperid="164" d="M16.5,-52.8C-6.1,-52.8,15.4,52.8,-16.5,52.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="180" stroke-linecap="round" id="181" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2848.56,381.38)" ed:tosuperid="182" d="M-16.5,-10.9C-0.8,-10.9,0.7,10.9,16.5,10.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="180" stroke-linecap="round" id="183" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2848.56,369.5)" ed:tosuperid="184" d="M-16.5,1C-3.3,1,6.6,-1,16.5,-1"/>
    <path stroke="#f56582" fill="none" ed:parentid="180" stroke-linecap="round" id="185" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2848.56,357.63)" ed:tosuperid="186" d="M-16.5,12.9C-0.3,12.9,-0.4,-12.9,16.5,-12.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="188" stroke-linecap="round" id="189" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2848.56,452.63)" ed:tosuperid="190" d="M-16.5,-10.9C-0.8,-10.9,0.7,10.9,16.5,10.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="188" stroke-linecap="round" id="191" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2848.56,440.75)" ed:tosuperid="192" d="M-16.5,1C-3.3,1,6.6,-1,16.5,-1"/>
    <path stroke="#f56582" fill="none" ed:parentid="188" stroke-linecap="round" id="193" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2848.56,428.88)" ed:tosuperid="187" d="M-16.5,12.9C-0.3,12.9,-0.4,-12.9,16.5,-12.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="106" stroke-linecap="round" id="201" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2730.56,437.19)" ed:tosuperid="180" d="M-16.5,66.7C6.6,66.7,-16.5,-66.7,16.5,-66.7"/>
    <path stroke="#f56582" fill="none" ed:parentid="106" stroke-linecap="round" id="202" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2730.56,472.81)" ed:tosuperid="188" d="M-16.5,31.1C3.4,31.1,-9,-31.1,16.5,-31.1"/>
    <path stroke="#f56582" fill="none" ed:parentid="108" stroke-linecap="round" id="225" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2730.56,918.13)" ed:tosuperid="204" d="M-16.5,60.8C6.5,60.8,-16.3,-60.8,16.5,-60.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="108" stroke-linecap="round" id="226" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2730.56,983.44)" ed:tosuperid="212" d="M-16.5,-4.6C-2.2,-4.6,4.1,4.6,16.5,4.6"/>
    <path stroke="#f56582" fill="none" ed:parentid="114" stroke-linecap="round" id="297" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2802.56,1422.81)" ed:tosuperid="276" d="M-16.5,42.9C5.1,42.9,-13.1,-42.9,16.5,-42.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="114" stroke-linecap="round" id="298" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2802.56,1496.06)" ed:tosuperid="284" d="M-16.5,-30.3C3.2,-30.3,-8.7,30.3,16.5,30.3"/>
    <path stroke="#f56582" fill="none" ed:parentid="116" stroke-linecap="round" id="309" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2814.56,1884.63)" ed:tosuperid="310" d="M-16.5,-0.1C-3.3,-0.1,6.6,0.1,16.5,0.1"/>
    <path stroke="#f56582" fill="none" ed:parentid="116" stroke-linecap="round" id="311" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2814.56,1848)" ed:tosuperid="312" d="M-16.5,36.5C4.3,36.5,-11,-36.5,16.5,-36.5"/>
    <path stroke="#f56582" fill="none" ed:parentid="116" stroke-linecap="round" id="313" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2814.56,1829.19)" ed:tosuperid="307" d="M-16.5,55.3C6.3,55.3,-15.8,-55.3,16.5,-55.3"/>
    <path stroke="#f56582" fill="none" ed:parentid="116" stroke-linecap="round" id="321" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2814.56,1769.31)" ed:tosuperid="300" d="M-16.5,115.2C6.6,115.2,-16.5,-115.2,16.5,-115.2"/>
    <path stroke="#f56582" fill="none" ed:parentid="116" stroke-linecap="round" id="322" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2814.56,1805.44)" ed:tosuperid="308" d="M-16.5,79.1C6.6,79.1,-16.5,-79.1,16.5,-79.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="102" stroke-linecap="round" id="390" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1678.82,453.31)" ed:tosuperid="389" d="M16.5,403.1C-6.6,403.1,16.5,-403.1,-16.5,-403.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="102" stroke-linecap="round" id="392" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1678.82,816.81)" ed:tosuperid="391" d="M16.5,39.6C-4.7,39.6,12.1,-39.6,-16.5,-39.6"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="102" stroke-linecap="round" id="394" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1678.82,1225.56)" ed:tosuperid="393" d="M16.5,-369.2C-6.6,-369.2,16.5,369.2,-16.5,369.2"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="389" stroke-linecap="round" id="396" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1572.82,49.25)" ed:tosuperid="395" d="M16.5,1C3.3,1,-6.6,-1,-16.5,-1"/>
    <path stroke="#ffc000" fill="none" ed:parentid="162" stroke-linecap="round" id="405" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1440.07,1795)" ed:tosuperid="397" d="M16.5,-0.5C3.3,-0.5,-6.6,0.5,-16.5,0.5"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="395" stroke-linecap="round" id="432" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1397.75,53)" ed:tosuperid="411" d="M16.5,-4.8C2.2,-4.8,-4,4.8,-16.5,4.8"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="476" stroke-linecap="round" id="473" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1398.82,1500.69)" ed:tosuperid="445" d="M16.5,6.9C1.7,6.9,-2.8,-6.9,-16.5,-6.9"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="476" stroke-linecap="round" id="475" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1398.82,1513.56)" ed:tosuperid="474" d="M16.5,-5.9C1.9,-5.9,-3.3,5.9,-16.5,5.9"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="126" stroke-linecap="round" id="477" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1473.82,1514.06)" ed:tosuperid="476" d="M16.5,6.4C1.8,6.4,-3.1,-6.4,-16.5,-6.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="445" stroke-linecap="round" id="479" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1309.8,1494.25)" ed:tosuperid="478" d="M16.5,-0.5C3.3,-0.5,-6.6,0.5,-16.5,0.5"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="474" stroke-linecap="round" id="481" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1309.8,1520)" ed:tosuperid="480" d="M16.5,-0.5C3.3,-0.5,-6.6,0.5,-16.5,0.5"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="126" stroke-linecap="round" id="483" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1473.82,1533.38)" ed:tosuperid="482" d="M16.5,-12.9C0.3,-12.9,0.4,12.9,-16.5,12.9"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="482" stroke-linecap="round" id="485" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1398.82,1545.75)" ed:tosuperid="484" d="M16.5,0.5C3.3,0.5,-6.6,-0.5,-16.5,-0.5"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="128" stroke-linecap="round" id="487" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1473.82,1578.44)" ed:tosuperid="486" d="M16.5,6.4C1.8,6.4,-3.1,-6.4,-16.5,-6.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="486" stroke-linecap="round" id="489" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1374.82,1571.5)" ed:tosuperid="488" d="M16.5,0.5C3.3,0.5,-6.6,-0.5,-16.5,-0.5"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="128" stroke-linecap="round" id="491" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1473.82,1591.31)" ed:tosuperid="490" d="M16.5,-6.4C1.8,-6.4,-3.1,6.4,-16.5,6.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="490" stroke-linecap="round" id="493" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1350.82,1597.25)" ed:tosuperid="492" d="M16.5,0.5C3.3,0.5,-6.6,-0.5,-16.5,-0.5"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="142" stroke-linecap="round" id="495" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1454.82,739.13)" ed:tosuperid="494" d="M16.5,38.1C-4.5,38.1,11.6,-38.1,-16.5,-38.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="494" stroke-linecap="round" id="497" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1300.82,504.56)" ed:tosuperid="496" d="M16.5,196.4C-6.6,196.4,16.5,-196.4,-16.5,-196.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="494" stroke-linecap="round" id="499" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1300.82,617.38)" ed:tosuperid="498" d="M16.5,83.6C-6.6,83.6,16.5,-83.6,-16.5,-83.6"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="494" stroke-linecap="round" id="501" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1300.82,813.31)" ed:tosuperid="500" d="M16.5,-112.3C-6.6,-112.3,16.5,112.3,-16.5,112.3"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="494" stroke-linecap="round" id="503" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1300.82,878.63)" ed:tosuperid="502" d="M16.5,-177.6C-6.6,-177.6,16.5,177.6,-16.5,177.6"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="494" stroke-linecap="round" id="505" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1300.82,926.13)" ed:tosuperid="504" d="M16.5,-225.1C-6.6,-225.1,16.5,225.1,-16.5,225.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="142" stroke-linecap="round" id="507" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1454.82,454.13)" ed:tosuperid="506" d="M16.5,323.1C-6.6,323.1,16.5,-323.1,-16.5,-323.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="122" stroke-linecap="round" id="511" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1473.82,1658.13)" ed:tosuperid="510" d="M16.5,0C3.3,0,-6.6,0,-16.5,0"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="510" stroke-linecap="round" id="513" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1350.82,1646.25)" ed:tosuperid="512" d="M16.5,11.9C0.5,11.9,-0.2,-11.9,-16.5,-11.9"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="510" stroke-linecap="round" id="515" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1350.82,1670)" ed:tosuperid="514" d="M16.5,-11.9C0.5,-11.9,-0.2,11.9,-16.5,11.9"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="512" stroke-linecap="round" id="517" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1275.82,1639.81)" ed:tosuperid="516" d="M16.5,-5.4C2,-5.4,-3.6,5.4,-16.5,5.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="512" stroke-linecap="round" id="519" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1275.82,1627.94)" ed:tosuperid="518" d="M16.5,6.4C1.8,6.4,-3.1,-6.4,-16.5,-6.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="514" stroke-linecap="round" id="521" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1275.82,1675.44)" ed:tosuperid="520" d="M16.5,6.4C1.8,6.4,-3.1,-6.4,-16.5,-6.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="514" stroke-linecap="round" id="523" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1275.82,1687.31)" ed:tosuperid="522" d="M16.5,-5.4C2,-5.4,-3.6,5.4,-16.5,5.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="496" stroke-linecap="round" id="525" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,254.19)" ed:tosuperid="524" d="M16.5,53.9C-6.2,53.9,15.6,-53.9,-16.5,-53.9"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="496" stroke-linecap="round" id="527" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,266.06)" ed:tosuperid="526" d="M16.5,42.1C-5,42.1,12.9,-42.1,-16.5,-42.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="496" stroke-linecap="round" id="529" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,277.94)" ed:tosuperid="528" d="M16.5,30.2C-3.2,30.2,8.6,-30.2,-16.5,-30.2"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="496" stroke-linecap="round" id="531" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,289.81)" ed:tosuperid="530" d="M16.5,18.3C-0.9,18.3,3.2,-18.3,-16.5,-18.3"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="496" stroke-linecap="round" id="533" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,301.69)" ed:tosuperid="532" d="M16.5,6.4C1.8,6.4,-3.1,-6.4,-16.5,-6.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="496" stroke-linecap="round" id="535" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,313.56)" ed:tosuperid="534" d="M16.5,-5.4C2,-5.4,-3.6,5.4,-16.5,5.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="496" stroke-linecap="round" id="537" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,325.44)" ed:tosuperid="536" d="M16.5,-17.3C-0.7,-17.3,2.7,17.3,-16.5,17.3"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="496" stroke-linecap="round" id="539" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,337.31)" ed:tosuperid="538" d="M16.5,-29.2C-3,-29.2,8.2,29.2,-16.5,29.2"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="496" stroke-linecap="round" id="541" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,349.19)" ed:tosuperid="540" d="M16.5,-41.1C-4.9,-41.1,12.5,41.1,-16.5,41.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="496" stroke-linecap="round" id="543" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,361.06)" ed:tosuperid="542" d="M16.5,-52.9C-6.1,-52.9,15.4,52.9,-16.5,52.9"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="498" stroke-linecap="round" id="545" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,485.75)" ed:tosuperid="544" d="M16.5,48C-5.7,48,14.4,-48,-16.5,-48"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="498" stroke-linecap="round" id="547" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,497.63)" ed:tosuperid="546" d="M16.5,36.1C-4.2,36.1,10.9,-36.1,-16.5,-36.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="498" stroke-linecap="round" id="549" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,509.5)" ed:tosuperid="548" d="M16.5,24.3C-2.1,24.3,6,-24.3,-16.5,-24.3"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="498" stroke-linecap="round" id="551" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,521.38)" ed:tosuperid="550" d="M16.5,12.4C0.4,12.4,0.1,-12.4,-16.5,-12.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="498" stroke-linecap="round" id="553" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,533.25)" ed:tosuperid="552" d="M16.5,0.5C3.3,0.5,-6.6,-0.5,-16.5,-0.5"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="498" stroke-linecap="round" id="555" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,545.13)" ed:tosuperid="554" d="M16.5,-11.4C0.7,-11.4,-0.4,11.4,-16.5,11.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="498" stroke-linecap="round" id="557" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,557)" ed:tosuperid="556" d="M16.5,-23.3C-1.9,-23.3,5.5,23.3,-16.5,23.3"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="498" stroke-linecap="round" id="559" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,568.88)" ed:tosuperid="558" d="M16.5,-35.1C-4,-35.1,10.5,35.1,-16.5,35.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="498" stroke-linecap="round" id="561" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,580.75)" ed:tosuperid="560" d="M16.5,-47C-5.6,-47,14.2,47,-16.5,47"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="494" stroke-linecap="round" id="563" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1300.82,718.31)" ed:tosuperid="562" d="M16.5,-17.3C-0.7,-17.3,2.7,17.3,-16.5,17.3"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="562" stroke-linecap="round" id="565" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,693.56)" ed:tosuperid="564" d="M16.5,42.1C-5,42.1,12.9,-42.1,-16.5,-42.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="562" stroke-linecap="round" id="567" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,705.44)" ed:tosuperid="566" d="M16.5,30.2C-3.2,30.2,8.6,-30.2,-16.5,-30.2"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="562" stroke-linecap="round" id="569" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,717.31)" ed:tosuperid="568" d="M16.5,18.3C-0.9,18.3,3.2,-18.3,-16.5,-18.3"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="562" stroke-linecap="round" id="571" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,729.19)" ed:tosuperid="570" d="M16.5,6.4C1.8,6.4,-3.1,-6.4,-16.5,-6.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="562" stroke-linecap="round" id="573" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,741.06)" ed:tosuperid="572" d="M16.5,-5.4C2,-5.4,-3.6,5.4,-16.5,5.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="562" stroke-linecap="round" id="575" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,752.94)" ed:tosuperid="574" d="M16.5,-17.3C-0.7,-17.3,2.7,17.3,-16.5,17.3"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="562" stroke-linecap="round" id="577" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,764.81)" ed:tosuperid="576" d="M16.5,-29.2C-3,-29.2,8.2,29.2,-16.5,29.2"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="562" stroke-linecap="round" id="579" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,776.69)" ed:tosuperid="578" d="M16.5,-41.1C-4.9,-41.1,12.5,41.1,-16.5,41.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="500" stroke-linecap="round" id="581" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,883.56)" ed:tosuperid="580" d="M16.5,42.1C-5,42.1,12.9,-42.1,-16.5,-42.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="500" stroke-linecap="round" id="583" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,895.44)" ed:tosuperid="582" d="M16.5,30.2C-3.2,30.2,8.6,-30.2,-16.5,-30.2"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="500" stroke-linecap="round" id="585" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,907.31)" ed:tosuperid="584" d="M16.5,18.3C-0.9,18.3,3.2,-18.3,-16.5,-18.3"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="500" stroke-linecap="round" id="587" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,919.19)" ed:tosuperid="586" d="M16.5,6.4C1.8,6.4,-3.1,-6.4,-16.5,-6.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="500" stroke-linecap="round" id="589" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,931.06)" ed:tosuperid="588" d="M16.5,-5.4C2,-5.4,-3.6,5.4,-16.5,5.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="500" stroke-linecap="round" id="591" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,942.94)" ed:tosuperid="590" d="M16.5,-17.3C-0.7,-17.3,2.7,17.3,-16.5,17.3"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="500" stroke-linecap="round" id="593" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,954.81)" ed:tosuperid="592" d="M16.5,-29.2C-3,-29.2,8.2,29.2,-16.5,29.2"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="500" stroke-linecap="round" id="595" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1201.82,966.69)" ed:tosuperid="594" d="M16.5,-41.1C-4.9,-41.1,12.5,41.1,-16.5,41.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="502" stroke-linecap="round" id="597" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1141.82,1043.88)" ed:tosuperid="596" d="M16.5,12.4C0.4,12.4,0.1,-12.4,-16.5,-12.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="502" stroke-linecap="round" id="599" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1141.82,1055.75)" ed:tosuperid="598" d="M16.5,0.5C3.3,0.5,-6.6,-0.5,-16.5,-0.5"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="502" stroke-linecap="round" id="601" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1141.82,1067.63)" ed:tosuperid="600" d="M16.5,-11.4C0.7,-11.4,-0.4,11.4,-16.5,11.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="504" stroke-linecap="round" id="603" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1177.82,1127)" ed:tosuperid="602" d="M16.5,24.3C-2.1,24.3,6,-24.3,-16.5,-24.3"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="504" stroke-linecap="round" id="605" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1177.82,1138.88)" ed:tosuperid="604" d="M16.5,12.4C0.4,12.4,0.1,-12.4,-16.5,-12.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="504" stroke-linecap="round" id="607" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1177.82,1150.75)" ed:tosuperid="606" d="M16.5,0.5C3.3,0.5,-6.6,-0.5,-16.5,-0.5"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="504" stroke-linecap="round" id="609" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1177.82,1162.63)" ed:tosuperid="608" d="M16.5,-11.4C0.7,-11.4,-0.4,11.4,-16.5,11.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="504" stroke-linecap="round" id="612" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1177.82,1174.5)" ed:tosuperid="611" d="M16.5,-23.3C-1.9,-23.3,5.5,23.3,-16.5,23.3"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="506" stroke-linecap="round" id="614" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1348.82,106.25)" ed:tosuperid="613" d="M16.5,24.8C-2.2,24.8,6.2,-24.8,-16.5,-24.8"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="506" stroke-linecap="round" id="616" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1348.82,118.13)" ed:tosuperid="615" d="M16.5,12.9C0.3,12.9,0.4,-12.9,-16.5,-12.9"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="506" stroke-linecap="round" id="618" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1348.82,130)" ed:tosuperid="617" d="M16.5,1C3.3,1,-6.6,-1,-16.5,-1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="506" stroke-linecap="round" id="620" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1348.82,141.88)" ed:tosuperid="619" d="M16.5,-10.9C0.8,-10.9,-0.7,10.9,-16.5,10.9"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="506" stroke-linecap="round" id="622" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1348.82,153.75)" ed:tosuperid="621" d="M16.5,-22.8C-1.8,-22.8,5.3,22.8,-16.5,22.8"/>
    <path stroke="#ffc000" fill="none" ed:parentid="397" stroke-linecap="round" id="624" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1353.07,1774)" ed:tosuperid="623" d="M16.5,21.5C-1.5,21.5,4.7,-21.5,-16.5,-21.5"/>
    <path stroke="#ffc000" fill="none" ed:parentid="160" stroke-linecap="round" id="626" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1446.44,1889.25)" ed:tosuperid="625" d="M16.5,-0.5C3.3,-0.5,-6.6,0.5,-16.5,0.5"/>
    <path stroke="#ffc000" fill="none" ed:parentid="625" stroke-linecap="round" id="628" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1359.44,1894)" ed:tosuperid="627" d="M16.5,-4.3C2.3,-4.3,-4.3,4.3,-16.5,4.3"/>
    <path stroke="#ffc000" fill="none" ed:parentid="163" stroke-linecap="round" id="630" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1449.82,1948)" ed:tosuperid="629" d="M16.5,-8C1.4,-8,-2.2,8,-16.5,8"/>
    <path stroke="#ffc000" fill="none" ed:parentid="168" stroke-linecap="round" id="632" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1449.82,1994.69)" ed:tosuperid="631" d="M16.5,6.4C1.8,6.4,-3.1,-6.4,-16.5,-6.4"/>
    <path stroke="#ffc000" fill="none" ed:parentid="631" stroke-linecap="round" id="634" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1350.82,1991.5)" ed:tosuperid="633" d="M16.5,-3.3C2.5,-3.3,-4.8,3.3,-16.5,3.3"/>
    <path stroke="#ffc000" fill="none" ed:parentid="168" stroke-linecap="round" id="636" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1449.82,2010.81)" ed:tosuperid="635" d="M16.5,-9.7C1,-9.7,-1.3,9.7,-16.5,9.7"/>
    <path stroke="#ffc000" fill="none" ed:parentid="635" stroke-linecap="round" id="638" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1350.82,2020)" ed:tosuperid="637" d="M16.5,0.5C3.3,0.5,-6.6,-0.5,-16.5,-0.5"/>
    <path stroke="#ffc000" fill="none" ed:parentid="166" stroke-linecap="round" id="640" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1449.82,2297.25)" ed:tosuperid="639" d="M16.5,0C3.3,0,-6.6,0,-16.5,0"/>
    <path stroke="#ffc000" fill="none" ed:parentid="639" stroke-linecap="round" id="642" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1362.82,2171.25)" ed:tosuperid="641" d="M16.5,126C-6.6,126,16.5,-126,-16.5,-126"/>
    <path stroke="#ffc000" fill="none" ed:parentid="641" stroke-linecap="round" id="648" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1195.1,2045.75)" ed:tosuperid="647" d="M16.5,-0.5C3.3,-0.5,-6.6,0.5,-16.5,0.5"/>
    <path stroke="#ffc000" fill="none" ed:parentid="639" stroke-linecap="round" id="650" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1362.82,2184.13)" ed:tosuperid="649" d="M16.5,113.1C-6.6,113.1,16.5,-113.1,-16.5,-113.1"/>
    <path stroke="#ffc000" fill="none" ed:parentid="649" stroke-linecap="round" id="652" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1236.72,2071.5)" ed:tosuperid="651" d="M16.5,-0.5C3.3,-0.5,-6.6,0.5,-16.5,0.5"/>
    <path stroke="#ffc000" fill="none" ed:parentid="639" stroke-linecap="round" id="654" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1362.82,2279.63)" ed:tosuperid="653" d="M16.5,17.6C-0.7,17.6,2.8,-17.6,-16.5,-17.6"/>
    <path stroke="#ffc000" fill="none" ed:parentid="653" stroke-linecap="round" id="656" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1210.19,2262.5)" ed:tosuperid="655" d="M16.5,-0.5C3.3,-0.5,-6.6,0.5,-16.5,0.5"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="660" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2179.38)" ed:tosuperid="659" d="M16.5,83.6C-6.6,83.6,16.5,-83.6,-16.5,-83.6"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="662" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2191.25)" ed:tosuperid="661" d="M16.5,71.8C-6.6,71.8,16.5,-71.8,-16.5,-71.8"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="664" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2203.13)" ed:tosuperid="663" d="M16.5,59.9C-6.5,59.9,16.3,-59.9,-16.5,-59.9"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="666" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2215)" ed:tosuperid="665" d="M16.5,48C-5.7,48,14.4,-48,-16.5,-48"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="668" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2226.88)" ed:tosuperid="667" d="M16.5,36.1C-4.2,36.1,10.9,-36.1,-16.5,-36.1"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="670" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2238.75)" ed:tosuperid="669" d="M16.5,24.3C-2.1,24.3,6,-24.3,-16.5,-24.3"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="672" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2250.63)" ed:tosuperid="671" d="M16.5,12.4C0.4,12.4,0.1,-12.4,-16.5,-12.4"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="674" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2262.5)" ed:tosuperid="673" d="M16.5,0.5C3.3,0.5,-6.6,-0.5,-16.5,-0.5"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="676" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2274.38)" ed:tosuperid="675" d="M16.5,-11.4C0.7,-11.4,-0.4,11.4,-16.5,11.4"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="678" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2286.25)" ed:tosuperid="677" d="M16.5,-23.3C-1.9,-23.3,5.5,23.3,-16.5,23.3"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="680" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2298.13)" ed:tosuperid="679" d="M16.5,-35.1C-4,-35.1,10.5,35.1,-16.5,35.1"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="682" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2310)" ed:tosuperid="681" d="M16.5,-47C-5.6,-47,14.2,47,-16.5,47"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="684" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2321.88)" ed:tosuperid="683" d="M16.5,-58.9C-6.5,-58.9,16.2,58.9,-16.5,58.9"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="686" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2333.75)" ed:tosuperid="685" d="M16.5,-70.8C-6.6,-70.8,16.5,70.8,-16.5,70.8"/>
    <path stroke="#ffc000" fill="none" ed:parentid="655" stroke-linecap="round" id="688" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,987.82,2345.63)" ed:tosuperid="687" d="M16.5,-82.6C-6.6,-82.6,16.5,82.6,-16.5,82.6"/>
    <path stroke="#ffc000" fill="none" ed:parentid="639" stroke-linecap="round" id="690" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1362.82,2375.13)" ed:tosuperid="689" d="M16.5,-77.9C-6.6,-77.9,16.5,77.9,-16.5,77.9"/>
    <path stroke="#ffc000" fill="none" ed:parentid="689" stroke-linecap="round" id="692" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1203.82,2453.5)" ed:tosuperid="691" d="M16.5,-0.5C3.3,-0.5,-6.6,0.5,-16.5,0.5"/>
    <path stroke="#ffc000" fill="none" ed:parentid="397" stroke-linecap="round" id="694" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1353.07,1806.19)" ed:tosuperid="693" d="M16.5,-10.7C0.8,-10.7,-0.8,10.7,-16.5,10.7"/>
    <path stroke="#ffc000" fill="none" ed:parentid="693" stroke-linecap="round" id="696" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1254.07,1797.56)" ed:tosuperid="695" d="M16.5,19.3C-1.1,19.3,3.6,-19.3,-16.5,-19.3"/>
    <path stroke="#ffc000" fill="none" ed:parentid="695" stroke-linecap="round" id="698" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1179.07,1778.25)" ed:tosuperid="697" d="M16.5,0C3.3,0,-6.6,0,-16.5,0"/>
    <path stroke="#ffc000" fill="none" ed:parentid="693" stroke-linecap="round" id="700" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1254.07,1810.44)" ed:tosuperid="699" d="M16.5,6.4C1.8,6.4,-3.1,-6.4,-16.5,-6.4"/>
    <path stroke="#ffc000" fill="none" ed:parentid="699" stroke-linecap="round" id="702" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1179.07,1804)" ed:tosuperid="701" d="M16.5,0C3.3,0,-6.6,0,-16.5,0"/>
    <path stroke="#ffc000" fill="none" ed:parentid="693" stroke-linecap="round" id="704" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1254.07,1829.25)" ed:tosuperid="703" d="M16.5,-12.4C0.4,-12.4,0.1,12.4,-16.5,12.4"/>
    <path stroke="#ffc000" fill="none" ed:parentid="703" stroke-linecap="round" id="706" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1185.13,1841.63)" ed:tosuperid="705" d="M16.5,0C3.3,0,-6.6,0,-16.5,0"/>
    <path stroke="#ffc000" fill="none" ed:parentid="705" stroke-linecap="round" id="708" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,993.32,1835.19)" ed:tosuperid="707" d="M16.5,6.4C1.8,6.4,-3.1,-6.4,-16.5,-6.4"/>
    <path stroke="#ffc000" fill="none" ed:parentid="707" stroke-linecap="round" id="710" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,918.5,1829.25)" ed:tosuperid="709" d="M16.5,-0.5C3.3,-0.5,-6.6,0.5,-16.5,0.5"/>
    <path stroke="#ffc000" fill="none" ed:parentid="705" stroke-linecap="round" id="712" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,993.32,1848.06)" ed:tosuperid="711" d="M16.5,-6.4C1.8,-6.4,-3.1,6.4,-16.5,6.4"/>
    <path stroke="#ffc000" fill="none" ed:parentid="711" stroke-linecap="round" id="714" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,831.6,1855)" ed:tosuperid="713" d="M16.5,-0.5C3.3,-0.5,-6.6,0.5,-16.5,0.5"/>
    <path stroke="#ffc000" fill="none" ed:parentid="639" stroke-linecap="round" id="716" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1362.82,2392.25)" ed:tosuperid="715" d="M16.5,-95C-6.6,-95,16.5,95,-16.5,95"/>
    <path stroke="#ffc000" fill="none" ed:parentid="715" stroke-linecap="round" id="718" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1237.94,2492)" ed:tosuperid="717" d="M16.5,-4.8C2.2,-4.8,-4,4.8,-16.5,4.8"/>
    <path stroke="#ffc000" fill="none" ed:parentid="639" stroke-linecap="round" id="720" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1362.82,2409.38)" ed:tosuperid="719" d="M16.5,-112.1C-6.6,-112.1,16.5,112.1,-16.5,112.1"/>
    <path stroke="#ffc000" fill="none" ed:parentid="719" stroke-linecap="round" id="722" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1231.61,2522)" ed:tosuperid="721" d="M16.5,-0.5C3.3,-0.5,-6.6,0.5,-16.5,0.5"/>
    <path stroke="#ffc000" fill="none" ed:parentid="639" stroke-linecap="round" id="724" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1362.82,2422.25)" ed:tosuperid="723" d="M16.5,-125C-6.6,-125,16.5,125,-16.5,125"/>
    <path stroke="#ffc000" fill="none" ed:parentid="723" stroke-linecap="round" id="726" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1268.04,2547.75)" ed:tosuperid="725" d="M16.5,-0.5C3.3,-0.5,-6.6,0.5,-16.5,0.5"/>
    <path stroke="#f56582" fill="none" ed:parentid="106" stroke-linecap="round" id="728" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2730.56,508.44)" ed:tosuperid="727" d="M-16.5,-4.6C-2.2,-4.6,4.1,4.6,16.5,4.6"/>
    <path stroke="#f56582" fill="none" ed:parentid="106" stroke-linecap="round" id="730" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2730.56,544.06)" ed:tosuperid="729" d="M-16.5,-40.2C4.8,-40.2,-12.3,40.2,16.5,40.2"/>
    <path stroke="#f56582" fill="none" ed:parentid="727" stroke-linecap="round" id="734" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2848.56,500.13)" ed:tosuperid="731" d="M-16.5,12.9C-0.3,12.9,-0.4,-12.9,16.5,-12.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="727" stroke-linecap="round" id="735" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2848.56,512)" ed:tosuperid="732" d="M-16.5,1C-3.3,1,6.6,-1,16.5,-1"/>
    <path stroke="#f56582" fill="none" ed:parentid="727" stroke-linecap="round" id="736" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2848.56,523.88)" ed:tosuperid="733" d="M-16.5,-10.9C-0.8,-10.9,0.7,10.9,16.5,10.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="729" stroke-linecap="round" id="740" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2848.56,571.38)" ed:tosuperid="737" d="M-16.5,12.9C-0.3,12.9,-0.4,-12.9,16.5,-12.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="729" stroke-linecap="round" id="741" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2848.56,583.25)" ed:tosuperid="738" d="M-16.5,1C-3.3,1,6.6,-1,16.5,-1"/>
    <path stroke="#f56582" fill="none" ed:parentid="729" stroke-linecap="round" id="742" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2848.56,595.13)" ed:tosuperid="739" d="M-16.5,-10.9C-0.8,-10.9,0.7,10.9,16.5,10.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="108" stroke-linecap="round" id="744" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2730.56,1042.81)" ed:tosuperid="743" d="M-16.5,-63.9C6.6,-63.9,-16.5,63.9,16.5,63.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="108" stroke-linecap="round" id="746" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2730.56,840.94)" ed:tosuperid="745" d="M-16.5,137.9C6.6,137.9,-16.5,-137.9,16.5,-137.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="108" stroke-linecap="round" id="748" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2730.56,1102.19)" ed:tosuperid="747" d="M-16.5,-123.3C6.6,-123.3,-16.5,123.3,16.5,123.3"/>
    <path stroke="#f56582" fill="none" ed:parentid="745" stroke-linecap="round" id="756" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,666.38)" ed:tosuperid="749" d="M-16.5,36.6C4.3,36.6,-11.1,-36.6,16.5,-36.6"/>
    <path stroke="#f56582" fill="none" ed:parentid="745" stroke-linecap="round" id="757" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,678.25)" ed:tosuperid="750" d="M-16.5,24.8C2.2,24.8,-6.2,-24.8,16.5,-24.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="745" stroke-linecap="round" id="758" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,690.13)" ed:tosuperid="751" d="M-16.5,12.9C-0.3,12.9,-0.4,-12.9,16.5,-12.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="745" stroke-linecap="round" id="759" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,702)" ed:tosuperid="752" d="M-16.5,1C-3.3,1,6.6,-1,16.5,-1"/>
    <path stroke="#f56582" fill="none" ed:parentid="745" stroke-linecap="round" id="760" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,713.88)" ed:tosuperid="753" d="M-16.5,-10.9C-0.8,-10.9,0.7,10.9,16.5,10.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="745" stroke-linecap="round" id="761" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,725.75)" ed:tosuperid="754" d="M-16.5,-22.8C1.8,-22.8,-5.3,22.8,16.5,22.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="745" stroke-linecap="round" id="762" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,737.63)" ed:tosuperid="755" d="M-16.5,-34.6C4,-34.6,-10.4,34.6,16.5,34.6"/>
    <path stroke="#f56582" fill="none" ed:parentid="204" stroke-linecap="round" id="769" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,826.69)" ed:tosuperid="763" d="M-16.5,30.7C3.3,30.7,-8.8,-30.7,16.5,-30.7"/>
    <path stroke="#f56582" fill="none" ed:parentid="204" stroke-linecap="round" id="770" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,838.56)" ed:tosuperid="764" d="M-16.5,18.8C1,18.8,-3.4,-18.8,16.5,-18.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="204" stroke-linecap="round" id="771" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,850.44)" ed:tosuperid="765" d="M-16.5,6.9C-1.7,6.9,2.8,-6.9,16.5,-6.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="204" stroke-linecap="round" id="772" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,862.31)" ed:tosuperid="766" d="M-16.5,-4.9C-2.1,-4.9,3.9,4.9,16.5,4.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="204" stroke-linecap="round" id="773" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,874.19)" ed:tosuperid="767" d="M-16.5,-16.8C0.6,-16.8,-2.4,16.8,16.5,16.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="204" stroke-linecap="round" id="774" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,886.06)" ed:tosuperid="768" d="M-16.5,-28.7C2.9,-28.7,-8,28.7,16.5,28.7"/>
    <path stroke="#f56582" fill="none" ed:parentid="212" stroke-linecap="round" id="780" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,963.25)" ed:tosuperid="775" d="M-16.5,24.8C2.2,24.8,-6.2,-24.8,16.5,-24.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="212" stroke-linecap="round" id="781" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,975.13)" ed:tosuperid="776" d="M-16.5,12.9C-0.3,12.9,-0.4,-12.9,16.5,-12.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="212" stroke-linecap="round" id="782" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,987)" ed:tosuperid="777" d="M-16.5,1C-3.3,1,6.6,-1,16.5,-1"/>
    <path stroke="#f56582" fill="none" ed:parentid="212" stroke-linecap="round" id="783" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,998.88)" ed:tosuperid="778" d="M-16.5,-10.9C-0.8,-10.9,0.7,10.9,16.5,10.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="212" stroke-linecap="round" id="784" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,1010.75)" ed:tosuperid="779" d="M-16.5,-22.8C1.8,-22.8,-5.3,22.8,16.5,22.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="743" stroke-linecap="round" id="790" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,1082)" ed:tosuperid="785" d="M-16.5,24.8C2.2,24.8,-6.2,-24.8,16.5,-24.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="743" stroke-linecap="round" id="791" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,1093.88)" ed:tosuperid="786" d="M-16.5,12.9C-0.3,12.9,-0.4,-12.9,16.5,-12.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="743" stroke-linecap="round" id="792" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,1105.75)" ed:tosuperid="787" d="M-16.5,1C-3.3,1,6.6,-1,16.5,-1"/>
    <path stroke="#f56582" fill="none" ed:parentid="743" stroke-linecap="round" id="793" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,1117.63)" ed:tosuperid="788" d="M-16.5,-10.9C-0.8,-10.9,0.7,10.9,16.5,10.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="743" stroke-linecap="round" id="794" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,1129.5)" ed:tosuperid="789" d="M-16.5,-22.8C1.8,-22.8,-5.3,22.8,16.5,22.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="747" stroke-linecap="round" id="800" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,1200.75)" ed:tosuperid="795" d="M-16.5,24.8C2.2,24.8,-6.2,-24.8,16.5,-24.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="747" stroke-linecap="round" id="801" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,1212.63)" ed:tosuperid="796" d="M-16.5,12.9C-0.3,12.9,-0.4,-12.9,16.5,-12.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="747" stroke-linecap="round" id="802" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,1224.5)" ed:tosuperid="797" d="M-16.5,1C-3.3,1,6.6,-1,16.5,-1"/>
    <path stroke="#f56582" fill="none" ed:parentid="747" stroke-linecap="round" id="803" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,1236.38)" ed:tosuperid="798" d="M-16.5,-10.9C-0.8,-10.9,0.7,10.9,16.5,10.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="747" stroke-linecap="round" id="804" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2884.56,1248.25)" ed:tosuperid="799" d="M-16.5,-22.8C1.8,-22.8,-5.3,22.8,16.5,22.8"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="827" stroke-linecap="round" id="808" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,722.48,675.5)" ed:tosuperid="807" d="M16.5,14.1C0,14.1,1,-14.1,-16.5,-14.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="807" stroke-linecap="round" id="810" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,605.73,661.38)" ed:tosuperid="809" d="M16.5,0C3.3,0,-6.6,0,-16.5,0"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="827" stroke-linecap="round" id="812" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,722.48,701.25)" ed:tosuperid="811" d="M16.5,-11.6C0.6,-11.6,-0.3,11.6,-16.5,11.6"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="811" stroke-linecap="round" id="814" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,635.48,700)" ed:tosuperid="813" d="M16.5,12.9C0.3,12.9,0.4,-12.9,-16.5,-12.9"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="811" stroke-linecap="round" id="816" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,635.48,712.88)" ed:tosuperid="815" d="M16.5,0C3.3,0,-6.6,0,-16.5,0"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="811" stroke-linecap="round" id="818" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,635.48,725.75)" ed:tosuperid="817" d="M16.5,-12.9C0.3,-12.9,0.4,12.9,-16.5,12.9"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="813" stroke-linecap="round" id="821" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,524.5,687.13)" ed:tosuperid="820" d="M16.5,0C3.3,0,-6.6,0,-16.5,0"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="815" stroke-linecap="round" id="823" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,526.45,712.88)" ed:tosuperid="822" d="M16.5,0C3.3,0,-6.6,0,-16.5,0"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="817" stroke-linecap="round" id="825" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,494.72,738.63)" ed:tosuperid="824" d="M16.5,0C3.3,0,-6.6,0,-16.5,0"/>
    <path stroke="#f56582" fill="none" ed:parentid="300" stroke-linecap="round" id="829" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2944.56,1635.81)" ed:tosuperid="828" d="M-16.5,18.3C0.9,18.3,-3.2,-18.3,16.5,-18.3"/>
    <path stroke="#f56582" fill="none" ed:parentid="300" stroke-linecap="round" id="831" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2944.56,1660.06)" ed:tosuperid="830" d="M-16.5,-5.9C-1.9,-5.9,3.3,5.9,16.5,5.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="310" stroke-linecap="round" id="833" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2971.62,1860)" ed:tosuperid="832" d="M-16.5,24.8C2.2,24.8,-6.2,-24.8,16.5,-24.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="310" stroke-linecap="round" id="835" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2971.62,1871.88)" ed:tosuperid="834" d="M-16.5,12.9C-0.3,12.9,-0.4,-12.9,16.5,-12.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="310" stroke-linecap="round" id="837" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2971.62,1883.75)" ed:tosuperid="836" d="M-16.5,1C-3.3,1,6.6,-1,16.5,-1"/>
    <path stroke="#f56582" fill="none" ed:parentid="310" stroke-linecap="round" id="839" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2971.62,1895.63)" ed:tosuperid="838" d="M-16.5,-10.9C-0.8,-10.9,0.7,10.9,16.5,10.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="310" stroke-linecap="round" id="841" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2971.62,1907.5)" ed:tosuperid="840" d="M-16.5,-22.8C1.8,-22.8,-5.3,22.8,16.5,22.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="116" stroke-linecap="round" id="843" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2814.56,1926.19)" ed:tosuperid="842" d="M-16.5,-41.7C5,-41.7,-12.7,41.7,16.5,41.7"/>
    <path stroke="#f56582" fill="none" ed:parentid="842" stroke-linecap="round" id="845" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2944.56,1960.94)" ed:tosuperid="844" d="M-16.5,6.9C-1.7,6.9,2.8,-6.9,16.5,-6.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="842" stroke-linecap="round" id="847" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2944.56,1972.81)" ed:tosuperid="846" d="M-16.5,-4.9C-2.1,-4.9,3.9,4.9,16.5,4.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="116" stroke-linecap="round" id="849" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2814.56,1967.75)" ed:tosuperid="848" d="M-16.5,-83.3C6.6,-83.3,-16.5,83.3,16.5,83.3"/>
    <path stroke="#f56582" fill="none" ed:parentid="848" stroke-linecap="round" id="851" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2944.56,2038.63)" ed:tosuperid="850" d="M-16.5,12.4C-0.4,12.4,-0.1,-12.4,16.5,-12.4"/>
    <path stroke="#f56582" fill="none" ed:parentid="850" stroke-linecap="round" id="853" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,3079.56,2013.88)" ed:tosuperid="852" d="M-16.5,12.4C-0.4,12.4,-0.1,-12.4,16.5,-12.4"/>
    <path stroke="#f56582" fill="none" ed:parentid="850" stroke-linecap="round" id="855" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,3079.56,2025.75)" ed:tosuperid="854" d="M-16.5,0.5C-3.3,0.5,6.6,-0.5,16.5,-0.5"/>
    <path stroke="#f56582" fill="none" ed:parentid="850" stroke-linecap="round" id="857" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,3079.56,2037.63)" ed:tosuperid="856" d="M-16.5,-11.4C-0.7,-11.4,0.4,11.4,16.5,11.4"/>
    <path stroke="#f56582" fill="none" ed:parentid="848" stroke-linecap="round" id="859" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2944.56,2068.31)" ed:tosuperid="858" d="M-16.5,-17.3C0.7,-17.3,-2.7,17.3,16.5,17.3"/>
    <path stroke="#f56582" fill="none" ed:parentid="858" stroke-linecap="round" id="861" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,3079.56,2079.19)" ed:tosuperid="860" d="M-16.5,6.4C-1.8,6.4,3.1,-6.4,16.5,-6.4"/>
    <path stroke="#f56582" fill="none" ed:parentid="858" stroke-linecap="round" id="863" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,3079.56,2091.06)" ed:tosuperid="862" d="M-16.5,-5.4C-2,-5.4,3.6,5.4,16.5,5.4"/>
    <path stroke="#f56582" fill="none" ed:parentid="276" stroke-linecap="round" id="865" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2956.56,1337.31)" ed:tosuperid="864" d="M-16.5,42.6C5.1,42.6,-13,-42.6,16.5,-42.6"/>
    <path stroke="#f56582" fill="none" ed:parentid="276" stroke-linecap="round" id="867" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2956.56,1349.19)" ed:tosuperid="866" d="M-16.5,30.7C3.3,30.7,-8.8,-30.7,16.5,-30.7"/>
    <path stroke="#f56582" fill="none" ed:parentid="276" stroke-linecap="round" id="869" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2956.56,1361.06)" ed:tosuperid="868" d="M-16.5,18.8C1,18.8,-3.4,-18.8,16.5,-18.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="276" stroke-linecap="round" id="871" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2956.56,1372.94)" ed:tosuperid="870" d="M-16.5,6.9C-1.7,6.9,2.8,-6.9,16.5,-6.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="276" stroke-linecap="round" id="873" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2956.56,1384.81)" ed:tosuperid="872" d="M-16.5,-4.9C-2.1,-4.9,3.9,4.9,16.5,4.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="276" stroke-linecap="round" id="875" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2956.56,1396.69)" ed:tosuperid="874" d="M-16.5,-16.8C0.6,-16.8,-2.4,16.8,16.5,16.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="276" stroke-linecap="round" id="877" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2956.56,1408.56)" ed:tosuperid="876" d="M-16.5,-28.7C2.9,-28.7,-8,28.7,16.5,28.7"/>
    <path stroke="#f56582" fill="none" ed:parentid="276" stroke-linecap="round" id="879" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2956.56,1420.44)" ed:tosuperid="878" d="M-16.5,-40.6C4.8,-40.6,-12.4,40.6,16.5,40.6"/>
    <path stroke="#f56582" fill="none" ed:parentid="284" stroke-linecap="round" id="881" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2932.56,1506.56)" ed:tosuperid="880" d="M-16.5,19.8C1.2,19.8,-3.9,-19.8,16.5,-19.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="284" stroke-linecap="round" id="883" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2932.56,1519.44)" ed:tosuperid="882" d="M-16.5,6.9C-1.7,6.9,2.8,-6.9,16.5,-6.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="284" stroke-linecap="round" id="885" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2932.56,1532.31)" ed:tosuperid="884" d="M-16.5,-5.9C-1.9,-5.9,3.3,5.9,16.5,5.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="284" stroke-linecap="round" id="887" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2932.56,1545.19)" ed:tosuperid="886" d="M-16.5,-18.8C1,-18.8,-3.4,18.8,16.5,18.8"/>
    <path stroke="#f56582" fill="none" ed:parentid="114" stroke-linecap="round" id="889" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2802.56,1528.75)" ed:tosuperid="888" d="M-16.5,-63C6.6,-63,-16.4,63,16.5,63"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="142" stroke-linecap="round" id="897" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1454.82,1001.38)" ed:tosuperid="896" d="M16.5,-224.1C-6.6,-224.1,16.5,224.1,-16.5,224.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="142" stroke-linecap="round" id="899" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1454.82,1069.19)" ed:tosuperid="898" d="M16.5,-291.9C-6.6,-291.9,16.5,291.9,-16.5,291.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="915" stroke-linecap="round" id="900" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2631.56,857.56)" ed:tosuperid="106" d="M-16.5,353.7C6.6,353.7,-16.5,-353.7,16.5,-353.7"/>
    <path fill="#f56582" stroke="#f56582" ed:parentid="101" stroke-linecap="round" id="939" stroke-linejoin="round" transform="matrix(1,0,0,1,2272.59,1247.69)" ed:tosuperid="915" d="M1.4,-2.3C-0.8,-1.2,-1.6,1,-0.7,2.7C0.2,4.4,2.5,5.1,4.7,3.9C6.7,2.7,8.8,1.6,10.8,0.5C12.8,-0.7,14.9,-1.8,16.9,-3C18.9,-4.1,21,-5.2,23,-6.3C25.1,-7.4,27.1,-8.5,29.1,-9.6C31.2,-10.7,33.3,-11.8,35.3,-12.8C37.4,-13.9,39.5,-14.9,41.5,-15.9C43.6,-17,45.7,-17.9,47.8,-18.9C49.9,-19.9,52,-20.8,54.2,-21.7C56.3,-22.6,58.4,-23.5,60.6,-24.3C62.8,-25.1,64.9,-25.9,67.1,-26.7C69.3,-27.4,71.5,-28.2,73.7,-28.8C75.9,-29.5,78.2,-30.1,80.4,-30.7C82.6,-31.3,84.9,-31.8,87.1,-32.3C89.4,-32.8,91.7,-33.3,94,-33.7C96.3,-34.1,98.6,-34.4,100.9,-34.7C103.1,-35,105.3,-35.2,107.8,-35.4C110.3,-35.6,113.1,-35.8,114.7,-35.9C116.4,-35.9,116.9,-35.9,117.4,-35.9C117.8,-35.9,118,-36.2,118,-36.4C118,-36.7,117.8,-36.9,117.4,-36.9C116.9,-37,116.4,-37,114.7,-37C113.1,-37,110.2,-37,107.7,-36.9C105.2,-36.8,103,-36.7,100.7,-36.5C98.4,-36.3,96,-36.1,93.7,-35.8C91.3,-35.5,89,-35.2,86.7,-34.8C84.4,-34.4,82,-34,79.7,-33.5C77.4,-33,75.1,-32.5,72.9,-31.9C70.6,-31.4,68.3,-30.7,66,-30.1C63.8,-29.4,61.5,-28.7,59.3,-28C57.1,-27.2,54.8,-26.5,52.6,-25.6C50.4,-24.8,48.2,-24,46,-23.1C43.8,-22.3,41.7,-21.4,39.5,-20.4C37.3,-19.5,35.2,-18.6,33,-17.6C30.9,-16.6,28.8,-15.6,26.6,-14.7C24.5,-13.7,22.4,-12.6,20.3,-11.6C18.2,-10.6,16.1,-9.6,14,-8.5C11.9,-7.5,9.8,-6.5,7.7,-5.4C5.6,-4.4,3.5,-3.4,1.4,-2.3z"/>
    <path stroke="#2da7a7" fill="none" ed:parentid="953" stroke-linecap="round" id="940" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2725.56,2178.38)" ed:tosuperid="954" d="M-16.5,-12.4C-0.4,-12.4,-0.1,12.4,16.5,12.4"/>
    <path stroke="#2da7a7" fill="none" ed:parentid="953" stroke-linecap="round" id="941" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2725.56,2165.5)" ed:tosuperid="955" d="M-16.5,0.5C-3.3,0.5,6.6,-0.5,16.5,-0.5"/>
    <path stroke="#2da7a7" fill="none" ed:parentid="953" stroke-linecap="round" id="942" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2725.56,2152.63)" ed:tosuperid="956" d="M-16.5,13.4C-0.2,13.4,-0.6,-13.4,16.5,-13.4"/>
    <path stroke="#2da7a7" fill="none" ed:parentid="958" stroke-linecap="round" id="944" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2725.56,2236.31)" ed:tosuperid="960" d="M-16.5,-5.9C-1.9,-5.9,3.3,5.9,16.5,5.9"/>
    <path stroke="#2da7a7" fill="none" ed:parentid="958" stroke-linecap="round" id="945" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2725.56,2223.44)" ed:tosuperid="957" d="M-16.5,6.9C-1.7,6.9,2.8,-6.9,16.5,-6.9"/>
    <path stroke="#2da7a7" fill="none" ed:parentid="948" stroke-linecap="round" id="946" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2631.56,2173.19)" ed:tosuperid="953" d="M-16.5,7.2C-1.6,7.2,2.7,-7.2,16.5,-7.2"/>
    <path stroke="#2da7a7" fill="none" ed:parentid="948" stroke-linecap="round" id="947" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2631.56,2205.38)" ed:tosuperid="958" d="M-16.5,-25C2.2,-25,-6.3,25,16.5,25"/>
    <path fill="#2da7a7" stroke="#2da7a7" ed:parentid="101" stroke-linecap="round" id="961" stroke-linejoin="round" transform="matrix(1,0,0,1,2272.59,1732.25)" ed:tosuperid="948" d="M-54.1,-376.6C-54.8,-379,-56.8,-380.2,-58.6,-379.7C-60.5,-379.1,-61.5,-377.1,-60.9,-374.7C-60.3,-372.5,-59.7,-370.2,-59.1,-368C-58.5,-365.8,-57.9,-363.5,-57.4,-361.3C-56.9,-359,-56.4,-356.8,-55.9,-354.5C-55.4,-352.2,-54.9,-350,-54.4,-347.7C-53.9,-345.4,-53.5,-343.2,-53.1,-340.9C-52.6,-338.6,-52.2,-336.3,-51.8,-334C-51.4,-331.8,-51,-329.5,-50.6,-327.2C-50.2,-324.9,-49.9,-322.6,-49.5,-320.3C-49.2,-318,-48.8,-315.7,-48.5,-313.4C-48.1,-311.1,-47.8,-308.8,-47.5,-306.5C-47.2,-304.2,-46.9,-301.9,-46.6,-299.6C-46.3,-297.3,-46,-295,-45.7,-292.7C-45.4,-290.4,-45.1,-288.1,-44.9,-285.7C-44.6,-283.4,-44.3,-281.1,-44.1,-278.8C-43.8,-276.5,-43.6,-274.2,-43.4,-271.9C-43.1,-269.5,-42.9,-267.2,-42.7,-264.9C-42.4,-262.6,-42.2,-260.3,-42,-258C-41.8,-255.6,-41.6,-253.3,-41.4,-251C-41.2,-248.7,-41,-246.4,-40.8,-244C-40.6,-241.7,-40.4,-239.4,-40.2,-237.1C-40,-234.8,-39.8,-232.4,-39.6,-230.1C-39.5,-227.8,-39.3,-225.5,-39.1,-223.1C-39,-220.8,-38.8,-218.5,-38.6,-216.2C-38.5,-213.8,-38.3,-211.5,-38.2,-209.2C-38,-206.9,-37.8,-204.5,-37.7,-202.2C-37.6,-199.9,-37.4,-197.6,-37.3,-195.2C-37.1,-192.9,-37,-190.6,-36.8,-188.3C-36.7,-185.9,-36.6,-183.6,-36.4,-181.3C-36.3,-178.9,-36.2,-176.6,-36.1,-174.3C-35.9,-172,-35.8,-169.6,-35.7,-167.3C-35.6,-165,-35.4,-162.6,-35.3,-160.3C-35.2,-158,-35.1,-155.7,-35,-153.3C-34.9,-151,-34.7,-148.7,-34.6,-146.3C-34.5,-144,-34.4,-141.7,-34.3,-139.4C-34.2,-137,-34.1,-134.7,-34,-132.4C-33.9,-130,-33.8,-127.7,-33.7,-125.4C-33.6,-123,-33.5,-120.7,-33.4,-118.4C-33.3,-116.1,-33.2,-113.7,-33.1,-111.4C-33,-109.1,-32.9,-106.7,-32.8,-104.4C-32.7,-102.1,-32.6,-99.7,-32.5,-97.4C-32.4,-95.1,-32.3,-92.7,-32.2,-90.4C-32.1,-88.1,-32,-85.8,-31.9,-83.4C-31.8,-81.1,-31.7,-78.8,-31.6,-76.4C-31.5,-74.1,-31.5,-71.8,-31.4,-69.4C-31.3,-67.1,-31.2,-64.8,-31.1,-62.4C-31,-60.1,-30.9,-57.8,-30.8,-55.4C-30.7,-53.1,-30.6,-50.8,-30.5,-48.4C-30.4,-46.1,-30.3,-43.8,-30.2,-41.5C-30.2,-39.1,-30.1,-36.8,-30,-34.5C-29.9,-32.1,-29.8,-29.8,-29.7,-27.5C-29.6,-25.1,-29.5,-22.8,-29.4,-20.5C-29.3,-18.1,-29.2,-15.8,-29.1,-13.5C-29,-11.1,-28.9,-8.8,-28.8,-6.5C-28.7,-4.1,-28.6,-1.8,-28.5,0.5C-28.4,2.9,-28.3,5.2,-28.2,7.5C-28.1,9.8,-28,12.2,-27.9,14.5C-27.8,16.8,-27.7,19.2,-27.6,21.5C-27.5,23.8,-27.4,26.2,-27.3,28.5C-27.2,30.8,-27,33.2,-26.9,35.5C-26.8,37.8,-26.7,40.2,-26.6,42.5C-26.5,44.8,-26.3,47.2,-26.2,49.5C-26.1,51.8,-26,54.1,-25.9,56.5C-25.7,58.8,-25.6,61.1,-25.5,63.5C-25.4,65.8,-25.2,68.1,-25.1,70.5C-25,72.8,-24.8,75.1,-24.7,77.5C-24.6,79.8,-24.4,82.1,-24.3,84.4C-24.1,86.8,-24,89.1,-23.9,91.4C-23.7,93.8,-23.6,96.1,-23.4,98.4C-23.3,100.8,-23.1,103.1,-23,105.4C-22.8,107.7,-22.6,110.1,-22.5,112.4C-22.3,114.7,-22.1,117.1,-22,119.4C-21.8,121.7,-21.6,124.1,-21.5,126.4C-21.3,128.7,-21.1,131,-20.9,133.4C-20.7,135.7,-20.6,138,-20.4,140.3C-20.2,142.7,-20,145,-19.8,147.3C-19.6,149.7,-19.4,152,-19.2,154.3C-19,156.6,-18.8,159,-18.6,161.3C-18.4,163.6,-18.1,165.9,-17.9,168.3C-17.7,170.6,-17.5,172.9,-17.2,175.2C-17,177.6,-16.8,179.9,-16.5,182.2C-16.3,184.5,-16,186.9,-15.8,189.2C-15.5,191.5,-15.3,193.8,-15,196.1C-14.7,198.5,-14.5,200.8,-14.2,203.1C-13.9,205.4,-13.7,207.7,-13.4,210.1C-13.1,212.4,-12.8,214.7,-12.5,217C-12.2,219.3,-11.9,221.6,-11.6,224C-11.3,226.3,-10.9,228.6,-10.6,230.9C-10.3,233.2,-10,235.5,-9.6,237.8C-9.3,240.2,-8.9,242.5,-8.6,244.8C-8.2,247.1,-7.8,249.4,-7.5,251.7C-7.1,254,-6.7,256.3,-6.3,258.6C-5.9,260.9,-5.5,263.2,-5.1,265.5C-4.7,267.8,-4.3,270.1,-3.9,272.4C-3.4,274.7,-3,277,-2.6,279.3C-2.1,281.6,-1.6,283.9,-1.2,286.2C-0.7,288.5,-0.2,290.8,0.3,293C0.8,295.3,1.3,297.6,1.8,299.9C2.3,302.2,2.8,304.4,3.4,306.7C3.9,309,4.5,311.3,5.1,313.5C5.7,315.8,6.2,318.1,6.9,320.3C7.5,322.6,8.1,324.8,8.7,327.1C9.4,329.3,10,331.6,10.7,333.8C11.4,336,12.1,338.3,12.8,340.5C13.5,342.7,14.2,345,15,347.2C15.7,349.4,16.5,351.6,17.3,353.8C18.1,356,18.9,358.2,19.7,360.4C20.6,362.6,21.5,364.7,22.3,366.9C23.2,369.1,24.2,371.2,25.1,373.4C26.1,375.5,27,377.6,28.1,379.7C29.1,381.8,30.1,383.9,31.2,386C32.3,388.1,33.4,390.2,34.5,392.2C35.7,394.3,36.9,396.3,38.1,398.3C39.3,400.3,40.6,402.2,41.9,404.2C43.2,406.1,44.6,408,46,409.9C47.4,411.8,48.9,413.6,50.4,415.4C51.9,417.2,53.4,419,55,420.7C56.6,422.4,58.3,424.1,60,425.7C61.7,427.3,63.5,428.8,65.3,430.3C67.2,431.8,69.1,433.2,71,434.5C72.9,435.8,74.9,437.1,77,438.3C79,439.4,81.1,440.5,83.3,441.5C85.4,442.4,87.6,443.3,89.8,444.1C92,444.9,94.3,445.6,96.6,446.1C98.8,446.7,101.1,447.2,103.5,447.6C105.8,447.9,108.1,448.2,110.5,448.4C112.8,448.5,115.1,448.6,117.4,448.6C117.8,448.6,118,448.4,118,448.1C118,447.9,117.8,447.6,117.4,447.6C115.1,447.6,112.8,447.5,110.5,447.3C108.2,447.2,105.9,446.9,103.6,446.5C101.3,446.1,99.1,445.6,96.8,445C94.6,444.5,92.4,443.8,90.2,443C88,442.2,85.9,441.3,83.8,440.3C81.7,439.4,79.6,438.3,77.6,437.1C75.6,436,73.7,434.7,71.8,433.4C69.9,432.1,68,430.7,66.2,429.2C64.4,427.8,62.7,426.2,61,424.6C59.3,423.1,57.7,421.4,56.1,419.7C54.5,418,53,416.3,51.5,414.5C50.1,412.7,48.6,410.8,47.3,409C45.9,407.1,44.6,405.2,43.3,403.3C42,401.3,40.7,399.4,39.5,397.4C38.3,395.4,37.2,393.4,36,391.4C34.9,389.3,33.8,387.3,32.8,385.2C31.7,383.1,30.7,381.1,29.7,379C28.7,376.9,27.7,374.7,26.8,372.6C25.9,370.5,25,368.3,24.1,366.2C23.2,364,22.4,361.9,21.6,359.7C20.7,357.5,19.9,355.3,19.2,353.1C18.4,350.9,17.6,348.7,16.9,346.5C16.2,344.3,15.5,342.1,14.8,339.9C14.1,337.7,13.4,335.4,12.7,333.2C12.1,331,11.4,328.7,10.8,326.5C10.2,324.2,9.6,322,9,319.7C8.4,317.5,7.9,315.2,7.3,313C6.7,310.7,6.2,308.4,5.7,306.2C5.1,303.9,4.6,301.6,4.1,299.4C3.6,297.1,3.1,294.8,2.6,292.5C2.2,290.3,1.7,288,1.3,285.7C0.8,283.4,0.4,281.1,-0.1,278.8C-0.5,276.5,-0.9,274.2,-1.3,272C-1.8,269.7,-2.2,267.4,-2.6,265.1C-2.9,262.8,-3.3,260.5,-3.7,258.2C-4.1,255.9,-4.4,253.6,-4.8,251.3C-5.2,249,-5.5,246.7,-5.8,244.4C-6.2,242.1,-6.5,239.7,-6.8,237.4C-7.2,235.1,-7.5,232.8,-7.8,230.5C-8.1,228.2,-8.4,225.9,-8.7,223.6C-9,221.3,-9.3,219,-9.6,216.6C-9.8,214.3,-10.1,212,-10.4,209.7C-10.7,207.4,-10.9,205.1,-11.2,202.8C-11.4,200.4,-11.7,198.1,-11.9,195.8C-12.2,193.5,-12.4,191.2,-12.7,188.8C-12.9,186.5,-13.1,184.2,-13.3,181.9C-13.6,179.6,-13.8,177.2,-14,174.9C-14.2,172.6,-14.4,170.3,-14.6,168C-14.8,165.6,-15,163.3,-15.2,161C-15.4,158.7,-15.6,156.3,-15.8,154C-16,151.7,-16.2,149.4,-16.4,147.1C-16.6,144.7,-16.7,142.4,-16.9,140.1C-17.1,137.8,-17.3,135.4,-17.4,133.1C-17.6,130.8,-17.7,128.4,-17.9,126.1C-18.1,123.8,-18.2,121.5,-18.4,119.1C-18.5,116.8,-18.7,114.5,-18.8,112.2C-19,109.8,-19.1,107.5,-19.2,105.2C-19.4,102.9,-19.5,100.5,-19.7,98.2C-19.8,95.9,-19.9,93.5,-20.1,91.2C-20.2,88.9,-20.3,86.6,-20.4,84.2C-20.6,81.9,-20.7,79.6,-20.8,77.2C-20.9,74.9,-21,72.6,-21.2,70.3C-21.3,67.9,-21.4,65.6,-21.5,63.3C-21.6,60.9,-21.7,58.6,-21.8,56.3C-21.9,53.9,-22,51.6,-22.1,49.3C-22.2,47,-22.3,44.6,-22.4,42.3C-22.5,40,-22.6,37.6,-22.7,35.3C-22.8,33,-22.9,30.6,-23,28.3C-23.1,26,-23.2,23.7,-23.3,21.3C-23.4,19,-23.5,16.7,-23.6,14.3C-23.7,12,-23.8,9.7,-23.8,7.3C-23.9,5,-24,2.7,-24.1,0.3C-24.2,-2,-24.3,-4.3,-24.3,-6.7C-24.4,-9,-24.5,-11.3,-24.6,-13.6C-24.7,-16,-24.8,-18.3,-24.8,-20.6C-24.9,-23,-25,-25.3,-25.1,-27.6C-25.2,-30,-25.2,-32.3,-25.3,-34.6C-25.4,-37,-25.5,-39.3,-25.5,-41.6C-25.6,-44,-25.7,-46.3,-25.8,-48.6C-25.8,-51,-25.9,-53.3,-26,-55.6C-26.1,-57.9,-26.2,-60.3,-26.2,-62.6C-26.3,-64.9,-26.4,-67.3,-26.5,-69.6C-26.5,-71.9,-26.6,-74.3,-26.7,-76.6C-26.8,-78.9,-26.8,-81.3,-26.9,-83.6C-27,-85.9,-27.1,-88.3,-27.2,-90.6C-27.2,-92.9,-27.3,-95.3,-27.4,-97.6C-27.5,-99.9,-27.6,-102.3,-27.6,-104.6C-27.7,-106.9,-27.8,-109.3,-27.9,-111.6C-28,-113.9,-28,-116.3,-28.1,-118.6C-28.2,-120.9,-28.3,-123.3,-28.4,-125.6C-28.5,-127.9,-28.6,-130.3,-28.7,-132.6C-28.7,-134.9,-28.8,-137.3,-28.9,-139.6C-29,-141.9,-29.1,-144.2,-29.2,-146.6C-29.3,-148.9,-29.4,-151.2,-29.5,-153.6C-29.6,-155.9,-29.7,-158.2,-29.8,-160.6C-29.9,-162.9,-30,-165.2,-30.1,-167.6C-30.2,-169.9,-30.3,-172.2,-30.4,-174.6C-30.6,-176.9,-30.7,-179.2,-30.8,-181.6C-30.9,-183.9,-31,-186.2,-31.1,-188.6C-31.3,-190.9,-31.4,-193.2,-31.5,-195.6C-31.6,-197.9,-31.8,-200.2,-31.9,-202.6C-32,-204.9,-32.2,-207.2,-32.3,-209.6C-32.4,-211.9,-32.6,-214.2,-32.7,-216.6C-32.9,-218.9,-33,-221.2,-33.2,-223.5C-33.3,-225.9,-33.5,-228.2,-33.7,-230.5C-33.8,-232.9,-34,-235.2,-34.2,-237.5C-34.3,-239.9,-34.5,-242.2,-34.7,-244.5C-34.9,-246.9,-35,-249.2,-35.2,-251.5C-35.4,-253.9,-35.6,-256.2,-35.8,-258.5C-36,-260.8,-36.2,-263.2,-36.4,-265.5C-36.7,-267.8,-36.9,-270.2,-37.1,-272.5C-37.3,-274.8,-37.6,-277.1,-37.8,-279.5C-38,-281.8,-38.3,-284.1,-38.5,-286.4C-38.8,-288.8,-39,-291.1,-39.3,-293.4C-39.6,-295.8,-39.9,-298.1,-40.1,-300.4C-40.4,-302.7,-40.7,-305,-41,-307.4C-41.3,-309.7,-41.6,-312,-42,-314.3C-42.3,-316.7,-42.6,-319,-43,-321.3C-43.3,-323.6,-43.7,-325.9,-44,-328.2C-44.4,-330.6,-44.8,-332.9,-45.2,-335.2C-45.6,-337.5,-46,-339.8,-46.4,-342.1C-46.8,-344.4,-47.3,-346.7,-47.7,-349C-48.2,-351.4,-48.7,-353.7,-49.2,-356C-49.6,-358.3,-50.2,-360.5,-50.7,-362.8C-51.2,-365.1,-51.8,-367.4,-52.3,-369.7C-52.9,-372,-53.5,-374.3,-54.1,-376.6z"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="999" stroke-linecap="round" id="984" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1165.82,1291.31)" ed:tosuperid="983" d="M16.5,42.1C-5,42.1,12.9,-42.1,-16.5,-42.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="999" stroke-linecap="round" id="986" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1165.82,1303.19)" ed:tosuperid="985" d="M16.5,30.2C-3.2,30.2,8.6,-30.2,-16.5,-30.2"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="999" stroke-linecap="round" id="988" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1165.82,1315.06)" ed:tosuperid="987" d="M16.5,18.3C-0.9,18.3,3.2,-18.3,-16.5,-18.3"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="999" stroke-linecap="round" id="990" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1165.82,1326.94)" ed:tosuperid="989" d="M16.5,6.4C1.8,6.4,-3.1,-6.4,-16.5,-6.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="999" stroke-linecap="round" id="992" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1165.82,1338.81)" ed:tosuperid="991" d="M16.5,-5.4C2,-5.4,-3.6,5.4,-16.5,5.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="999" stroke-linecap="round" id="994" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1165.82,1350.69)" ed:tosuperid="993" d="M16.5,-17.3C-0.7,-17.3,2.7,17.3,-16.5,17.3"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="999" stroke-linecap="round" id="996" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1165.82,1362.56)" ed:tosuperid="995" d="M16.5,-29.2C-3,-29.2,8.2,29.2,-16.5,29.2"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="999" stroke-linecap="round" id="998" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1165.82,1374.44)" ed:tosuperid="997" d="M16.5,-41.1C-4.9,-41.1,12.5,41.1,-16.5,41.1"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="898" stroke-linecap="round" id="1000" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1264.82,1347.25)" ed:tosuperid="999" d="M16.5,13.9C0.1,13.9,0.9,-13.9,-16.5,-13.9"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="898" stroke-linecap="round" id="1002" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1264.82,1408.13)" ed:tosuperid="1001" d="M16.5,-47C-5.6,-47,14.2,47,-16.5,47"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="1001" stroke-linecap="round" id="1004" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1189.82,1448.69)" ed:tosuperid="1003" d="M16.5,6.4C1.8,6.4,-3.1,-6.4,-16.5,-6.4"/>
    <path stroke="#ef8f8a" fill="none" ed:parentid="1001" stroke-linecap="round" id="1006" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,1189.82,1462.06)" ed:tosuperid="1005" d="M16.5,-6.9C1.7,-6.9,-2.8,6.9,-16.5,6.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="308" stroke-linecap="round" id="1008" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2972.99,1719.44)" ed:tosuperid="1007" d="M-16.5,6.9C-1.7,6.9,2.8,-6.9,16.5,-6.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="308" stroke-linecap="round" id="1010" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2972.99,1731.31)" ed:tosuperid="1009" d="M-16.5,-4.9C-2.1,-4.9,3.9,4.9,16.5,4.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="830" stroke-linecap="round" id="1012" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,3150.49,1653.63)" ed:tosuperid="1011" d="M-16.5,12.4C-0.4,12.4,-0.1,-12.4,16.5,-12.4"/>
    <path stroke="#f56582" fill="none" ed:parentid="830" stroke-linecap="round" id="1014" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,3150.49,1665.5)" ed:tosuperid="1013" d="M-16.5,0.5C-3.3,0.5,6.6,-0.5,16.5,-0.5"/>
    <path stroke="#f56582" fill="none" ed:parentid="830" stroke-linecap="round" id="1016" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,3150.49,1677.38)" ed:tosuperid="1015" d="M-16.5,-11.4C-0.7,-11.4,0.4,11.4,16.5,11.4"/>
    <path stroke="#f56582" fill="none" ed:parentid="828" stroke-linecap="round" id="1018" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,3079.56,1617)" ed:tosuperid="1017" d="M-16.5,0.5C-3.3,0.5,6.6,-0.5,16.5,-0.5"/>
    <path stroke="#f56582" fill="none" ed:parentid="307" stroke-linecap="round" id="1020" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2968.56,1766.94)" ed:tosuperid="1019" d="M-16.5,6.9C-1.7,6.9,2.8,-6.9,16.5,-6.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="307" stroke-linecap="round" id="1022" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,2968.56,1778.81)" ed:tosuperid="1021" d="M-16.5,-4.9C-2.1,-4.9,3.9,4.9,16.5,4.9"/>
    <path stroke="#f56582" fill="none" ed:parentid="312" stroke-linecap="round" id="1024" stroke-width="2" stroke-linejoin="round" transform="matrix(1,0,0,1,3012.26,1811)" ed:tosuperid="1023" d="M-16.5,0.5C-3.3,0.5,6.6,-0.5,16.5,-0.5"/>
    <g ed:width="259.614" ed:height="145.11" ed:topictype="mainidea" id="101" transform="matrix(1,0,0,1,2025.38,1211.57)" ed:layout="map">
        <path fill="#ffffff" stroke="#1e6188" stroke-width="4" stroke-linejoin="round" d="M72.6,0L187.1,0C227.1,0,259.6,32.5,259.6,72.6C259.6,112.6,227.1,145.1,187.1,145.1L72.6,145.1C32.5,145.1,0,112.6,0,72.6C0,32.5,32.5,0,72.6,0z"/>
        <g transform="translate(85.48,16.6)">
            <path fill="#ffffff" id="407" transform="matrix(1,0,0,1,0,0)" d="M87.3,5L48.3,5L48.3,2.3L48.3,0L46.3,0L43.6,0L41.3,0L41.3,2.3L41.3,5L2.3,5L0,5L0,7.3L0,10L0,12.3L2.3,12.3L7.3,12.3L7.3,56C7.3,60.3,11,63.9,15.3,63.9L41.3,63.9L41.3,72.5L18.5,72.5L16.2,72.5L16.2,74.8L16.2,77.8L16.2,80.1L18.5,80.1L71.9,80.1L74.2,80.1L74.2,77.8L74.2,74.8L74.2,72.5L71.9,72.5L48.6,72.5L48.6,63.9L74.4,63.9C78.7,63.9,82.3,60.3,82.3,56L82.3,12.3L87.3,12.3L89.6,12.3L89.6,10L89.6,7.3L89.6,5L87.3,5z"/>
            <path fill="#4c4c4c" id="408" transform="matrix(1,0,0,1,2.59,2.3)" d="M85,5L43.7,5L43.7,0L41,0L41,5L0,5L0,7.7L7.3,7.7L7.3,53.5C7.3,56.7,9.8,59.2,13,59.2L41,59.2L41,72.5L16.1,72.5L16.1,75.2L69.5,75.2L69.5,72.5L43.7,72.5L43.7,59.2L71.8,59.2C74.9,59.2,77.4,56.6,77.4,53.5L77.4,7.7L85,7.7L85,5zM75.4,53.5C75.4,55.3,73.8,57,72,57L12.9,57C11,57,9.4,55.4,9.4,53.5L9.4,7.8L75.4,7.8L75.4,53.5z"/>
            <path fill="#5ac7d5" id="409" transform="matrix(1,0,0,1,38.63,26.83)" d="M19.8,3.4C17.8,1.4,15,0.3,12.3,0L11.6,12.9L0,16.1C0.7,17.6,0.9,18.4,1.5,19.1C2.2,19.9,3.2,20.9,4,21.6C6.1,23.2,8.6,23.9,11.1,23.9C12.8,23.9,14.3,23.7,15.7,23C17,22.3,18.4,21.4,19.5,20.5C20.7,19.4,21.5,18,22,16.7C22.7,15,22.9,13.5,22.9,11.9C23.4,8.6,22.1,5.7,19.8,3.4z"/>
            <path fill="#fcd486" id="410" transform="matrix(1,0,0,1,34.07,22.52)" d="M12.7,0C10,0,8.2,0.5,6.6,1.1C4.9,1.8,3.6,2.8,2.7,4.1C0.9,6.4,-0.2,9.1,0,12.1C0,13.4,0.2,15,0.7,16.4L12.7,14.1L12.7,0z"/>
        </g>
        <text class="st8">
            <tspan y="124.6" class="st9" style="white-space:pre" x="52">MySQL 性能监控</tspan>
        </text>
    </g>
    <g ed:parentid="101" ed:width="225.063" ed:height="91" id="102" transform="matrix(1,0,0,1,1695.32,810.88)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M4,0L221.1,0C223.8,0,225.1,1.3,225.1,4L225.1,87C225.1,89.7,223.8,91,221.1,91L4,91C1.3,91,0,89.7,0,87L0,4C0,1.3,1.3,0,4,0z"/>
        <g transform="translate(90.2,8.6)">
            <path fill="#ffffff" id="399" transform="matrix(1,0,0,1,-0,0)" d="M44.1,12L43.8,10.5L42.3,10.8L40.9,11.1L39.5,11.4L39.8,12.9C42.1,26.7,42.1,42.1,38.6,43.1C37.9,43.2,37.3,43.4,36.8,43.4C36.2,43.4,35.6,43.3,35.3,43C34.3,42.2,34.2,40.2,34.2,39.3C34.2,39,34.6,22,34.7,16.7C34.9,10.3,33.6,6,31,3.3C28.9,0.8,26.4,0,23.6,0C23.4,0,23.3,0,23.1,0C19.8,0.1,17.1,1.1,15.3,3.1C14.3,4.2,13.7,5.4,13.4,6.5L8.5,6.5C3.9,6.6,0,10.6,0,15.2L0,33.2C0,41.4,6.6,48,14.7,48L15.7,48C22.6,48,28.4,43.1,29.9,36.6C29.9,37,29.7,38.8,29.7,38.9C29.7,39.4,29.4,43.9,32.3,46.3C33.5,47.1,35.1,47.6,36.6,47.6C37.6,47.6,38.8,47.5,39.9,47.2C48.6,44.6,45.2,19.7,44.1,12z"/>
            <path fill="#4c4c4c" id="400" transform="matrix(1,0,0,1,14.02,1.13)" d="M25.6,44.8C24.6,45.1,23.2,45.2,22.4,45.1C16.1,44.4,16.9,37.5,16.9,37.3C16.9,37.3,17.3,20.2,17.4,14.9C17.6,9.3,16.6,5.5,14.5,3.5C13.3,2.2,11.2,1.6,9,1.5C6.9,1.4,4.3,2.3,3.1,3.8C1.3,6,1.8,6.7,1.7,7.1L0,7.1C0.1,6.4,0.5,4.3,2.1,2.7C3.7,1.1,6.2,0,9.5,0C12,0,14.1,1,15.5,2.6C17.8,4.9,19,9.1,18.8,15C18.7,20.4,18.5,37.5,18.5,37.5C18.5,37.5,17.3,42.9,22.6,43.8C23.3,44,24.3,43.8,25.1,43.5C30.9,41.8,28.2,19,26.8,10.7L28.2,10.4C28.8,13.6,33.5,42.4,25.6,44.8z"/>
            <path fill="#4c4c4c" id="401" transform="matrix(1,0,0,1,1.18,8.34)" d="M13.3,38.7C6,38.7,0,32.6,0,25.3L0,7.3C0,3.4,3.2,0,7.1,0L20.4,0C24.3,0.1,27.5,3.4,27.5,7.3L27.5,25.3C27.5,32.6,21.5,38.7,14.3,38.7L13.3,38.7z"/>
            <path fill="#69d9e2" id="402" transform="matrix(1,0,0,1,2.65,9.65)" d="M5.9,0L18.8,0C22,0,24.8,2.7,24.8,6.1L24.8,24C24.8,30.7,19.5,36,12.9,36L11.9,36C5.3,36,0,30.7,0,24L0,6.1C0.1,2.7,2.8,0,5.9,0z"/>
            <path fill="#fffdfd" id="403" transform="matrix(1,0,0,1,8.48,9.65)" d="M0,0L13.1,0L13.1,10.3C13.1,13.8,10.4,16.7,6.8,16.7C2.8,16.7,0,13.9,0,10.3L0,0z"/>
            <path fill="#4c4c4c" id="404" transform="matrix(1,0,0,1,14.08,7.74)" d="M1,7.9C0.4,7.9,0,7.4,0,7L0,0.8C0,0.4,0.4,0,0.7,0C1.3,0,1.6,0.4,1.6,0.8L1.6,7C1.7,7.4,1.4,7.9,1,7.9z"/>
        </g>
        <text class="st10">
            <tspan y="79.5" class="st9" style="white-space:pre" x="18">performance_schema简介</tspan>
        </text>
    </g>
    <g ed:parentid="101" ed:width="225.063" ed:height="91" id="104" transform="matrix(1,0,0,1,1695.32,2086)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M4,0L221.1,0C223.8,0,225.1,1.3,225.1,4L225.1,87C225.1,89.7,223.8,91,221.1,91L4,91C1.3,91,0,89.7,0,87L0,4C0,1.3,1.3,0,4,0z"/>
        <g transform="translate(91.37,8.6)">
            <path fill="#ffffff" id="433" transform="matrix(1,0,0,1,2.68,2.69)" d="M38,0.5L38,3L32.5,3L32.5,30.2C35.1,31,37,33.4,37,36.3C37,39.7,34,42.6,30.5,42.6C27.5,42.6,24.9,40.5,24.2,37.7L0,37.7L0,35.3L3.4,35.3C2.4,35.1,1.8,34.4,1.8,33.3L1.8,27.4C1.8,26.4,2.5,25.6,3.5,25.3C2.5,25,1.8,24.3,1.8,23.2L1.8,17.4C1.8,16.4,2.5,15.6,3.5,15.3C2.5,15.2,1.8,14.3,1.8,13.2L1.8,7.4C1.8,6.3,2.8,5.3,3.9,5.3L27.9,5.3C28.9,5.3,29.7,6,29.8,6.8L29.8,2.5L29.8,0L38,0"/>
            <path fill="#ffffff" id="434" transform="matrix(1,0,0,1,0,0)" d="M40.7,0L32.8,0L30,0L30,2.7L30,5.2L6.8,5.2C4.2,5.2,1.9,7.5,1.9,10.1L1.9,15.9C1.9,16.6,2.1,17.3,2.4,18C2.1,18.7,1.9,19.2,1.9,20.1L1.9,25.9C1.9,26.6,2.1,27.3,2.4,28C2.1,28.5,1.9,29.2,1.9,30.1L1.9,35.2L0,35.2L0,38L0,40.3L0,43L2.8,43L25,43C26.5,46.1,29.6,47.9,33.1,48C39.5,48.2,42.3,43.6,42.4,38.8C42.4,35.5,40.5,32.6,37.9,31L37.9,8.3L40.5,8.3L43.3,8.3L43.3,5.6L43.3,3.1L43.3,0L40.7,0z"/>
            <path fill="#4c4c4c" id="435" transform="matrix(1,0,0,1,1.39,1.2)" d="M40.5,0L29.8,0L29.8,5.2C29.6,5.2,5.3,5.2,5.3,5.2C3.4,5.2,1.8,6.8,1.8,8.7L1.8,14.5C1.8,14.9,2.2,16.4,2.4,16.8C2.1,17.4,1.8,18.1,1.8,18.7L1.8,24.5C1.8,24.9,2.2,26.4,2.4,26.8C2.1,27.4,1.8,28.1,1.8,28.7L1.8,34.5C1.8,34.8,1.8,35.1,1.8,35.2L0,35.2L0,40.9L1.4,40.9L24.6,40.9C25.8,43.8,28.7,45.6,31.9,45.6C36.2,45.6,39.7,42.5,39.7,38.1C39.7,37.5,40.2,33.1,35.2,30.2L35.2,6.2L39.3,6.2L40.5,6.2L40.5,0z"/>
            <path fill="#dddddd" id="436" transform="matrix(1,0,0,1,2.95,3.2)" d="M37.9,2.5L37.9,0L29.9,0L29.9,2.5L29.9,34.8L0,34.8L0,37.2L32.5,37.2L32.5,34.8L32.3,2.5L37.9,2.5z"/>
            <path fill="#ffe48f" id="437" transform="matrix(1,0,0,1,4.71,28.01)" d="M26,10L2.1,10C1,10,0,9,0,7.9L0,2.1C0,1,1,0,2.1,0L26,0C27.2,0,28.2,1,28.2,2.1L28.2,7.9C28.2,9.2,27.3,10,26,10z"/>
            <path fill="#304352" id="438" transform="matrix(1,0,0,1,4.71,18.17)" d="M26,10L2.1,10C1,10,0,9,0,7.9L0,2.1C0,1,1,0,2.1,0L26,0C27.2,0,28.2,1,28.2,2.1L28.2,7.9C28.2,9.1,27.3,10,26,10z"/>
            <path fill="#69d9e2" id="439" transform="matrix(1,0,0,1,4.71,8.38)" d="M26,10L2.1,10C1,10,0,9,0,7.9L0,2.1C0,1,1,0,2.1,0L26,0C27.2,0,28.2,1,28.2,2.1L28.2,7.9C28.2,9,27.3,10,26,10z"/>
            <path fill="#132c2d" id="440" transform="matrix(1,0,0,1,26.82,32.49)" d="M12.8,6.3C12.8,9.9,10,12.7,6.4,12.7C2.9,12.7,0,9.9,0,6.3C0,2.8,2.9,0,6.4,0C10,0,12.8,2.8,12.8,6.3z"/>
            <path fill="#dddddd" id="441" transform="matrix(1,0,0,1,29.88,35.52)" d="M6.7,3.3C6.7,5.2,5.2,6.6,3.4,6.6C1.5,6.6,0,5.2,0,3.3C0,1.5,1.5,0,3.4,0C5.2,0,6.7,1.5,6.7,3.3z"/>
        </g>
        <text class="st10">
            <tspan y="79.5" class="st9" style="white-space:pre" x="18">performance_schema配置</tspan>
        </text>
    </g>
    <g ed:parentid="915" ed:width="66" ed:height="75.75" id="106" transform="matrix(1,0,0,1,2648.06,428.13)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,75.8L66,75.8"/>
        <g transform="translate(12.4,1.5)">
            <path fill="#ffffff" id="443" transform="matrix(1,0,0,1,0,0)" d="M40.6,39.6L33.3,30.2C35.9,26.9,37.4,23,37.4,18.6C37.2,8.3,28.8,0,18.6,0C8.3,0,0,8.3,0,18.5C0,28.7,8.3,37,18.6,37C20.8,37,23.2,36.6,25.3,35.8L31.8,45.5C32.4,46.3,34.2,48,36.6,48C37.7,48,38.7,47.6,39.7,47C42.3,44.9,41.5,41.3,40.6,39.6z"/>
            <path fill="#4c4c4c" id="444" transform="matrix(1,0,0,1,1.37,1.35)" d="M38.1,38.8L30.2,28.7C33.1,25.6,34.7,21.5,34.7,17.2C34.6,7.6,26.8,0,17.3,0C7.8,0,0,7.7,0,17.2C0,26.6,7.8,34.3,17.3,34.3C19.8,34.3,22.2,33.8,24.4,32.8L31.4,43.4C31.7,43.7,33.3,45.3,35.3,45.3C36.1,45.3,36.8,45,37.4,44.5C39.4,43,38.7,40.2,38.1,38.8z"/>
            <path fill="#69d9e2" id="446" transform="matrix(1,0,0,1,23.89,25.93)" d="M0,2.8L10.3,18.1C10.3,18.1,12.5,20.3,14.2,18.9C15.9,17.5,14.5,14.7,14.5,14.7L2.8,0L0,2.8z"/>
            <path fill="#69d9e2" id="447" transform="matrix(1,0,0,1,2.94,2.76)" d="M0,15.8C0,7.1,7.1,0,15.9,0C24.8,0,31.9,7.1,31.9,15.8C31.9,24.6,24.8,31.7,15.9,31.7C7.1,31.7,0,24.6,0,15.8z"/>
            <path fill="#ffffff" id="448" transform="matrix(1,0,0,1,6.22,6.07)" d="M0,12.4C0,5.6,5.7,0,12.5,0C19.5,0,25.2,5.6,25.2,12.4C25.2,19.4,19.5,25,12.5,25C5.7,24.9,0,19.3,0,12.4z"/>
        </g>
        <text class="st11">
            <tspan y="68.7" class="st9" style="white-space:pre" x="8">事件记录</tspan>
        </text>
    </g>
    <g ed:parentid="915" ed:width="66" ed:height="75.75" id="108" transform="matrix(1,0,0,1,2648.06,903.13)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,75.8L66,75.8"/>
        <g transform="translate(9.13,1.5)">
            <path fill="#ffffff" id="413" transform="matrix(1,0,0,1,0,0)" d="M24,0C10.8,0,0,10.8,0,24C0,37.2,10.8,48,24,48C37.2,48,48,37.2,48,24C48,10.8,37.2,0,24,0z"/>
            <path fill="#4c4c4c" id="414" transform="matrix(1,0,0,1,1.02,1.02)" d="M23,1C35.2,1,44.9,10.9,44.9,23C44.9,35.2,35,44.9,23,44.9C10.9,44.9,1,35,1,23C1,10.9,10.8,1,23,1zM23,0C10.3,0,0,10.3,0,23C0,35.7,10.3,46,23,46C35.7,46,46,35.7,46,23C46,10.3,35.7,0,23,0z"/>
            <path fill="#ffe48f" id="415" transform="matrix(1,0,0,1,5.56,5.56)" d="M18.4,0C8.2,0,0,8.3,0,18.4C0,28.6,8.3,36.9,18.4,36.9C28.6,36.9,36.9,28.6,36.9,18.4C36.9,8.2,28.6,0,18.4,0z"/>
            <path fill="#304352" id="416" transform="matrix(1,0,0,1,15.12,16.35)" d="M13.6,0L10.1,5.4C9.1,7.1,8.7,7.6,8.2,8.5L6.4,5.4L2.9,0L0,0L5.9,9.1L2,9.1L2,11.1L6.9,11.1L2,11.9L2,13.9L6.9,13.9L6.9,18.2L9.3,18.2L9.3,13.9L14.1,13.9L14.1,11.9L9.3,11.9L14.1,11.1L14.1,9.1L10.2,9.1L16.1,0L13.6,0z"/>
        </g>
        <text class="st11">
            <tspan y="68.7" class="st9" style="white-space:pre" x="8">事件统计</tspan>
        </text>
    </g>
    <g ed:parentid="915" ed:width="138" ed:height="63.75" id="114" transform="matrix(1,0,0,1,2648.06,1402)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,63.8L138,63.8"/>
        <g transform="translate(45.13,1.5)">
            <path fill="#ffffff" id="418" transform="matrix(1,0,0,1,0,0)" d="M43.6,19C42.8,18.4,42,17.9,41.1,17.5C43,16.2,44.3,14,44.4,11.5C44.5,7.3,41.3,3.7,37,3.6C36.9,3.6,36.7,3.6,36.7,3.6C35.3,3.6,34,3.9,32.8,4.6C31.2,1.9,28.3,0.2,25.2,0.1C24.8,0,24.7,0,24.5,0C20.8,0,17.5,2.2,16.1,5.5C14.9,4.6,13.5,4.1,11.9,4.1C11.8,4.1,11.7,4.1,11.7,4.1C7.5,4.1,4.1,7.3,4,11.5C4,14.1,5.2,16.4,7.2,17.8C6.3,18.3,5.5,18.7,4.7,19.3C1.7,21.2,0,24,0,27.1C0,27.3,0,27.3,0,27.4L0,32.5L0,33.7L1.2,33.7L10.5,33.7L10.5,34.8L10.5,36L11.7,36L37.3,36L38.5,36L38.5,34.8L38.5,33.2L46.8,33.2L48,33.2L48,32L48,26.9C48,23.7,46.3,20.8,43.6,19zM29.6,16.8C30,16.6,30.5,16.3,30.8,16C31.2,16.5,31.7,16.9,32.2,17.3C31.9,17.4,31.6,17.5,31.3,17.7C30.8,17.4,30.2,17.1,29.6,16.8zM16.2,17.8C17.1,17.2,17.8,16.5,18.3,15.6C18.7,16,19.2,16.4,19.7,16.7C18.7,17.1,17.7,17.6,16.8,18.2C16.6,18.1,16.4,17.9,16.2,17.8z"/>
            <path fill="#f7d77c" id="419" transform="matrix(1,0,0,1,30.57,5.68)" d="M6.8,11.6C6.7,11.6,6.6,11.6,6.5,11.6C6.2,11.6,6.1,11.6,5.9,11.6C2.1,11.2,0,8.6,0,5.6C0.1,2.5,2.6,0,5.9,0C7.7,0,9.1,0.7,10.2,1.9C11.3,3.1,11.9,4.5,11.8,6.1C11.6,8.7,9.6,11.2,6.8,11.6z"/>
            <path fill="#4c4c4c" id="420" transform="matrix(1,0,0,1,29.96,5.13)" d="M6.5,1.2C6.6,1.2,6.6,1.2,6.7,1.2C8.1,1.2,9.5,1.8,10.5,2.9C11.4,3.9,11.9,5.2,11.9,6.6C11.8,9.1,10,11.1,7.6,11.6C7.5,11.6,7.3,11.6,7.2,11.6C7,11.6,6.9,11.6,6.6,11.6C3.2,11.2,1.3,8.8,1.3,6.4C1.3,3.4,3.6,1.2,6.5,1.2zM6.5,0C3,0,0.1,2.8,0,6.2C0,9.4,2.3,12.2,5.5,12.8C5.9,12.8,6.1,12.8,6.5,12.8C6.8,12.8,7.2,12.8,7.4,12.8C10.6,12.3,12.8,9.8,12.9,6.7C13,3.1,10.3,0.1,6.7,0C6.6,0,6.6,0,6.5,0z"/>
            <path fill="#f7d77c" id="421" transform="matrix(1,0,0,1,5.86,6.18)" d="M6.8,11.6C6.7,11.6,6.6,11.6,6.5,11.6C6.2,11.6,6.1,11.6,5.9,11.6C2.1,11.2,0,8.6,0,5.6C0.1,2.5,2.6,0,5.9,0C9.3,0.1,11.9,2.9,11.8,6.1C11.6,8.8,9.6,11.1,6.8,11.6z"/>
            <path fill="#4c4c4c" id="422" transform="matrix(1,0,0,1,5.25,5.63)" d="M6.5,1.2C6.6,1.2,6.6,1.2,6.7,1.2C8.1,1.2,9.5,1.8,10.5,2.8C11.4,3.9,11.9,5.2,11.9,6.5C11.8,9.1,10,11.1,7.6,11.6C7.5,11.6,7.3,11.6,7.2,11.6C7,11.6,6.9,11.6,6.6,11.6C3.1,11.1,1.2,8.8,1.2,6.3C1.3,3.4,3.6,1.2,6.5,1.2zM6.5,0C3,0,0.1,2.8,0,6.2C0,9.4,2.3,12.2,5.5,12.8C5.9,12.8,6.1,12.8,6.5,12.8C6.8,12.8,7.2,12.8,7.4,12.8C10.6,12.3,12.8,9.8,12.9,6.7C13,3.1,10.3,0.1,6.7,0C6.6,0,6.6,0,6.5,0z"/>
            <path fill="#f7d77c" id="423" transform="matrix(1,0,0,1,17.13,2.11)" d="M8.7,14.8C8.6,14.8,8.3,14.8,8.2,14.8C8,14.8,7.8,14.8,7.5,14.8L6.3,14.8C2.7,14.2,0,10.9,0,7.2C0.1,3.2,3.4,0,7.5,0C7.5,0,11.6,0.9,13.1,2.3C14.5,3.8,15.2,5.7,15.1,7.7C14.9,11.3,12.2,14.3,8.7,14.8z"/>
            <path fill="#4c4c4c" id="424" transform="matrix(1,0,0,1,16.42,1.21)" d="M8.1,1.4C8.2,1.4,8.2,1.4,8.4,1.4C10.3,1.5,12,2.3,13.2,3.6C14.5,5,15.2,6.7,15.1,8.5C15,11.9,12.5,14.5,9.3,15C9.2,15,8.9,15,8.8,15C8.6,15,8.4,15,8.1,15L7,15C3.7,14.4,1.2,11.5,1.2,8C1.4,4.4,4.4,1.4,8.1,1.4zM0,8C0,12,3,16.1,8.1,16.2C12.9,16.2,16.2,12.4,16.3,8.4C16.4,3.9,12.9,0.3,8.4,0C3.6,-0.1,0.2,3.6,0,8z"/>
            <path fill="#69d9e2" id="425" transform="matrix(1,0,0,1,1.87,21.37)" d="M40.8,0L35,7.1C34.7,4.4,32.9,1.8,30.3,0L29.4,1.3L24.9,6.7L23,9L19.3,4.9L15.7,1C12.3,2,10.8,4.5,10.6,7.2L3.5,0.8C1.3,2.4,0,4.5,0,6.9L0,11.6L10.6,11.6L10.6,13.9L35,13.8L35,11L44.4,11L44.4,6.2C44.4,3.8,43.1,1.6,40.8,0z"/>
            <path fill="#4c4c4c" id="430" transform="matrix(1,0,0,1,1.31,17.5)" d="M41.6,2.8C39.9,1.3,37.6,0.5,35.1,0.5C33.2,0.5,31.4,1,29.9,1.9C28,0.7,25.7,0,23.2,0C20.4,0,17.8,0.9,15.7,2.5C14.1,1.6,12.3,1.1,10.4,1.1C8.1,1.1,6,1.8,4.2,3.1C1.7,4.6,0,7.1,0,9.9L0,15.3L10.6,15.3L10.6,17.6L36.2,17.6L36.2,14.8L45.6,14.8L45.6,9.7C45.6,9.6,45.6,9.4,45.6,9.4C45.6,6.7,44,4.3,41.6,2.8zM35.1,1.6C37.1,1.6,38.9,2.2,40.4,3.3L35.9,8.8C35.2,6.3,33.5,4.1,31.1,2.6C32.3,2,33.7,1.6,35.1,1.6zM16.8,3.2C18.6,1.9,20.9,1,23.2,1.1C26.8,1.4,29.7,3,29.9,3.2C29.9,3.3,23.5,11.2,23.5,11.2L20.5,7.7L16.5,3.3C16.6,3.3,16.7,3.3,16.8,3.2zM10.7,10L5.1,4C4.7,4.2,4.4,4.5,4.1,4.8L10.6,11.9L10.6,14.1L1.2,14.1C1.2,14.1,0.3,6.6,4,4.6C4.4,4.5,4.7,4.2,5.1,4C6.6,2.9,8.4,2.2,10.4,2.2C11.9,2.2,13.4,2.6,14.7,3.3C14.7,3.3,14.6,3.4,14.5,3.4C12.4,5.2,11,7.4,10.7,10zM44.3,13.5L34.9,13.5L34.9,16.5L11.8,16.5L11.8,11.4C11.8,11.4,11.7,8.9,13.9,6C13.9,6,15.4,4.3,15.5,4.1L23.5,13.1L30.9,4C32.7,5.3,34,6.9,34.5,8.7C34.6,9,34.7,9.3,34.7,9.5C34.8,9.9,34.9,13.5,34.9,13.5L36.2,13.5C36.2,13.5,36.2,10.7,36.1,10.5C36.1,10.5,36.1,10.5,36.1,10.5L36.8,9.5L41.3,4C42.8,5.4,43.8,7.3,44.1,9.5L44.3,10.5L44.3,13.5z"/>
        </g>
        <text class="st11">
            <tspan y="56.6" class="st9" style="white-space:pre" x="8">复制状态与变量记录表</tspan>
        </text>
    </g>
    <g ed:parentid="915" ed:width="150" ed:height="75.75" id="116" transform="matrix(1,0,0,1,2648.06,1808.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,75.8L150,75.8"/>
        <g transform="translate(51.64,1.5)">
            <path fill="#fffdfd" id="465" transform="matrix(1,0,0,1,0,0)" d="M45.7,17.8L25.7,1C25.3,0.4,24.4,0,23.6,0C22.7,0,22,0.3,21.4,0.9L1.3,17.7C0.1,18.6,-0.3,20.1,0.2,21.6C0.7,23,2.1,23.9,3.5,23.9L4.6,23.9L4.6,43.7C4.6,46.1,6.5,48,8.8,48L38.2,48C40.6,48,42.4,46,42.4,43.7L42.4,24L43.5,24C44.9,24,46.3,23,46.8,21.7C47.2,20.2,46.9,18.7,45.7,17.8z"/>
            <path fill="#4c4c4c" id="466" transform="matrix(1,0,0,1,1.25,1.24)" d="M22.3,1.2C22.6,1.2,22.8,1.3,23,1.5L43.1,18.3C43.8,18.9,43.4,20.2,42.4,20.2L38.8,20.2L38.8,42.5C38.8,43.6,38,44.4,37,44.4L7.6,44.4C6.5,44.4,5.8,43.5,5.8,42.5L5.8,20.3L2.2,20.3C1.3,20.3,0.8,19.1,1.5,18.4L21.6,1.6C21.8,1.3,22.1,1.2,22.3,1.2zM22.3,0C21.8,0,21.2,0.3,20.9,0.5L0.8,17.2C0.1,17.9,-0.2,18.8,0.1,19.8C0.5,20.8,1.3,21.4,2.3,21.4L4.6,21.4L4.6,42.5C4.6,44.2,5.9,45.5,7.6,45.5L37,45.5C38.7,45.5,40,44.2,40,42.5L40,21.5L42.3,21.5C43.3,21.5,44.1,20.9,44.5,19.9C44.9,18.9,44.5,18,43.8,17.3L23.7,0.6C23.4,0.3,22.9,0,22.3,0z"/>
            <path fill="#304352" id="467" transform="matrix(1,0,0,1,14.45,27.72)" d="M1.1,10L6.9,10C7.5,10,8,10.4,8,11L8,16.9C8,17.3,7.5,17.9,6.9,17.9L1.1,17.9C0.5,17.9,0,17.4,0,16.9L0,11C0.2,10.5,0.6,10,1.1,10zM5.2,1.1L5.2,7C5.2,7.6,5.7,8.1,6.3,8.1L12.1,8.1C12.7,8.1,13.2,7.6,13.2,7L13.2,1.1C13.2,0.5,12.7,0,12.1,0L6.3,0C5.7,0.1,5.2,0.6,5.2,1.1zM10.4,11L10.4,16.9C10.4,17.3,10.8,17.9,11.4,17.9L17.2,17.9C17.7,17.9,18.2,17.4,18.2,16.9L18.2,11C18.2,10.4,17.8,10,17.2,10L11.4,10C10.8,10,10.4,10.5,10.4,11z"/>
            <path fill="#69d9e2" id="468" transform="matrix(1,0,0,1,2.41,2.47)" d="M20.4,0.3L0.4,17.3C-0.3,17.9,0,19.3,1.1,19.3L41.3,19.3C42.3,19.3,42.7,18,42,17.3L22,0.3C21.4,-0.1,20.8,-0.1,20.4,0.3z"/>
        </g>
        <text class="st11">
            <tspan y="68.7" class="st9" style="white-space:pre" x="8">内部对象事件与属性统计</tspan>
        </text>
    </g>
    <g ed:parentid="393" ed:width="66" ed:height="20.75" id="122" transform="matrix(1,0,0,1,1490.32,1637.38)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">入门使用</tspan>
        </text>
    </g>
    <g ed:parentid="393" ed:width="66" ed:height="20.75" id="126" transform="matrix(1,0,0,1,1490.32,1499.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">开启情况</tspan>
        </text>
    </g>
    <g ed:parentid="393" ed:width="66" ed:height="20.75" id="128" transform="matrix(1,0,0,1,1490.32,1564.13)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">启用方式</tspan>
        </text>
    </g>
    <g ed:parentid="391" ed:width="85" ed:height="22.75" id="142" transform="matrix(1,0,0,1,1471.32,754.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L85,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgflag1"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">表的分类</tspan>
        </text>
    </g>
    <symbol id="imgflag1">
        <image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQ0MjdBNzI2MUE5NzExRTc4MUZGODlEQUJFMDNGQ0QwIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQ0MjdBNzI3MUE5NzExRTc4MUZGODlEQUJFMDNGQ0QwIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDQyN0E3MjQxQTk3MTFFNzgxRkY4OURBQkUwM0ZDRDAiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDQyN0E3MjUxQTk3MTFFNzgxRkY4OURBQkUwM0ZDRDAiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4q+1j7AAACi0lEQVR42uyaLYwTQRTH35suAUuy2SnHhyGIIwFBztAgSBAkBBQoUKcAh8MhEBgUghyXdttAgrhDEAwcOxsuCMCAIoGEIM5AThDau+tBubbzmMWhgGU/ZrrvL7ams2//v33vzZumSETwJ108Nf3bl+Yfv0eYEIm0CxGx2gAmRZimBK4PG/YbA3wVqFajihkwAoJVGYeNypWA6Uqb5vramN/1N5k9UQCM+Z4meCBV62jlmiAhdEcAN+pxOPuva70JePN9ofX5etxZSrPec9z8WI/0ofpyZyXtPTxHjQ9N2q8GUbiveoMQQV8DvJQZmHcRQA8E3q+r8HjlRmGT9l3QcE1GrUtZ3teVHvCNhDgnVfNZ1jf2LH/ryTy3VUM44D9tfs4jhs0Afhjzn6QK91fvOEywgYjP8zZvJQBKmp2gThC1ThYRz7ISoJ4HeNWP2s2iItoEYIC4/bQfzb0oMqgFANAMdjQY1nDvnqW5r0VHLxvAAECvSNWeLusBSmuCiLRuPuIyzZcGwGxxXRP6jtnmzpRdgGWUwJqZ764EKrxnQ+ctGsCwJsQJM9a+sWXrKQQAIehfP10Nd+z2l2/3bZo88gdA8N00mo8m5Q/bOHXn2wQR1gnxia3mcwWQzPSk4VZdtc7afOTOpwTMHm/mu8sybi+A5fKyz3oYE207JuP5t+CAMgRAY3PpfdnZnzq4uLgFjigTAJR0eiHemTP8jAS3lEUTXBNIDxPz4KDE/9V7MtPTzUC1L4CjSl8CBBsj1LNTqv0IHJaX0vxmDUYzUt39AI4rVQkY80f82H3zqQEk5vlvchMiBsAAGAADYAAMgAEwAAbAABgAA2AADIABMAAGwAAYAANgAFXSTwEGAHGGxccyXdAIAAAAAElFTkSuQmCC"/>
    </symbol>
    <g ed:parentid="104" ed:width="85" ed:height="22.75" id="156" transform="matrix(1,0,0,1,1577.32,1795.13)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L85,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgstar4"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">基本概念</tspan>
        </text>
    </g>
    <symbol id="imgstar4">
        <image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkQ1Nzk1RkJFNEZFMjExRTc4NkFDQTJCRDQ3QzQ1MDI0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkQ1Nzk1RkJGNEZFMjExRTc4NkFDQTJCRDQ3QzQ1MDI0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RDU3OTVGQkM0RkUyMTFFNzg2QUNBMkJENDdDNDUwMjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RDU3OTVGQkQ0RkUyMTFFNzg2QUNBMkJENDdDNDUwMjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4/zZk4AAAEf0lEQVR42uSbW0gUURjHj2ZeSi27WKkZhZcsMystoqgoKoKgGyH0UCRUKj0EQUVQQiWVBgVd8El6iO5R9BBF1oNUBEqBRVBUSPerlZqZpdv/Y76lRdZ1ztmZ2ZnZD36UuzuX89853/nO/5yNKKotFyGO2eBOqC4eFcKG07UfgQHgFigOxU1EhlCA2yALpIO14G44CbACZPtcvx/IAxvCRYBDILnHa/GgIhwEWAiSenkvFqxxuwB7AwiQAA66WYB87vuBgkRY7lYB9oBBfXyG3q90owCpYD6I0PFZSpCL3CYAlZzROj9LT0GVmwSIAetBf4ljxnCZ7AoBdoJOyWPoKdjnFgG2cc0vG1N45HC0AGXgj+KxieCA0wUo57FdNebyCOJIAVZJZH4RoDyucqoANLkZbMB5igwQ0nIB5viZ8QVzn5VOE6AiwKRHJUrNuEmzLLEJbHAYGb+FZqFdAw9BI3gSSgESuFpLZ8aCHP43VbLq03u9XBa3jV8jE6WJBbnHohCfjBAglRvmbST5d5n8/xFCs7E6QDeXurE6JzpGdNtEn7/HMUvBL74XqjuegvugwUeY7kACpHO/XQyGgXY+USQ3zl8Wjhb2iRiGIg4UggLwkxtOT9ALUAsug5vA4xVgIr+R7JMYBwrnRwR3E29kMOvAezJnorjRV8BIET4Rx92mkb7tFoOKFSfGl0hOZEdBa5g1/juV6t7+Tl4drcx0hUnj34IF4LNvJbiEM6bb4xvYCB74K4XTFJwbJ0Uz2MzVpN+5AOWBWdw/3PjNkzdxuq/JUAMXED9clvAOg2N6Z4NUMW0CX13QeBrma4S2JCc1HT4nND+v2cGNpy59CWxV9QPOgxKHitDO5X1xsIbIBe4OHxzU+A6eCa7UM7XUExeFtrLjhNGBhvHHXOgIowSguC60Bcs2Gze+iw2SQhlzQSbqwSShvtBhZnRzN82WOUjFFCWFh4C/Nhzu0mQPUnWFqRuQ5/fGRpMbJQc6GFt8OBhqEwHII8y0WoDxQrOq7RAezk2WC2AXU5T8y3yrBZgs1Nb8zQiy6GdaLcBUm40CuVYLkGEzASgpx1glQDTXAnaKNpVEqCoAJUC7+YdRVgqQY8NSmEaCAqsEoKW0eBuKMMMqAaaJ0P7apLfICucu4M0DyVYIMNqg6Sut51dzBvcYcM5O2USoIgBtmOgI8kbJWSK/jnaTlHJVSev1wVrxtOqbZ7YA9PirriG2sJ+wTGgbMT7y6y/5b9pOXx+EENGyJbGKAFQDxEoeQ7NGMlC287de18vnaL1uutDMzGeKQowyW4AUiZLTw/27hg2Uap3H0W8Kydqi3xO+5idHb2SaLUCSRD+v45qhTPGRviq0vUsl3F1adXYDUwVo1fH+O7AazAOvDMjuZ4S2hWeL0BY524xqk4oAz3n48jcE0SO/W2hb7GpNGOdreBK2g0XwJ0ST2QKc6DEMUoIjm/w4n++IBQUPXYu2ve0S//cqCk60UtdX3SmawomKjr8B9gttLc7qoMaeEtoeJ6olzoKTMif4J8AArIjH4LQYI48AAAAASUVORK5CYII="/>
    </symbol>
    <g ed:parentid="156" ed:width="81.375" ed:height="18.75" id="160" transform="matrix(1,0,0,1,1462.94,1870)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L81.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="8">consumers</tspan>
        </text>
    </g>
    <g ed:parentid="156" ed:width="87.75" ed:height="18.75" id="162" transform="matrix(1,0,0,1,1456.57,1775.75)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L87.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">instruments</tspan>
        </text>
    </g>
    <g ed:parentid="164" ed:width="78" ed:height="20.75" id="163" transform="matrix(1,0,0,1,1466.32,1919.25)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L78,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">编译时配置</tspan>
        </text>
    </g>
    <g ed:parentid="104" ed:width="85" ed:height="22.75" id="164" transform="matrix(1,0,0,1,1577.32,2214.38)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L85,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgstar5"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">配置方法</tspan>
        </text>
    </g>
    <symbol id="imgstar5">
        <image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkUyRkUxQjZENEZFMjExRTc4Q0QxRDdFODI5QjA5NkQ2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkUyRkUxQjZFNEZFMjExRTc4Q0QxRDdFODI5QjA5NkQ2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RTJGRTFCNkI0RkUyMTFFNzhDRDFEN0U4MjlCMDk2RDYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RTJGRTFCNkM0RkUyMTFFNzhDRDFEN0U4MjlCMDk2RDYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7nEaD4AAAEiElEQVR42uSbaUhUURTHr+OupW1aSotim6VFmRUVbfSpxU9FSEn0sY0SS7Issc0SpCjCPiWBERUURkREUQZB+KmsoGyBIjJazFLLLe1/eMcYhnFm3n3LvPfmwA9R77x373/OO/eec+8Lm3PutQiyzQUNwbq5K4gDTwNt4DLYG6xORARRgCYQCYaAA2AEKA4VDzgDwtx+jwNbwPhQECAVbPbifdGgPBQEOM6D9TR6HPJBopMFGAnW+Yg9f8FBJwtQ4eeeFAsKPeKDYwSgaL8JRPlp1wpKnCjAUdAfQLvhoNRpAtC3vm2Q4OfNfnF7xwhwGPSoaD8alDlJAFrkxKj8TCcocIIAeyTvM9YMLzBDAFrfx0t8jqbCWJBnZwHyNCZcY8AhOwtA09kwjf1LAUvtKEAmmKLDdZLAETsKUCL57HuLBdPALDsJQJndBhCu0/XoMTpmREeNqggV8jwep9P1yAtmgrvgPngKGsGHYAlA32wamMA/09lNM3j+7tZx8AOWwiwGHdx3gqq6DUwj81urANE+BpjKLtnO+Xskz9dmrSojPWaWbCafhae48wM8B4/AExbljT8B5oF9POXEs8p9fMM4Lzn6UGEti3PzumSwHCzhcYSxKF/BLXCTPea/AGvABU5FByxB2N/C3cZBXxgVXXNAEceS1S5W6bTH4J1u5CmrwB0SoIurNaFmFL9ekQCPwUv+QyhZM9g5ELkp8H0OocG/BeMoyLvc3IE2Kf+EiAATvS2FP4FcNYsIGxqtExJ95QIvwEqHegKtByYJpeDqMxmqF0r93kki0KAXeMsdBlu+XgXbWTW7G60A83g5rCodPs9L4zYbD75FKDvR9bL1AFoh0n7eT5sOfjeo01oQqWAV22zm9lRGq/HXMNAU9rpQ9vZabDB42lw9C04G0lhNDn9CKHv33y0e7WuFcuZI6C2AYGV3WNQTqEBzg/snjBKA7JJQCp6tFho8rVkeCIm9RNky1m2wEXyziAAPhVLUEWYJQEaVlhiLCLBQ9oNaBMgS+ld+tVia2QLkiOAetXW3Pk7nTRVgqoW+fSp4LjJbgHEWEoDK3kvNFCDDgpligpkCZPJzZyVLkvFKl4bnP9ZiAvTJxCVZAWgGiLKYADQlZ5slQLawntFY5pslQLpFs8EsMwRIFiae5jZ6apYRgAJNlw6d7eD8/Z6OmSWda0g0WgCaAiM1dJKOzvQK5fwfdXYFWCuUl6i01h671M4EMgLMEHKnv3p4qjrFAla6/Y+8gI7U0X7ERyFff4wwQ4DZKtv3s6tXcfrs62WIOn6Ot3KtoV3lvWLUZoUuSZUDtS9COaOTywMP9Mh8La/sijlWqNmvnGy0AIFMNS082CL2mCZJl64WyuGNcr5eZwCfMTwIRvtZjlLV+AqvFGt1iu6VfL0q/r3bR9soIwWg5ea7Qf5HUxmdNFkmlBckjLBS7nM1i9DrpU2zkQLQs3jR41nu5iBH+4jTwTODFzsUVHeBUeCax9RJ/VL13qHMSdEyjs4FHORqWBSzjabK9Rxj6J0kOvWxH7xXc5F/AgwAlB7Kc/hRXl8AAAAASUVORK5CYII="/>
    </symbol>
    <g ed:parentid="164" ed:width="78" ed:height="20.75" id="166" transform="matrix(1,0,0,1,1466.32,2276.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L78,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">运行时配置</tspan>
        </text>
    </g>
    <g ed:parentid="164" ed:width="78" ed:height="20.75" id="168" transform="matrix(1,0,0,1,1466.32,1980.38)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L78,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">启动时配置</tspan>
        </text>
    </g>
    <g ed:parentid="106" ed:width="85" ed:height="22.75" id="180" transform="matrix(1,0,0,1,2747.06,347.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L85,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority1"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">语句事件</tspan>
        </text>
    </g>
    <symbol id="imgpriority1">
        <image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MTc5MWZiNS1jNjU5LTdhNGMtYTdmZC1iOGU1NDQxOTk2OTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDM1QTY0MTQ0RjFFMTFFNzk5OTg5NzAxRkFDRkJENTQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDM1QTY0MTM0RjFFMTFFNzk5OTg5NzAxRkFDRkJENTQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjMwOGYyMTAtNTdmOC0wMjQ0LTljNTMtZWFlNGUwZGU3OGY5IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZTlkY2RhMjUtNGQwNC0xMWU3LTgyOTYtZTk5ODAzOWZiNDVlIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+LGTaZwAABhZJREFUeNrkW1tsFFUY/v+zvezsLoWCtgXb2Raw7FYi6lO9YcUoxmiMlwcvEaIQidGIESV4CSFKCOHB8CIkXAy3BJEHI6gPRrxBQhQIkEh3G5qWnW3lolRaure2M7//bA10l3bZLTM7y85JpjOdPXPO+b/z/beZc5CIwM6lJB+dBCR5LgDWg6BGJPTxrWkEVCWA+gmwkpB6BOAF0jAESG0IWqjE4fxtxuX2C2aPDc1iQNBV/xygthgIHuZ/e/iYzEf5dQcEoBFCLz8n8XU3A7RXU2FnUyLUWvAABJ3yYyDgA75s4cEPcMtlBjUdRYSICrShKRJeVXAABCbIs1GjHdySlyk+2TS6MqgaQCkifuKLhFZZDsCJyoZJzgFtF5P2ER6dM1+GC4FUIoyzHXnHHwtvsQSAVo+8TKiwhkdTBhYVHnlUCDg2q1+Zm1cAgi7vNyx4CxBVFIIr0yWgIcfdTQOdJ0wHIOiSO/jk5UMUmEuPA+JStg2bTAEgWFE7BQZFN898ORRoYZsQQcCNvqjyfrbPiKyFVx2nCln4YeOIbjaQbzJLlxkKAA7hedb36pshtOXAiQMoWsWB2FuGqECbS1a4Rp1ZA771220wZd68kTbGKCRiZQIemh5RjoybAQG3/D0LX2vmjFXed79Z+iBxKPrHuFUg6K5biQQPDgdg5hRv8BAIp7lmJeCqO54zAKcl73Qg1C2px6yBTTu8HyRZNt0mcGg+K+jxrsgJABVhh5nCT9q6DirmzMmXa5A4VF+dNQCtksy0p3vMGk/NT19BzYsv5Ns5iIBL/jwrADjt/IJPklm0n9TcbEmIwIZsSRfWSRkBaHPVPs8Va4zu3fnuQmjoPJo/2o8BQr+T1mcEQEPHR0brvk75+tWfQnl1Vcr9vpMn864GzINFYwLwp2d6tSDyGdljY8/pUSmvC//XvU9ZQYJE0CnPHxWAMhh6iZOJUkMhT/PxWjwB53Z/aZHwyeJCgYtH3rjyVlgjWMgIOczqOaYocHbtOhjYts/qdOHRaxhwDG9zcex8hxm9Dfb2Jmc95HugEITnnI4crZ7au1IYIEn4BMf8l9kDVBrZmS74pUXLCy1ndpZoQs++TlxhgCDHbDBYeL0UnPD/TzoRNqeoACH5EexTWN6GFABY+AawV5ma5gapylbiE01MBYCw0lYAIHrSA6Hz9tIAUgLu+qlXAUC4xVYEAKw9Hw39PZIB/9oJAI564y1EQ1fdIMA/9jIBcCnNDZJiMzd4NjUQImyzlw2EjjQvoANA/fYwgKAJwONpKiAOEqCwx+RjZAjoUAoAvljnGUam1xYMICppiikH0wMh3RDstwUDBPx6zQuRpG8cfh0eK3L+J4ho06gANEXDvzML1OJOg6HcHw1/PSoAyeLAzVxNLWIEdqXfSgHAGXF8aOLHYKulZ/V2fJwRgHrqjHPFDcXp/8V3/lhHKCMASZcYDb/Np2JTA9Ud0xaM9oMYA66VbDHjRTL3g/xnfS2FY1kD4IsoazhlChSJ7nf6osp7GQKj0RdJteOUiiHJw2mysZ/L8lxipRrdOSMebh+rwpjx/0y62AcaPcmX0Zs06ImT0JZkEj4jAElViCs/MEfWMUluNhASbMe2+Pu7dmaRG1x/qWxAkjciwmsA1q0Mz8Xis/AH2I7Nz6ZyVimwP6a8wWHkLgYrWvAzD7AnW+GzBiAJQkRZJAR+hoWbMOmrxbezxX85x/Q4t+XyrW75aUGwB6CgFk7HWJKlvkh48zjeD+S+YaLV01AjSP2RLe1Mi4HgiJW6hKo93pjoDo7zBcn49wwF3d41nEKvAGsyqAGegN2+ePhVuAEhbnjX2C+IJTVS3Xa+fFZPKPPg36OIdFhDxyv+yJmzNxwoG7VvUP/WhkBrub0FSEk/bKBqcDxPpJHAAyRgedPl0CnDWjZj52jAVfcMIr6OGrQQ4iABeTBXNSGI8BNuvjrK7WylMm2vr6/rouGpktmbp/V9wwLEXBJqc3L/MEA1EE6k4b1e55CwioOsUnZh/RpBD7OomyOZIyVIP3Nqvs/s8aFVu8fb8fYKdYLKapO42NjXbdm3SbT79vn/BBgAbAxTeP5x9p0AAAAASUVORK5CYII="/>
    </symbol>
    <g ed:parentid="180" ed:width="203.625" ed:height="18.75" id="182" transform="matrix(1,0,0,1,2865.06,373.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L203.6,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="11">events_statements_history_long</tspan>
        </text>
    </g>
    <g ed:parentid="180" ed:width="171.891" ed:height="18.75" id="184" transform="matrix(1,0,0,1,2865.06,349.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L171.9,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_statements_history</tspan>
        </text>
    </g>
    <g ed:parentid="180" ed:width="173.844" ed:height="18.75" id="186" transform="matrix(1,0,0,1,2865.06,326)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L173.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_statements_current</tspan>
        </text>
    </g>
    <g ed:parentid="188" ed:width="139.484" ed:height="18.75" id="187" transform="matrix(1,0,0,1,2865.06,397.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L139.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_waits_current</tspan>
        </text>
    </g>
    <g ed:parentid="106" ed:width="85" ed:height="22.75" id="188" transform="matrix(1,0,0,1,2747.06,419)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L85,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority2"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">等待事件</tspan>
        </text>
    </g>
    <symbol id="imgpriority2">
        <image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MTc5MWZiNS1jNjU5LTdhNGMtYTdmZC1iOGU1NDQxOTk2OTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDY5M0Q3Mzc0RjFFMTFFNzgzRkJDQTZFQkVEQThDMkYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDY5M0Q3MzY0RjFFMTFFNzgzRkJDQTZFQkVEQThDMkYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjMwOGYyMTAtNTdmOC0wMjQ0LTljNTMtZWFlNGUwZGU3OGY5IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZTlkY2RhMjUtNGQwNC0xMWU3LTgyOTYtZTk5ODAzOWZiNDVlIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+DzSzTQAAB7lJREFUeNrkW2tsFFUUPufOPmalQEtJURTKtlZKREgaFI1R8I2IREwUkKhBJRqV0qL4iBIUQnxE6daKKEnlR0NQUGt8RAwKopaIGhV8UEB3V8GgPEQo7nvu8cwWC9sd7HZndmfRm2wy7Tzu/b577nceMxeJCP7PzZGvjqJ15VcQYTmhqBZIVXx8GhCVEcIhgVDE07Cf5+I3ANopCH8kSTvUpuD6XI8Lc2YB94wsijhDUxFhJvdxIf9nL3dXwgCdGdwdI8CDiFQCBBt5hM2ekuAaWECy4AmIzfNO0+I0jw9HMXjGi+atjDDOI3UwGesAcbHq839ccARE5lRehkI289P68kAH5MxkATp4yNuEhFtdTYF22wmIzi2vIE2s4pGN4j/VPOpXhHVkXSyu3dr/hZ8PZvsQYWYE4bmVT4IUWxn8eXkGrzeVNeJa1SV2h+qG3Z13C4jUezezOZ7Nt/ex35nhERaKt1Vf4KbcE/C4Vw0fhD0MvriwPDppLJY71cbAiJwRELt/eLVMRL/n2wQUaGNAIXciNAiW7j1iqQZE6kcMY/CfFDL4To+Jp0RcfdrhnrIi6yLBem8xu7btDN51UsS3BKdHnUV73LpLtmIJROu9f/Jl/c2OS5xbC8rICwDLBgOWDmI63V3n5IG9QPv3gAxsA23tw1ZRsZ2FsdoUAeE5rPadbs4UcOfk2wD7ZsYhdRyCRNt75okg0EjA656GwNSsCAjXeRtZ7WfxoSfbMThnrgJl9PlZ3att3wLxZdeZ4oCTh0MK4nx3g7+pVwSE7h1WIxy4gQ/72QHeShIYYtyjukvhqfaOjEVQUfBlMgE+ud4NwFMsCtrXbaB98xHQtpbOWSifBErNVaBccEWKLiTHMXw00JQmSLTOzt41IjjDkehKNuPJGVlAtLbyGlDkGj6Vtem7F32TtuZ18LEVi7uAGzXX/M0gSsvS7os+UG02iYpgnGpcS4PbeowDSGgvmgGvz76R4PUEPnnNorFJwCmDZ6tQJjxhUg9B1ZyipcdAKFJXcQuCMBXm6q7OaC33BL7rWl4iac+srjHtExlsJVv35T1YAD1AQEWmzI39fBqoH77IXPg2taY/c3C5BfERFZMiHz0hAZG6yqG8VrymmT5taLo72rg484H+/E46Ad3E0QQL4zBZqjLyAihnSCIVAc0VSRpmAw4bDWJwBYihZyajvoJJlgDjoVrvjXy42sgNzkALkh19BvVfthVMHHGzofu0xgDIyQZwxz8EHANbW6X7/KpCmCWlOj3ypgO/W5kyjk/TgJhIXE0S/ioIAmouSteQHVutWwYIBxL13vEpBEjAkXyixG7wjunNhjGE9tX71hkAUWmCsCqFACRZbTd4fe07xl5qHEMYeAYTSujkwGh4Nwsw7/7MNtfMRwzFz2wyZLwMOie8iwAhxEBbwXMOYOTr4++25KQ/DvVPTfUCRCV2gu+eACVNf8tnvQqgemUBhAOPEZB0gbSvoMDrdYAV03MoOBhKsQBCHFJQ4HOw7rstguJjBDy38zBRfsvd9oJP1gf+SHWDSIfz5ercT7fbCr4zJMYDqbmAhP1My4BcdpqsDt9wt6Ha5xP80ZkPphDAFrCLWTkrZ+HthCfAOWGacf6fZ/DJ+UZq7x4IfWUH+MTm9XkHzyF/B0n8KTUQAuVjXhlH8gk+vvYVSKy6Pf++l8BBMvFpZzxwXFU4UueVnQKZW/B6eJtY32rlK7De2sAvqs9fnl4QIfgCTL4G6+qifBI4Lp1iCD6T6nBulwC2ptUDjpaLmnXLtKIT57R5hmqvz7yd4BlkWGi0wpCAqBJ/DQFMf4snxj1iXBgN7rDR7LuSoKjzOf8WQwL6Ldn1BwF9YLqocf6VxqLX2gQ2o9cEwvLUpKjbq7FYXcUoCXITn8rq46dkpHfnwpyMn0XaLANSLfG6YcGGhKEFJGN0n38rZ0afZz/7E6FAG/HybjgevCEBnUqduJkvzqoObfRWyHbkR43b7QvebxASpzfPsl2/8k2vMglarwXQQPzsbgIozCv9wRPkBMZNLQnO5BT5V/gPNIniW09joNG4MvQvn8jE7xs+WtOibdkKYkGYP4HmURJ9YcmucK8sIBnMPLt9C9PzEBJETk70EEEFLzkR+B4JSOqBL/g8y+dqJiJ2MmFn/QqRoPnqEv8n/3pdpp/KhudUvIUgJ3IgrZwE+KPs9FrURv+sDAojmTVPo38yomiDLN1jHluITf/JTMD3igC9uX3+cWxbK/WgrEDNPiyIGHzgsYzvyWa/QGiO9y6OqZ/hwwLyDpTgbHaS2xfo1VvUrDdMxOYOOUdKx5vcMUc+6LBx2mOMIOg57B4DzekfQuaMgC61qfMuI8DbM9wOZ/WsS9bkZ9wNPz2YNX9W7Bo7PHfIAJfmaGFFGQf52UKjC3GrGi69BV760lQBx9J9g7HZ3mpScCEBXa/nEfxkl3WWDlF+roNIvCERZvfx+S35ZiY3O0drq9wRod2AQLMkwIVCD0oy2LxgMDx9M5SLraqNQFnuGaC+AQu+szQgw3xsnmaduAoFXiw1GoMI5UxKGZPTj7vXc/O9/BvEo1CYKBYx3Eckd/Ny2gQSPlQbgxtyqqF27h7vuPeMUpCugZqbfi9uCPxpixP5v2+f/1uAAQAxlTP4YcckUAAAAABJRU5ErkJggg=="/>
    </symbol>
    <g ed:parentid="188" ed:width="169.266" ed:height="18.75" id="190" transform="matrix(1,0,0,1,2865.06,444.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L169.3,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="12">events_waits_history_long</tspan>
        </text>
    </g>
    <g ed:parentid="188" ed:width="137.531" ed:height="18.75" id="192" transform="matrix(1,0,0,1,2865.06,421)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L137.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_waits_history</tspan>
        </text>
    </g>
    <g ed:parentid="108" ed:width="121" ed:height="22.75" id="204" transform="matrix(1,0,0,1,2747.06,834.63)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L121,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority2"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">等待事件统计表</tspan>
        </text>
    </g>
    <g ed:parentid="108" ed:width="121" ed:height="22.75" id="212" transform="matrix(1,0,0,1,2747.06,965.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L121,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority3"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">阶段事件统计表</tspan>
        </text>
    </g>
    <symbol id="imgpriority3">
        <image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MTc5MWZiNS1jNjU5LTdhNGMtYTdmZC1iOGU1NDQxOTk2OTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDk4RkI2NjM0RjFFMTFFNzhBQzhGNjM2M0I4NUNFOEQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDk4RkI2NjI0RjFFMTFFNzhBQzhGNjM2M0I4NUNFOEQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6M2RhODcyYzEtZTY3ZS01NjRhLTg4OGUtOGMxNThkNWE3YzExIiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZTlkY2RhMjUtNGQwNC0xMWU3LTgyOTYtZTk5ODAzOWZiNDVlIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+AI46PQAAB2VJREFUeNrkW2tsFFUUPne7pS2ESoHyKC9FpYpUWjEQSFQSEIjl0YL+AAQkGhM00T8aNYgEg8YfGBIJGiEG8Ik2yFIwSMJDTFqxgIARo2grLba0vLHYFtvu9TszhX3MdDuPu7vTcJo7Ozvdmbnnu+d97xVSSrqVyZ+Qt2wTBeSjXJI0kgSNxvkwXB1AQRwFZeL6JZydRzuD77/hejV+8yMVycp4d03ETQICYjKOT6MVorWAsdvAaE+Ldzdq0Eh8plCA2mgTzZWHvQ/AdjEGx+UYvSLtu6R0RU9uRmvF8z4CICtptmz0FgDbRT8ct2DMHsZn77jJq4RyCGpH20hz5PPeACAgPkTHlqJTqQm0XdzpIP7egGq8nRwASsTjYHlrx7eUJBnx6wD+FNoMqEWdkwf4HI76WjC/sYPxZDHPlAZZyINSVNLXojgxEhAQZTg+iNbDYy69GSqxDirxSnwAWCV8lE91QHyA5qK8SALuNkh7qVjOUqsC3wk/jaUqMD/Qs8zfcLuCplMpDLNSAK5QA44jukl0mwogFmveSYkKBMQxHPNddanvcsCHgDBzCKIEaJA/LD66XEP0Ty3RhV8QCD+rVh0kvYhweoNzAAJiMx60EA/yO2Y8D0xlDbf2+5arRCe/UglEEzzEeJonT9oHoFQsg0F5B2eZjl498nOi++c76/b5U0RluapAOIcgOoeekO3WbUCJ6Avm1yaFeabsUURT6lUZxv6Q3632jGAP+tixn2ex74z5uhNEh95l1Qq1n79A7tdg/G1vOJy8fSpsgQ+tkHaJu62pQEDkA7Vy3JTh6IWPVBt1vq2FqHw10aW3Or9v/HGinLHG6/ueA0AfqJCECsQHE7qWAKFldc6YH7TG3OAdWR+beaaKfN0jRNNdi9Sogo/uQ9Y6MTYApaIQSN3u+CXDpxqvMVP1L1m7v2qPiUqNVGULemFg18UGIEgrHBs+rbMm2J0ps36/mftjW6COciEF95oD8I3IAkoFrh5f9hrRUSSJlfv1kWfdr1rgpSixF3iM6FAowGlFwCNcprZsrLhYdUZhlxlElfGhj57E5wozFVia5Nxejx/MbIhaGgxbNzASgM2Cg/OxSRfQUY8Zr1XuVJ0xMs/FkQD0QaAgkPMli3ov0yO/9NuMIbFVD2JdCVJh7KdG2wAuZ/dNOOMcN7DrHJAbmSFq9qRBZT4QTROiARgN0UhMoeOeUrQuCjbVPxAdmxTPXvSLNoJ3JK5c0Sv2/zlfiC/zbAfSaLdICwGg1/kSQ5lDY/+f84EiqecG8aP/6Dq8wU0ABGUlVPfZuHGwxI1HnAshZkDMuKJnl+qpDTznhGyAQOgikSwkgjozbGwQ85+J9AR8Pul1ooOX1GSEIU9wHZ4gO1wFaijZxO7u2z7G2gB7hwdeVW0DeiDkuxyuAn97JlqvWGW8xik2S4g6CfBDAmpCAPCCBK8Qizq7QSuptnMA0ulEOACC/tAMg1fobLlJtDhI3fODdI1WymC4BNQSr+LwCpmFv2rrAvXRgdBZGIardKuQj45GAjBXVuHM/YIpTmqGbdCruVwcndmsX/MSSQRBkg4YCyKSduDobkpmyvvGa9kP2ffhZhbfrHTuzAAyr9uMBZEU2kS84sINmRUv+o+2/5xsk8pcY70qGaihYnnRCMAseYi4MOaGGk6Yh7R2acg4E89QoUL8g+B4S6Q5iKSAqxfU7ja/biexKSg3FkY4V1AxYaovoPg0FgDr8CPnssa6XteJFJjV+6KJjeeIicbrPGOshg4j0zwdgYnJ1BhbyMmuXsNZXPQo3rARPPkRPprsJdhQcj3Q7B51xZF/MdyzaLY8EBuAHWIYdIUjwzTHr+IUlrM4v8uFoixNFfmqRv84Rr/AGBJE0xzJC5a3k74Y0RnxPCBPhrpxXVwrUMd8M/K/xaZmwXSBRIlIoVTNI7ivE2p6Pcm6NLCa/F6irhrMS67baTeCvULrAOiq8AIs5pvaKm8VxEZw8Dhdz8Pjep75aTwHqfkTXmR/17PI9uk09aQJNE2esweAbhA5YppDyZ4xck7XMPoLaJ7c2XlaEIuK5DwI0Oluyjwvr18fi/muJSAkCU04ZnQj5jnX34sBnN51YmiFMohr2Re7EQCVVpi3LgG6FPSBSF328ELZGyP/K5jPs+wk7K0WFwLZQi1AGJSwqTTriU4revQ9mLdVPLS5XwBoFckcvGwfWpNnmBcIcwW9Z5d5BwDc9A6P4s41eOkFDzBfA1e3CH1yFDm52zP0pRiDjGGzNqsklO0QsyryvBWvjPy0hGbKWsf4Kdk1tktMgwZuQId4uqlnnFlvwnv+ojZ6Cj7+iGsBUrpvMCDmo3MvY3RyO+IGoWi0g1oxg+gniPtqML5HmQbFZedoQNwJG7EE3V6ozcLqW2TTbep2i7aeR1I1zj/BMz7TqteqTUjcN0/ziqx2mt2xqXIU2lAwlYXvvBibjSjvHc7A9yYtziCqwzmv7z/IUMK4xXXtkkja7nFeodGqbaJuAjxnNRebDCdyq2+f/1+AAQBgsWRvu2nK1wAAAABJRU5ErkJggg=="/>
    </symbol>
    <g ed:parentid="114" ed:width="121" ed:height="22.75" id="276" transform="matrix(1,0,0,1,2819.06,1357.13)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L121,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority1"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">复制信息统计表</tspan>
        </text>
    </g>
    <g ed:parentid="114" ed:width="97" ed:height="22.75" id="284" transform="matrix(1,0,0,1,2819.06,1503.63)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L97,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority2"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">变量记录表</tspan>
        </text>
    </g>
    <g ed:parentid="116" ed:width="97" ed:height="22.75" id="300" transform="matrix(1,0,0,1,2831.06,1631.38)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L97,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority1"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">事件统计表</tspan>
        </text>
    </g>
    <g ed:parentid="116" ed:width="121" ed:height="22.75" id="307" transform="matrix(1,0,0,1,2831.06,1751.13)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L121,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority3"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">套接字事件统计</tspan>
        </text>
    </g>
    <g ed:parentid="116" ed:width="125.4375" ed:height="22.75" id="308" transform="matrix(1,0,0,1,2831.06,1703.63)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L125.4,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority2"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">文件I/O事件统计</tspan>
        </text>
    </g>
    <g ed:parentid="116" ed:width="124.0625" ed:height="22.75" id="310" transform="matrix(1,0,0,1,2831.06,1862)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L124.1,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority5"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">instance 统计表</tspan>
        </text>
    </g>
    <symbol id="imgpriority5">
        <image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MTc5MWZiNS1jNjU5LTdhNGMtYTdmZC1iOGU1NDQxOTk2OTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEYxNzgxQjI0RjFFMTFFNzg3RDc5NDlEMEQ2MjhFMTYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEYxNzgxQjE0RjFFMTFFNzg3RDc5NDlEMEQ2MjhFMTYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjMwOGYyMTAtNTdmOC0wMjQ0LTljNTMtZWFlNGUwZGU3OGY5IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZTlkY2RhMjUtNGQwNC0xMWU3LTgyOTYtZTk5ODAzOWZiNDVlIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+xB9SoAAACEpJREFUeNrkW31MW9cVP+faQPloyQcjJISkYMOo1CVda5zlY2k7teoqtqrq1lVLlDXqEhs2VfustvyxpdMmdVun/DFVDYaMrYoyVd2kbvlQ2mnT1gwtAcMfQWqWYpuSMiAgQsR3wPienWsqiv1sMH7XGMSV7Of3/N679/zu+fid895FIoK13KzL0cmeuo7iEFichLgNSN5PSKVAuIn/KiABEolG+PcgEPwPBH7A+zeExdp25Uhpe6rHhqnSgM95OstDGHqeBf06ARYBSIkIubyPCQxrgoCmBTBcCBd5/1Sry/bPVQGAw+M/xptvs5QbeJut6bZ3eJSIBGesMPPzyzWVXSsOABb8+zzAXxFCiIXPSpXKsjZN8PcFwNzDra7NE2kHwFHfWY1S/h4Q1vFuxjL6LwaaXvO6y79HCpd0ALDLE3hbAj3GP/PS4sIJZlDgTQvIr152lTcvGwD3/+laXvatzB5W9zxWd5HuUMYOc8wi8HjzUfuJlAPgbLi+B0LWS3yVBRBWUMM7bBJnW9z251IGQFWd/xBfcZIvy12RrIZNgsd2zVtj26kdAGeD/2Hu4ByffvfK5nbElimaWty2/YmcnZD9Oj2+/atD+PCcqknd6/AELmnRAHZ4mdlDWZOMbFLO7vMbMuDEs9tNi1Xl8S8NBoAgs0hmkPZvmdKA7KGMrmSFDwNYmJUmd6A4CX3DWdd5MGkAWPXPMXf/lJmBlBVkpc8YCHMlhk48dMp335IBcHr8X2Z3sp91yVTGaNuUnV6PAFhokfiXJQPArrSOr77H7AAK8zNXQFyAkofq/AcTrgc46juOIIkCsx1/aXMWZGVEYjwVlLCvsXO5MchGxNd4eyYhDWDhf8Mb01N3XwwHODA8nSZ/QLmO+sAPFgXA0eD7DjsPLXq7faMRgED/ZLqcQYYg+VOESAJvAEBI8V1C0uK5tqw3AtDeM5k+XwCYUVUXeD4uAGz7lZxZFerqsKTgLsOx0x9OQBpbtkQ6EhcAlHCINzk6ejpUarzN8MRM+okywd4FTEB8TVdHthgE6MbAZNoB4PA+XdXgf8oQBln9CxBFiTb132D0o91D03P5wXMPrAv7iPlm0j14B3pvT8E7/x2B831TKfKFkEkSD/PPsxEAkLQ+ARaaRElauGtRDAfYPxqE3z2xCXbce3dcn6E+u8rz4UDvOBw415eqfLHSYAIWkp9h4dfp6iQWAzy4pzCu8NGtfEsuNL1QFiZT2puE8p2n23MjfQBSha77x3KAqkWzwsWaOv/HTxbrBwEhmD2RtyXSBBC367r/juL4NEJFgnfbh+BK9yT8eyg4d7y2Mg8c23MNGqJAqH14E5x/8yOdEFikkAoA3/xcoEDX3YvXxyaSigZXxxHk5PUxAP4cKh0F96NFEdqizOnVfRvhpaZbuoZopRBujgqDqM/+12XFnPnqBGZREaW/tg0aju+uyNepAYIpb8kcALs8HTvZLqSuu//sQg80vncT/vX+7XBoUxngG00DCV//6tURA2lSGvHSznt0gpA/5wNCKPYIojxdj0mVbc/a91jS92i6PgzVD26MOFZZxL7l6ogeFZCzT6k/NgHsY+FDsIJaYHAqIW5hghPfnAMAZagX1cPnFdRiJU3aqkuoikRiYA4Ai1X0rqk3ZSRMS4RPAGjusfeySmStGQCQ1CO0wTkA6DhjQtixhnRgLFPODEXxAOlfSSOMRX9VSNWUDYn/1FT0RFBhPvoH/uMxdg+mTMHrthuOLfWxlmqxCqoqVdZUFLhoyAZLN9jfJiLTbjbWLCVDYMIxP6q936uhoIIwjQJPGwB461nmQ0StpuN3jKrvbvvSAFAFk+ikSLHJcL5gevbB0nK07O8xS2Io4BTTI1OGdvbaSMxCR7wUOVar3WvMyy53DOviAJcik4L5KdL44GlCGDRLg9u7Rg3HVYaXSF6vKkaqGBKdSOnIBJnq3J4JwcnIiBjFgJx1/lcI6Yf8V9IPRZUKv/J0ScwCSLNvGJo/HI9gegoYx9Yc2FeZD/k5VoPq//Jij6YaIXZ73bZtCwIQ9tp1/jusKqaigRJKVXOWWgWKbm9dGQhnhxqmf4oEfaXVVX4hrgl8EiXoRwyAKcjVjKmZUzOYTFPX/fZvvXqEn1X/QLTwcTXg49itSrJFOjpfqBIcqykf8s13+7UyPynxkbZaW5uhNBQXsVDoAArrHxki0yDMCtMPL1eth4qiu8IVo/m2rpzcCH/aPxqHfwTGImqFGpp6m/TPbW6j8AtqgGqO+sBPBNEx0vfWdxoSH+j1uuzF8fOiRfLgKo/vAlPkJ9Wj1VUoPLW67JaFXqZe1EV73eXVjFHnqhOeYFKQ5bOLvUmeUIxqdds5w6G+VST9OFjwhWZ36dXFzkw4SLfeLN/KNnB7NeT6HMa/6D1qezOx2sgSa2EOj7+NgdgBy7TgaqnFLs5nvtBy1P5e4sWhJIqBznp/A1+mXktfEe8O81gkT8otErn3LnUZTdIrRpx1vsMS8RfccXFaHT3CKAeoZq/L9nhS15tZMvNgY/cWMT3VKBD2Lz9XoBkCMSoIX2ypKTuTNIA6Vo05G7oeoFDwDZ6JMp6RVK8fCmJ4ZRoeb3bZfm1ag3SuG6w65XscpDjGs7MbJGQyEdG4nohDG6Gq5DZ6a+wvazOhVKwcdb7eVSStoYMo6TD3UMmqOs2kLGd+apYArwyq+p1aRcpe7jyhaGx1lTVp9yGpXjztqO/LETT+DEl4hARWsPpuA0nqqWceCzgBs+qcQyTZpnGYI1k/z/QNJFW6kme9tZ/+IKVONF2rx9Urq1WvB7YGhcUyFpzp871on0rLONb68vn/CzAA3QhB9MFqYfAAAAAASUVORK5CYII="/>
    </symbol>
    <g ed:parentid="116" ed:width="164.703125" ed:height="22.75" id="312" transform="matrix(1,0,0,1,2831.06,1788.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L164.7,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority4"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">prepare语句实例统计表</tspan>
        </text>
    </g>
    <symbol id="imgpriority4">
        <image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MTc5MWZiNS1jNjU5LTdhNGMtYTdmZC1iOGU1NDQxOTk2OTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NEMyQUFFRjk0RjFFMTFFNzk2NkM4RTM1QkFDMEZDNEQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NEMyQUFFRjg0RjFFMTFFNzk2NkM4RTM1QkFDMEZDNEQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjMwOGYyMTAtNTdmOC0wMjQ0LTljNTMtZWFlNGUwZGU3OGY5IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZTlkY2RhMjUtNGQwNC0xMWU3LTgyOTYtZTk5ODAzOWZiNDVlIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+VnAMEAAABulJREFUeNrkW3tQlFUUP+d+SzwkCXxbSaaGjOJUxjSlFQJCTFpjwQJiOFo+ppxqLGt8sXyS0zilNpZOZtkUKY9UBp1szAVpwpjx8U+ajtroaA8NAwQ02Nc9nYUxW3bBhd1vd4Ezs+zOZb977/mdc3733LP3IhFBfxadrwbKPKAmk05G60DE2IhiEGkEIA4BwkYAiiDAOpRQC4IuKCDOElguCrOu8us0Q5OW80KtPEBfszRUaYnIJJLzCcVUBKhFgigCCrr902TjqTXwh4H8+pUEFeuk2LEjyXA+4AHIrVyTYSZaBgQPszVZXy94mX2KAluAZD1J+Khkurou4ADQHyx4Sgi5nT9G8owjNfTaVrRjgri8ONHwod8ByKlcFW2VQUUo4EEgCvUhf1mZNxrJZl1cmlKwyy8AZFfkr5UAb7BFwvzH43iDlfixKDk/zacAZFeoP3FMTmJXHOD/xYzpFaglyGoZW5i69rKmAEyrmqYbbku4wuw2KACXdTMhpZckqvs0AUBfpY4VNjhrp6DATW3wOgh4p3iaYYs73xbudjv3sDpKSKoJbOXb1sxwJuN1mRXqHK95gL7q1XC0DWlAH2aOnjsCNoOULxYnq+UeA5BVodZrvLa3E+s9T8JzMYkdxs73xBssAqz37kxa+1ePQyDTyGzvA+XjI+6Hp8dM9bYbBEkKOttjDsg6lL8ekRMcH0hu7AwI1t2hQShAeHalur/bAKRXrJwEEhew9TXP7pbFpsOQAVFadc/cDVOzKg0Z3QJAoaAvWfk7tVb+2eHxMHnkRG350K6HFJvdBiCj0pDGrj9ea+Vjw0bACzHTfZUsRuqNeUvcAkBHYiu/hWg9p1cmZWgT950UfwSK924LQJYxL5dTncheHvedsAEp+oN5S7v2AEV5mzOp8N4e9y5FYigKpXMA9EZ1FEgarfU8XMV9k+m6jxJEiNJ/v3q0SwAQZQ6QtrG//pHFLuN+24k9vtkpgAxRhC7HJQACRA6vGUKrwZeMmwl3Rwx3aq++dByONp73jQcQIgnKdAJgznfqQN7jj9Nq4KRBcTB11GSn9j8ar8DH5/b5lguIYudVqSEOAJhDZRr/54Zmqe7EmU5tJqsZ3jz2iR82itBktspUBwAUKSbyVj/Sl3H/1cl94A8hEndZUcQ4ACCJxoMGpY6X7kvpNO4r6k74q2jCRNCe6YpbZIBeX/7sW9zpYx4PjLh3ZsPRHVeBwd4eY0Hc8y7j/rNT5YFQMxrqAACBd9PftQ/Nh4HBzgnl7jMH4fQ/l/2uPaf7Uf8BoK9SeabyqjfjfkzUKKf243+ehL1XjgaC9e0/Wzbf8oDgRht/jNYy7q/eqIf3T++CwBFxywNKH9vQwm82r6z3sTNcxv2Wn7+BQBIO+XoHDkCgRk87XR2X43KLGyhx3wGCurYiwf9IoZZhGepJlxOGus6kZ094pu3VEylOynesV3hUJncgwUuOq4DEi9CPRBCe6ZAHyGNgz4/6gRDxnkfKc44AoKjmv9f7hfVRgI1ktQMAJUkGI6MS1h8AkCCbSlMKLjiQYJsTKFhDEnr8+5SnBNWR8LxJeg56gtjrsiJks8rP7aWBvm1/bJFo2e4SAFOYaTfaywV9Wyylie8ecQlA+ZR1zRJs3/Zd9kd7trvNgRCdU0RlJWpYGvOr86OEUAVWdQlAaZLhFEHbkti3rG+3P+DmLxIMrV0C0N5onkvUt8iQmd9alJT/urOuLsR+pAQRC9sPLfcJaUWyrXBt7E6kJDn/Zcbttz6R+BCcLEpe84FLz+jqkNTsA3kTbDpxxL9HYT11fbQ0htcN3v/opqZueUBbKKSu+YVXBPuvqa29lPZbJGBqZ8rfFoD29FTdyh6wk3sz9TLebyGSBSVJeYe6xMjdo7KZxvwyJsYZ3HEvOCzJxkIoKk40zLvtztDdLpkUZyHBD0AB7gns9mzSDe4o3y0A7FKUbEgGQYWBywn2azX0Pm/tV7j9RE/uC2RX5C3kRzcQBMJdgZuGRwugnFU0Te3WXqbHFyb0xrw4RWCZJIz27yFqsnCee9Gka4ovS9h4rdvAeXpnKMuobmHC4aTJnetwXrY6cY4jcCPH+1s978MLt8ZyqpdHWltDChEhgYHQPCw49EwCobzRVJe7P22TyTMQvXhvMKtCfYBBKCBJ6ewVVm7y5ilIc1vRDqFMZzG/1t27QT4B4KYsOr4oqKFhZIYCsJD3oFN4hBbswbljfu46k1swM/thQvq02dSwx1OL+wQAJ8+oVFN4P/4E5xDx7LrRPOQwIDkQULCXyFpuH8bqKiBEM0f132zl36WkGkURxp2JhkptecSPt8f1B9Qoa6h1GEnd5bIEwzV/zAH7+/X5fwUYABP9uDQ+1Uq9AAAAAElFTkSuQmCC"/>
    </symbol>
    <g ed:parentid="102" ed:width="73" ed:height="22.75" id="389" transform="matrix(1,0,0,1,1589.32,27.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L73,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgstar1"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">是什么</tspan>
        </text>
    </g>
    <symbol id="imgstar1">
        <image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkI2OEQ4MUJENEZFMjExRTdCNjg2REUzMzYwNzdFOTQ4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkI2OEQ4MUJFNEZFMjExRTdCNjg2REUzMzYwNzdFOTQ4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QjY4RDgxQkI0RkUyMTFFN0I2ODZERTMzNjA3N0U5NDgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QjY4RDgxQkM0RkUyMTFFN0I2ODZERTMzNjA3N0U5NDgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5uTGucAAAEXklEQVR42uSbW2xMURSG9ww1qo1WhaJKI7RNVbWCSF1fCJoiRIRW3BOEBA8ekKCIeOLNG0880JCgGveKVJrQEBJ1beJBhJbqTUcvU+vPWZM0TWd6zj73Myv5Mg8zZ87Z/6y991prr/HVxacLG62QeG7nA/htvPdN4gbxxE4Bhtp035PEUiKBSCU+EZlEbyx4AAa8mQcftinsDTExBcqI9AGeYxkxwesCxBE7I0y9YcRprwtwjOiMsh6VEoleFuAwMTzK+728QHpSgD1E9yCfwTQ46FUBTqh07yBPFU8JsI4IqPxsPHHEawJgdU/S8PkQsc8rAiwixmm8JsGqxdAKAc4QyZJh+ia3C5BD5EleO5I463YBynQGNlg3itwqwFhipc57QIBzbhXguEHpdhqx0KyH9JlUEfJz1Ocz6PuqiQVu8oCjRIeB35erYzG1xQPa+hU89BoCo/fEM+Il8YYJ2iXACGIyMYlfUdHJ5tc09qxkk7yrjacXdpdG4q1QCquvWZR6IwQY02dwYCqRRWQIpaQVYBcPcQYXb+B8l7EeFsbPz/aFPaWmj7e0RBMgiUPP5fwrQuF/PKjAIDm8k62DxwGP/UjUEeVEBdEeFmA0vdYS4/nX9LqhIvWHWAJB4DKP2M1jYfDhoguCtPv40f08f2LRMO7vEOAA0RRjg8fusSUcCGFvPc/zIhasiVP0p30jwVNCOZlp8fjgW4krxIWBQuEdQjmwbPbo4LHt3SL2R8sFthK3PegJiAdwCl2qJhnCweUddhcvGAKhF0SxlmywhKMlt4vQzdHfYpl0eCNR6WIRkKd8JQr01AM2EPdcKALOGBs4idNdEFlPPORsyy2GZ1V1FqG2IrSWeOwSEbqEUlIXRgoAW01UhdNIB897TZUorTXBYg4hnShCkLO8LjMFgBVx/tDusDk/nfil9ULZqvAKriM4wZp5n6+XuVhPWXyeQwRA41W+7MWyAqAImuIQAVDvm2O1ALkO2xLn2iHAEAcJkGm1AJhziQ4SAD9GqpUCwOV8DhIApe4ZVgqQ5bAgCAvhTKsESBLOK5vFyW7LMgJME+YdfOqxAisF8DtQgAyrBMgUxp79G2V/ZdYmGQHyHRYDhA1VoDwrBMg26IFRer/MObwR/xVKlMkJZATQ21ODHeSVUI6ntwul/+CqiPxHCi1jKTRbgBQd7o/C6jehtL/OYhFgKF3jwAIdKZU66ww5ZguAHUBrY1Ing1PoicTdCJ/7IZTGSkSZ6PlpkIwIE80UAA1QWvoJ2niew80vqbzmHTGfWMVe0qzRQ0eZKUBApcJY4Gp5Udot6c41PFXWCKUTTI0QPmFyUbRnkCQoyHN4FzFbKN1aeq2KtzecT3wQ0fsYQmZPAQzud4Q9GIHIRX6Aaybs8w94Cy5hYX9G2GECZgpQ0e/GIZ7n1zlCPGRBwINFFEde23jhbO23CFZr+TKZTlGIVs4DRjMi/g/02cYIcC+DznQ0VDdqufi/AAMAwrzVVV0VhtwAAAAASUVORK5CYII="/>
    </symbol>
    <g ed:parentid="102" ed:width="73" ed:height="22.75" id="391" transform="matrix(1,0,0,1,1589.32,754.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L73,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgstar2"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">有什么</tspan>
        </text>
    </g>
    <symbol id="imgstar2">
        <image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkJFNjYxREY2NEZFMjExRTc5MERBQURFNUJBQTdGRTI4IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkJFNjYxREY3NEZFMjExRTc5MERBQURFNUJBQTdGRTI4Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkU2NjFERjQ0RkUyMTFFNzkwREFBREU1QkFBN0ZFMjgiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkU2NjFERjU0RkUyMTFFNzkwREFBREU1QkFBN0ZFMjgiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5VTLd+AAAEaklEQVR42uSbWUhUURjHz0zqmFpa2aK2qaXti7agtNFKRrSAUdBDBUUv4UM+VJKRlJER9BYVFT0EPbVSURJFJfVU2h5BEbRnZmZqlk7fn/tJwzAz3jl3mXvvfPB7cLxz7/n+9zvnfOc7Z1ytJcNFBG0s8TSSDXBH8NllRA3xKpICxETouQuJUiKZ8RKJREu0REAlkeL32eto6QKriZwAn3uIldEgAN5+rwCfIyL2OV2AeURqiP/jf/OdLEBVkLffZX05QhwpwEQiV8V12cRUJwpwgKe67qwPscdpAmQQM1Ve6yKmqYwW2wiwn4gP4/okosIpAsQRayQy1CIizQkCVHJYy6Tpu4xunMuE1eBvjgIZ+8MJUotdI6BE4/chQLmdI6Ce6KfxHp1EDztGQHGYI38wayW22zECUOgYodO9fvHUaJsImEP01/F+KJhsNqKhRlWEkMom63i/JO4Gs4j7xCOmIVICoHgxzIdMYjQvZDIMEnUos5yn1ngeH54T94gHLMoTPQRI9nMQjo1iR9PE//pdBxFLJEgmOzLWkxEsQiFRQDRzV8Fy+y3xkIWpY2E+hRoE4UQpp5/5PDa08Q09Pg+0m7Xzi0IihprjZ+ICcZ146SvAC2IIv0mnWyd3od1YpKELXBFKkdIlosPcHNF7iXT88VVEp2H8qnXz/NoRZc5jfDtFnHTzVILB72OUON/KY94m30ywmthJfHO48+3s/ORAqfBxzuCcKsJfzg/yQq0FDjENDnMeY9wXEWBLzh0kjz9GfHfQvN8cLEUPthrcRpwmGm3uvJffforMcngLcZ5osvnbT9RSD1hPXOOChN0MbR4klLqipoLIKqFsa7XYyHl03QlCqUkKrQIIXjggEn7awHlM43OFyhMn4ZTEcHrjIvHDws5jXVPMtQChtwCwtcQZi84O9byuuRnu0jBcw0NOWCxPQNjvIM7KrI1lbCtxiacZK8z1FZy8CbME6Eov3RYQAIWcQi3VEVnLsVAXyIuEANkWEiDTbAHwvYEWK3KMNFOALIvlAxgIx5spQDYXGKxi2DqbZHYEeCwkAPwoMFOAAcKg7WoNNs5MAYqE9TZSsB0fZ5YAucJ61sxLYMMFSBXyp76MtBiZmUBGAKjcZkEBUPqaYoYAUFmPw0/II3Dao0nHKXW6GQLgIVrOC6CqhG24dTx14TBGFSczXo0C5JghQL5k41BTRKESBzHShVJx7rIybgt2p9o1CBErwjycJSNAlsSyGSFezrnD0RDXbmRxcIrjg4QQ6E5jjBQAzr8Ls59f5TA/qPI7qO6sEEphs5qdUitEktER4FH5AIT6e2IpI1NSxxmeRVzsuKFSCAzOCUYKEKsy3FGiGkzc0WFkx2+LFxAziFvdrEJdQt3PcqQFCHWkBpXiy0RvHtX1tsfcLeYQt0XgAx2oC3QaKUCtUGruXr9+XsOhvowbYaShDbOJxUI5A9jolw0eMXoWwAbJYeIZcY5YwuF51+TMr45rABv4BbyRWQv8E2AA5NLbjbxUGAEAAAAASUVORK5CYII="/>
    </symbol>
    <g ed:parentid="102" ed:width="73" ed:height="22.75" id="393" transform="matrix(1,0,0,1,1589.32,1572)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L73,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgstar3"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">怎么用</tspan>
        </text>
    </g>
    <symbol id="imgstar3">
        <image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkNEMzM2QTM3NEZFMjExRTc4RDY1RDY3NTVGMDlFMjk2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkNEMzM2QTM4NEZFMjExRTc4RDY1RDY3NTVGMDlFMjk2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6Q0QzMzZBMzU0RkUyMTFFNzhENjVENjc1NUYwOUUyOTYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0QzMzZBMzY0RkUyMTFFNzhENjVENjc1NUYwOUUyOTYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6U7HANAAAESklEQVR42uSbWUgVYRTHv3s1NZebhZYtYqWGWhaR2ErRSiUtVERED9KD9BQUlRAtBGZFEQSRPfRQ0YNEVBQ9FEkREREI7dpGBS22mes119v/MOfhYnmd+WYfD/wYdO7Mne8/5ztzzpnv+kJXhJ2WC2rsvAC/jd9dCh6CdyDKrouItul757MAAaaTty0DxQMOgaFhf/vAh4EyBdaBnD68cYPVF+OzIQi+Btl97HsPxnvZA+aCtAj7h4BlXhbgCEiKsH8YKPeqAHkgX8Xn0sFsLwpAdz9BxefIC8q8JkAqWKw2MIPJKr3FNQLQ3Y/R8HmKEwe89BgMSRzTxJ7w0e0ecBD0SBxHHrPfCx4QBIMlj20Do8Fvt3rAFp2VXshsLzDbA+rACJ3n6OHp0O02D1gJEg04D02DvW70gOdgokHn6gCxbvKAGZzSGmXtYJubPKAKLDD4nJ/AfaG00Z4yv+wSgNwxI4xxQmlwZvJji6J3ikne9YeJ420Ni1LNojwzQoBArwHSwHK4WTGSi5ogR+ZBIJ5zeLuMBG/hbYCzx8fgAXjCwnyNJAANYjsoAgX87G7jE8bqSGTstg4eB42Puk3fwDVwE9SGC1DLQSteeN96OKhS46WMGpHXwQSbXdhK87NHU7WZ5udsbSBaF8UGmgI+yWrNzUZToBIU+znQzesrSnrQ6NFJrfni8EzwHtgF6j0+eHoF95YbLf+kwhfAHg+LQDnLF9Gr19i7FqgAhz0oQjePaayaYugoOGlmF8aGLJHm/XAt1SB1Yc6CRo+IkChTDlNqfFEo3Vm3GqXCSXr6ASXgBmh24eCbuUpt1dsQ2ciBMeiiwVPAK+SoL/QKILhwcIsn/BTKK/ZatYWBWlsPLjk8MP4Am8AjLZWRFtsMzoMGh975rVzrC7MEEPwlFQ7LE+r50V0pUxvL2G6eDl0OEYBWnZ2SbQ7oKSyiHSKA9IoSPQLkOGgKTLFDgCwHCZBhhwBjHCQAtcTzrBQgQ9iwrjeC+YTkmiJZATK50HBStTfVSgHoDVGMwzxglpUCpPZXZtpguVYKUCSc9yIlIHNT/FaqbbK1yQRCGQFoRXeCAwWIsUqAfFbbaUbv+6ZbJYAR63Wor1DNW6OKqgIrBCgU+tYLUAJVx70FuuBkrubo/WRIpwDZVggwTfLigsxOoawyuRy2b59QFmWc4QRLVgh6AZJutgBZEhfVyQ0LCp6nI3y2hMW5Cj5LCNGqtSbQKsAo8F3jPL8llB9BHFN5DHV31oCFfGyTBiEoD0gxU4A4zgLV3Ama56vBcsnC6RVYCmaC2yqFiNP6iNYqQKwKd6c5XM6ufNeAyP4SLOFcv6ofISg7jTdTgKgIU6CBXTZFmPPLrxdC+dnNHHBH/H9BR7vWKlVmoSS9L1wbJl4ju2upQXdcrU0C57gyTeb/dWqtUmVXip4Ai8AbcFwoK0zsslVgh1BWqK5gT1FtfwUYAN0E6f+FyjlHAAAAAElFTkSuQmCC"/>
    </symbol>
    <g ed:parentid="389" ed:width="142.063" ed:height="18.75" id="395" transform="matrix(1,0,0,1,1414.25,29.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L142.1,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">performance_schema</tspan>
        </text>
    </g>
    <g ed:parentid="162" ed:width="54" ed:height="20.75" id="397" transform="matrix(1,0,0,1,1369.57,1774.75)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L54,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">生产者</tspan>
        </text>
    </g>
    <g ed:parentid="395" ed:width="269.484" ed:height="37.75" id="411" transform="matrix(1,0,0,1,1111.77,20)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,37.8L269.5,37.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">用于监控MySQL Server在一个较低级别的运行</tspan>
            <tspan y="31.5" class="st9" style="white-space:pre" x="8">过程中的资源消耗、资源等待等情况。</tspan>
        </text>
    </g>
    <g ed:parentid="476" ed:width="56.0156" ed:height="18.75" id="445" transform="matrix(1,0,0,1,1326.3,1475)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L56,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">&lt;=5.6</tspan>
        </text>
    </g>
    <g ed:parentid="476" ed:width="56.0156" ed:height="18.75" id="474" transform="matrix(1,0,0,1,1326.3,1500.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L56,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">>=5.7</tspan>
        </text>
    </g>
    <g ed:parentid="126" ed:width="42" ed:height="20.75" id="476" transform="matrix(1,0,0,1,1415.32,1486.88)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L42,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">版本</tspan>
        </text>
    </g>
    <g ed:parentid="445" ed:width="90" ed:height="20.75" id="478" transform="matrix(1,0,0,1,1203.3,1474)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L90,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">默认没有启用</tspan>
        </text>
    </g>
    <g ed:parentid="474" ed:width="66" ed:height="20.75" id="480" transform="matrix(1,0,0,1,1227.3,1499.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">默认启用</tspan>
        </text>
    </g>
    <g ed:parentid="126" ed:width="42" ed:height="20.75" id="482" transform="matrix(1,0,0,1,1415.32,1525.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L42,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">查看</tspan>
        </text>
    </g>
    <g ed:parentid="482" ed:width="101" ed:height="18.75" id="484" transform="matrix(1,0,0,1,1281.32,1526.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L101,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">show engines;</tspan>
        </text>
    </g>
    <g ed:parentid="128" ed:width="66" ed:height="20.75" id="486" transform="matrix(1,0,0,1,1391.32,1551.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">设置参数</tspan>
        </text>
    </g>
    <g ed:parentid="486" ed:width="196.391" ed:height="18.75" id="488" transform="matrix(1,0,0,1,1161.93,1552.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L196.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">performance_schema=ON|OFF</tspan>
        </text>
    </g>
    <g ed:parentid="128" ed:width="90" ed:height="20.75" id="490" transform="matrix(1,0,0,1,1367.32,1577)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L90,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">修改配置文件</tspan>
        </text>
    </g>
    <g ed:parentid="490" ed:width="196.391" ed:height="18.75" id="492" transform="matrix(1,0,0,1,1137.93,1578)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L196.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">performance_schema=ON|OFF</tspan>
        </text>
    </g>
    <g ed:parentid="142" ed:width="121" ed:height="22.75" id="494" transform="matrix(1,0,0,1,1317.32,678.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L121,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority2"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">事件记录和统计</tspan>
        </text>
    </g>
    <g ed:parentid="494" ed:width="66" ed:height="20.75" id="496" transform="matrix(1,0,0,1,1218.32,287.38)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">语句事件</tspan>
        </text>
    </g>
    <g ed:parentid="494" ed:width="66" ed:height="20.75" id="498" transform="matrix(1,0,0,1,1218.32,513)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">等待事件</tspan>
        </text>
    </g>
    <g ed:parentid="494" ed:width="66" ed:height="20.75" id="500" transform="matrix(1,0,0,1,1218.32,904.88)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">事务事件</tspan>
        </text>
    </g>
    <g ed:parentid="494" ed:width="126" ed:height="20.75" id="502" transform="matrix(1,0,0,1,1158.32,1035.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L126,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">监视文件系统层调用</tspan>
        </text>
    </g>
    <g ed:parentid="494" ed:width="90" ed:height="20.75" id="504" transform="matrix(1,0,0,1,1194.32,1130.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L90,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">监视内存使用</tspan>
        </text>
    </g>
    <g ed:parentid="142" ed:width="73" ed:height="22.75" id="506" transform="matrix(1,0,0,1,1365.32,108.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L73,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority1"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">配置表</tspan>
        </text>
    </g>
    <g ed:parentid="122" ed:width="90" ed:height="20.75" id="510" transform="matrix(1,0,0,1,1367.32,1637.38)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L90,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">采集器配置项</tspan>
        </text>
    </g>
    <g ed:parentid="510" ed:width="42" ed:height="20.75" id="512" transform="matrix(1,0,0,1,1292.32,1613.63)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L42,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">查看</tspan>
        </text>
    </g>
    <g ed:parentid="510" ed:width="42" ed:height="20.75" id="514" transform="matrix(1,0,0,1,1292.32,1661.13)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L42,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">修改</tspan>
        </text>
    </g>
    <g ed:parentid="512" ed:width="404.688" ed:height="18.75" id="516" transform="matrix(1,0,0,1,854.63,1626.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L404.7,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">select enabled,count(*) from setup_instruments group by enabled;</tspan>
        </text>
    </g>
    <g ed:parentid="512" ed:width="208.391" ed:height="18.75" id="518" transform="matrix(1,0,0,1,1050.93,1602.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L208.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="11">select * from setup_instruments;</tspan>
        </text>
    </g>
    <g ed:parentid="514" ed:width="444.984" ed:height="18.75" id="520" transform="matrix(1,0,0,1,814.33,1650.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L445,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="8">UPDATE setup_consumers SET ENABLED = 'YES' where name like '%wait%';</tspan>
        </text>
    </g>
    <g ed:parentid="514" ed:width="530.797" ed:height="18.75" id="522" transform="matrix(1,0,0,1,728.52,1674)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L530.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">UPDATE setup_instruments SET ENABLED = 'YES', TIMED = 'YES' where name like 'wait%';</tspan>
        </text>
    </g>
    <g ed:parentid="496" ed:width="173.844" ed:height="18.75" id="524" transform="matrix(1,0,0,1,1011.47,181.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L173.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_statements_current</tspan>
        </text>
    </g>
    <g ed:parentid="496" ed:width="171.891" ed:height="18.75" id="526" transform="matrix(1,0,0,1,1013.43,205.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L171.9,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_statements_history</tspan>
        </text>
    </g>
    <g ed:parentid="496" ed:width="203.625" ed:height="18.75" id="528" transform="matrix(1,0,0,1,981.69,229)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L203.6,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="11">events_statements_history_long</tspan>
        </text>
    </g>
    <g ed:parentid="496" ed:width="352.266" ed:height="18.75" id="530" transform="matrix(1,0,0,1,833.05,252.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L352.3,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_statements_summary_by_account_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="496" ed:width="247.172" ed:height="18.75" id="532" transform="matrix(1,0,0,1,938.14,276.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L247.2,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="12">events_statements_summary_by_digest</tspan>
        </text>
    </g>
    <g ed:parentid="496" ed:width="332.031" ed:height="18.75" id="534" transform="matrix(1,0,0,1,853.29,300.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L332,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_statements_summary_by_host_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="496" ed:width="261.438" ed:height="18.75" id="536" transform="matrix(1,0,0,1,923.88,324)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L261.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="13">events_statements_summary_by_program</tspan>
        </text>
    </g>
    <g ed:parentid="496" ed:width="344.313" ed:height="18.75" id="538" transform="matrix(1,0,0,1,841,347.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L344.3,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_statements_summary_by_thread_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="496" ed:width="331.766" ed:height="18.75" id="540" transform="matrix(1,0,0,1,853.55,371.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L331.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_statements_summary_by_user_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="496" ed:width="322.766" ed:height="18.75" id="542" transform="matrix(1,0,0,1,862.55,395.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L322.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_statements_summary_global_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="498" ed:width="139.484" ed:height="18.75" id="544" transform="matrix(1,0,0,1,1045.83,419)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L139.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_waits_current</tspan>
        </text>
    </g>
    <g ed:parentid="498" ed:width="137.531" ed:height="18.75" id="546" transform="matrix(1,0,0,1,1047.79,442.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L137.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_waits_history</tspan>
        </text>
    </g>
    <g ed:parentid="498" ed:width="169.266" ed:height="18.75" id="548" transform="matrix(1,0,0,1,1016.05,466.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L169.3,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="12">events_waits_history_long</tspan>
        </text>
    </g>
    <g ed:parentid="498" ed:width="317.906" ed:height="18.75" id="550" transform="matrix(1,0,0,1,867.41,490.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L317.9,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_waits_summary_by_account_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="498" ed:width="297.672" ed:height="18.75" id="552" transform="matrix(1,0,0,1,887.64,514)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L297.7,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_waits_summary_by_host_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="498" ed:width="225.438" ed:height="18.75" id="554" transform="matrix(1,0,0,1,959.88,537.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L225.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="12">events_waits_summary_by_instance</tspan>
        </text>
    </g>
    <g ed:parentid="498" ed:width="309.953" ed:height="18.75" id="556" transform="matrix(1,0,0,1,875.36,561.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L310,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_waits_summary_by_thread_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="498" ed:width="297.406" ed:height="18.75" id="558" transform="matrix(1,0,0,1,887.91,585.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L297.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_waits_summary_by_user_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="498" ed:width="288.406" ed:height="18.75" id="560" transform="matrix(1,0,0,1,896.91,609)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L288.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_waits_summary_global_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="494" ed:width="66" ed:height="20.75" id="562" transform="matrix(1,0,0,1,1218.32,714.88)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">阶段事件</tspan>
        </text>
    </g>
    <g ed:parentid="562" ed:width="147.031" ed:height="18.75" id="564" transform="matrix(1,0,0,1,1038.29,632.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L147,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">events_stages_current</tspan>
        </text>
    </g>
    <g ed:parentid="562" ed:width="145.078" ed:height="18.75" id="566" transform="matrix(1,0,0,1,1040.24,656.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L145.1,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">events_stages_history</tspan>
        </text>
    </g>
    <g ed:parentid="562" ed:width="176.813" ed:height="18.75" id="568" transform="matrix(1,0,0,1,1008.5,680.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L176.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="11">events_stages_history_long</tspan>
        </text>
    </g>
    <g ed:parentid="562" ed:width="325.453" ed:height="18.75" id="570" transform="matrix(1,0,0,1,859.86,704)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L325.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_stages_summary_by_account_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="562" ed:width="305.219" ed:height="18.75" id="572" transform="matrix(1,0,0,1,880.1,727.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L305.2,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_stages_summary_by_host_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="562" ed:width="317.5" ed:height="18.75" id="574" transform="matrix(1,0,0,1,867.82,751.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L317.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_stages_summary_by_thread_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="562" ed:width="304.953" ed:height="18.75" id="576" transform="matrix(1,0,0,1,880.36,775.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L305,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_stages_summary_by_user_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="562" ed:width="295.953" ed:height="18.75" id="578" transform="matrix(1,0,0,1,889.36,799)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L296,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_stages_summary_global_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="500" ed:width="180.75" ed:height="18.75" id="580" transform="matrix(1,0,0,1,1004.57,822.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L180.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_transactions_current</tspan>
        </text>
    </g>
    <g ed:parentid="500" ed:width="178.797" ed:height="18.75" id="582" transform="matrix(1,0,0,1,1006.52,846.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L178.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_transactions_history</tspan>
        </text>
    </g>
    <g ed:parentid="500" ed:width="210.531" ed:height="18.75" id="584" transform="matrix(1,0,0,1,974.79,870.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L210.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="11">events_transactions_history_long</tspan>
        </text>
    </g>
    <g ed:parentid="500" ed:width="359.172" ed:height="18.75" id="586" transform="matrix(1,0,0,1,826.14,894)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L359.2,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_transactions_summary_by_account_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="500" ed:width="338.938" ed:height="18.75" id="588" transform="matrix(1,0,0,1,846.38,917.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L338.9,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_transactions_summary_by_host_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="500" ed:width="351.219" ed:height="18.75" id="590" transform="matrix(1,0,0,1,834.1,941.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L351.2,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_transactions_summary_by_thread_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="500" ed:width="338.672" ed:height="18.75" id="592" transform="matrix(1,0,0,1,846.64,965.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L338.7,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_transactions_summary_by_user_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="500" ed:width="329.672" ed:height="18.75" id="594" transform="matrix(1,0,0,1,855.64,989)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L329.7,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_transactions_summary_global_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="502" ed:width="96.35939999999999" ed:height="18.75" id="596" transform="matrix(1,0,0,1,1028.96,1012.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L96.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">file_instances</tspan>
        </text>
    </g>
    <g ed:parentid="502" ed:width="190.844" ed:height="18.75" id="598" transform="matrix(1,0,0,1,934.47,1036.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L190.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="12">file_summary_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="502" ed:width="169.813" ed:height="18.75" id="600" transform="matrix(1,0,0,1,955.5,1060.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L169.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="11">file_summary_by_instance</tspan>
        </text>
    </g>
    <g ed:parentid="504" ed:width="292.016" ed:height="18.75" id="602" transform="matrix(1,0,0,1,869.3,1084)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L292,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">memory_summary_by_account_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="504" ed:width="271.781" ed:height="18.75" id="604" transform="matrix(1,0,0,1,889.54,1107.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L271.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">memory_summary_by_host_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="504" ed:width="284.063" ed:height="18.75" id="606" transform="matrix(1,0,0,1,877.25,1131.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L284.1,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">memory_summary_by_thread_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="504" ed:width="271.516" ed:height="18.75" id="608" transform="matrix(1,0,0,1,889.8,1155.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L271.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">memory_summary_by_user_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="504" ed:width="262.516" ed:height="18.75" id="611" transform="matrix(1,0,0,1,898.8,1179)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L262.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">memory_summary_global_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="506" ed:width="91.875" ed:height="18.75" id="613" transform="matrix(1,0,0,1,1240.44,62.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L91.9,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="8">setup_actors</tspan>
        </text>
    </g>
    <g ed:parentid="506" ed:width="119.625" ed:height="18.75" id="615" transform="matrix(1,0,0,1,1212.69,86.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L119.6,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">setup_consumers</tspan>
        </text>
    </g>
    <g ed:parentid="506" ed:width="126" ed:height="18.75" id="617" transform="matrix(1,0,0,1,1206.32,110.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L126,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">setup_instruments</tspan>
        </text>
    </g>
    <g ed:parentid="506" ed:width="98.20310000000001" ed:height="18.75" id="619" transform="matrix(1,0,0,1,1234.11,134)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L98.2,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">setup_objects</tspan>
        </text>
    </g>
    <g ed:parentid="506" ed:width="93.0938" ed:height="18.75" id="621" transform="matrix(1,0,0,1,1239.22,157.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L93.1,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">setup_timers</tspan>
        </text>
    </g>
    <g ed:parentid="397" ed:width="514" ed:height="37.75" id="623" transform="matrix(1,0,0,1,822.57,1714.75)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,37.8L514,37.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">用于采集MySQL 中各种各样的操作产生的事件信息，对应配置表中的配置项我们可以称为监</tspan>
            <tspan y="31.5" class="st9" style="white-space:pre" x="8">控采集配置项，以下提及生产者均统称为instruments</tspan>
        </text>
    </g>
    <g ed:parentid="160" ed:width="54" ed:height="20.75" id="625" transform="matrix(1,0,0,1,1375.94,1869)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L54,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">消费者</tspan>
        </text>
    </g>
    <g ed:parentid="625" ed:width="514" ed:height="37.75" id="627" transform="matrix(1,0,0,1,828.94,1860.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,37.8L514,37.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">对应的消费者表用于存储来自instruments采集的数据，对应配置表中的配置项我们可以称为</tspan>
            <tspan y="31.5" class="st9" style="white-space:pre" x="8">消费存储配置项，以下提及消费者均统称为consumers</tspan>
        </text>
    </g>
    <g ed:parentid="163" ed:width="380.141" ed:height="52.75" id="629" transform="matrix(1,0,0,1,1053.18,1903.25)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,52.8L380.1,52.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">cmake . \</tspan>
            <tspan y="29.5" class="st9" style="white-space:pre" x="9">    -DDISABLE_PSI_STAGE=1 \   #关闭STAGE事件监视器</tspan>
            <tspan y="46.5" class="st9" style="white-space:pre" x="9">    -DDISABLE_PSI_STATEMENT=1  #关闭STATEMENT事件监视器</tspan>
        </text>
    </g>
    <g ed:parentid="168" ed:width="66" ed:height="20.75" id="631" transform="matrix(1,0,0,1,1367.32,1967.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">启动选项</tspan>
        </text>
    </g>
    <g ed:parentid="631" ed:width="514" ed:height="33.75" id="633" transform="matrix(1,0,0,1,820.32,1961)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,33.8L514,33.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="8">mysqld --verbose --help |grep performance-schema |grep -v '\-\-' |sed '1d' |sed '/[0-9]\</tspan>
            <tspan y="27.5" class="st9" style="white-space:pre" x="8">+/d'</tspan>
        </text>
    </g>
    <g ed:parentid="168" ed:width="66" ed:height="20.75" id="635" transform="matrix(1,0,0,1,1367.32,1999.75)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">系统变量</tspan>
        </text>
    </g>
    <g ed:parentid="635" ed:width="281.125" ed:height="18.75" id="637" transform="matrix(1,0,0,1,1053.19,2000.75)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L281.1,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">show variables like '%performance_schema%';</tspan>
        </text>
    </g>
    <g ed:parentid="166" ed:width="54" ed:height="20.75" id="639" transform="matrix(1,0,0,1,1379.32,2276.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L54,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">相关表</tspan>
        </text>
    </g>
    <g ed:parentid="639" ed:width="134.719" ed:height="18.75" id="641" transform="matrix(1,0,0,1,1211.6,2026.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L134.7,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">performance_timers</tspan>
        </text>
    </g>
    <g ed:parentid="641" ed:width="233.469" ed:height="20.75" id="647" transform="matrix(1,0,0,1,945.13,2025.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L233.5,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">记录了server中有哪些可用的事件计时器</tspan>
        </text>
    </g>
    <g ed:parentid="639" ed:width="93.0938" ed:height="18.75" id="649" transform="matrix(1,0,0,1,1253.22,2052.25)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L93.1,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">setup_timers</tspan>
        </text>
    </g>
    <g ed:parentid="649" ed:width="186" ed:height="20.75" id="651" transform="matrix(1,0,0,1,1034.22,2051.25)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L186,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">记录当前使用的事件计时器信息</tspan>
        </text>
    </g>
    <g ed:parentid="639" ed:width="119.625" ed:height="18.75" id="653" transform="matrix(1,0,0,1,1226.69,2243.25)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L119.6,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">setup_consumers</tspan>
        </text>
    </g>
    <g ed:parentid="653" ed:width="189.375" ed:height="20.75" id="655" transform="matrix(1,0,0,1,1004.32,2242.25)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L189.4,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">列出了consumers可配置列表项</tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="150.828" ed:height="18.75" id="659" transform="matrix(1,0,0,1,820.49,2077)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L150.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">events_stages_current </tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="148.875" ed:height="18.75" id="661" transform="matrix(1,0,0,1,822.44,2100.75)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L148.9,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">events_stages_history </tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="180.609" ed:height="18.75" id="663" transform="matrix(1,0,0,1,790.71,2124.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L180.6,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="11">events_stages_history_long </tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="177.641" ed:height="18.75" id="665" transform="matrix(1,0,0,1,793.68,2148.25)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L177.6,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_statements_current </tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="175.688" ed:height="18.75" id="667" transform="matrix(1,0,0,1,795.63,2172)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L175.7,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_statements_history </tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="207.422" ed:height="18.75" id="669" transform="matrix(1,0,0,1,763.89,2195.75)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L207.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="12">events_statements_history_long </tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="184.547" ed:height="18.75" id="671" transform="matrix(1,0,0,1,786.77,2219.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L184.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_transactions_current </tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="182.594" ed:height="18.75" id="673" transform="matrix(1,0,0,1,788.72,2243.25)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L182.6,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_transactions_history </tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="214.328" ed:height="18.75" id="675" transform="matrix(1,0,0,1,756.99,2267)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L214.3,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="12">events_transactions_history_long </tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="143.281" ed:height="18.75" id="677" transform="matrix(1,0,0,1,828.04,2290.75)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L143.3,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_waits_current </tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="141.328" ed:height="18.75" id="679" transform="matrix(1,0,0,1,829.99,2314.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L141.3,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_waits_history </tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="173.063" ed:height="18.75" id="681" transform="matrix(1,0,0,1,798.25,2338.25)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L173.1,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="12">events_waits_history_long </tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="156.75" ed:height="18.75" id="683" transform="matrix(1,0,0,1,814.57,2362)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L156.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="11">global_instrumentation </tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="158.484" ed:height="18.75" id="685" transform="matrix(1,0,0,1,812.83,2385.75)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L158.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="11">thread_instrumentation </tspan>
        </text>
    </g>
    <g ed:parentid="655" ed:width="124.031" ed:height="18.75" id="687" transform="matrix(1,0,0,1,847.29,2409.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L124,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">statements_digest</tspan>
        </text>
    </g>
    <g ed:parentid="639" ed:width="126" ed:height="18.75" id="689" transform="matrix(1,0,0,1,1220.32,2434.25)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L126,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">setup_instruments</tspan>
        </text>
    </g>
    <g ed:parentid="689" ed:width="343.547" ed:height="20.75" id="691" transform="matrix(1,0,0,1,843.77,2433.25)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L343.5,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="9">出了instruments 列表配置项，即代表了哪些事件支持被收集</tspan>
        </text>
    </g>
    <g ed:parentid="397" ed:width="66" ed:height="20.75" id="693" transform="matrix(1,0,0,1,1270.57,1796.13)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">命名规则</tspan>
        </text>
    </g>
    <g ed:parentid="693" ed:width="42" ed:height="20.75" id="695" transform="matrix(1,0,0,1,1195.57,1757.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L42,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">前缀</tspan>
        </text>
    </g>
    <g ed:parentid="695" ed:width="147.75" ed:height="20.75" id="697" transform="matrix(1,0,0,1,1014.82,1757.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L147.8,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="9">表示instruments的类型</tspan>
        </text>
    </g>
    <g ed:parentid="693" ed:width="42" ed:height="20.75" id="699" transform="matrix(1,0,0,1,1195.57,1783.25)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L42,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">后缀</tspan>
        </text>
    </g>
    <g ed:parentid="699" ed:width="171.75" ed:height="20.75" id="701" transform="matrix(1,0,0,1,990.82,1783.25)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L171.8,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="9">来自instruments本身的代码</tspan>
        </text>
    </g>
    <g ed:parentid="693" ed:width="35.9375" ed:height="18.75" id="703" transform="matrix(1,0,0,1,1201.63,1822.88)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L35.9,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="8">eg.</tspan>
        </text>
    </g>
    <g ed:parentid="703" ed:width="158.813" ed:height="18.75" id="705" transform="matrix(1,0,0,1,1009.82,1822.88)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L158.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">wait/io/file/myisam/log</tspan>
        </text>
    </g>
    <g ed:parentid="705" ed:width="41.8125" ed:height="18.75" id="707" transform="matrix(1,0,0,1,935,1810)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L41.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="8">wait</tspan>
        </text>
    </g>
    <g ed:parentid="707" ed:width="42" ed:height="20.75" id="709" transform="matrix(1,0,0,1,860,1809)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L42,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">前缀</tspan>
        </text>
    </g>
    <g ed:parentid="705" ed:width="128.719" ed:height="18.75" id="711" transform="matrix(1,0,0,1,848.1,1835.75)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L128.7,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="13">io/file/myisam/log</tspan>
        </text>
    </g>
    <g ed:parentid="711" ed:width="42" ed:height="20.75" id="713" transform="matrix(1,0,0,1,773.1,1834.75)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L42,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">代码</tspan>
        </text>
    </g>
    <g ed:parentid="639" ed:width="91.875" ed:height="18.75" id="715" transform="matrix(1,0,0,1,1254.44,2468.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L91.9,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="8">setup_actors</tspan>
        </text>
    </g>
    <g ed:parentid="715" ed:width="514" ed:height="37.75" id="717" transform="matrix(1,0,0,1,707.44,2459)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,37.8L514,37.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">用于配置是否为新的前台server线程（与客户端连接相关联的线程）启用监视和历史事件日志</tspan>
            <tspan y="31.5" class="st9" style="white-space:pre" x="8">记录。</tspan>
        </text>
    </g>
    <g ed:parentid="639" ed:width="98.20310000000001" ed:height="18.75" id="719" transform="matrix(1,0,0,1,1248.11,2502.75)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L98.2,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">setup_objects</tspan>
        </text>
    </g>
    <g ed:parentid="719" ed:width="262.063" ed:height="20.75" id="721" transform="matrix(1,0,0,1,953.05,2501.75)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L262.1,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="9">控制performance_schema是否监视特定对象</tspan>
        </text>
    </g>
    <g ed:parentid="639" ed:width="61.7813" ed:height="18.75" id="723" transform="matrix(1,0,0,1,1284.54,2528.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L61.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="8">threads</tspan>
        </text>
    </g>
    <g ed:parentid="723" ed:width="281.469" ed:height="20.75" id="725" transform="matrix(1,0,0,1,970.07,2527.5)" ed:layout="leftmap">
        <path stroke="#ffc000" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L281.5,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">对于每个server线程生成一行包含线程相关的信息</tspan>
        </text>
    </g>
    <g ed:parentid="106" ed:width="85" ed:height="22.75" id="727" transform="matrix(1,0,0,1,2747.06,490.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L85,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority3"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">阶段事件</tspan>
        </text>
    </g>
    <g ed:parentid="106" ed:width="85" ed:height="22.75" id="729" transform="matrix(1,0,0,1,2747.06,561.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L85,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority4"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">事务事件</tspan>
        </text>
    </g>
    <g ed:parentid="727" ed:width="147.031" ed:height="18.75" id="731" transform="matrix(1,0,0,1,2865.06,468.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L147,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">events_stages_current</tspan>
        </text>
    </g>
    <g ed:parentid="727" ed:width="145.078" ed:height="18.75" id="732" transform="matrix(1,0,0,1,2865.06,492.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L145.1,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">events_stages_history</tspan>
        </text>
    </g>
    <g ed:parentid="727" ed:width="176.813" ed:height="18.75" id="733" transform="matrix(1,0,0,1,2865.06,516)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L176.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="11">events_stages_history_long</tspan>
        </text>
    </g>
    <g ed:parentid="729" ed:width="180.75" ed:height="18.75" id="737" transform="matrix(1,0,0,1,2865.06,539.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L180.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_transactions_current</tspan>
        </text>
    </g>
    <g ed:parentid="729" ed:width="178.797" ed:height="18.75" id="738" transform="matrix(1,0,0,1,2865.06,563.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L178.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">events_transactions_history</tspan>
        </text>
    </g>
    <g ed:parentid="729" ed:width="210.531" ed:height="18.75" id="739" transform="matrix(1,0,0,1,2865.06,587.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L210.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="11">events_transactions_history_long</tspan>
        </text>
    </g>
    <g ed:parentid="108" ed:width="121" ed:height="22.75" id="743" transform="matrix(1,0,0,1,2747.06,1084)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L121,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority4"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">事务事件统计表</tspan>
        </text>
    </g>
    <g ed:parentid="108" ed:width="121" ed:height="22.75" id="745" transform="matrix(1,0,0,1,2747.06,680.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L121,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority1"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">语句事件统计表</tspan>
        </text>
    </g>
    <g ed:parentid="108" ed:width="121" ed:height="22.75" id="747" transform="matrix(1,0,0,1,2747.06,1202.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L121,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority5"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">内存事件统计表</tspan>
        </text>
    </g>
    <g ed:parentid="745" ed:width="352.266" ed:height="18.75" id="749" transform="matrix(1,0,0,1,2901.06,611)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L352.3,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_statements_summary_by_account_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="745" ed:width="247.172" ed:height="18.75" id="750" transform="matrix(1,0,0,1,2901.06,634.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L247.2,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="12">events_statements_summary_by_digest</tspan>
        </text>
    </g>
    <g ed:parentid="745" ed:width="332.031" ed:height="18.75" id="751" transform="matrix(1,0,0,1,2901.06,658.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L332,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_statements_summary_by_host_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="745" ed:width="261.438" ed:height="18.75" id="752" transform="matrix(1,0,0,1,2901.06,682.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L261.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="13">events_statements_summary_by_program</tspan>
        </text>
    </g>
    <g ed:parentid="745" ed:width="344.313" ed:height="18.75" id="753" transform="matrix(1,0,0,1,2901.06,706)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L344.3,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_statements_summary_by_thread_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="745" ed:width="331.766" ed:height="18.75" id="754" transform="matrix(1,0,0,1,2901.06,729.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L331.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_statements_summary_by_user_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="745" ed:width="322.766" ed:height="18.75" id="755" transform="matrix(1,0,0,1,2901.06,753.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L322.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_statements_summary_global_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="204" ed:width="317.906" ed:height="18.75" id="763" transform="matrix(1,0,0,1,2901.06,777.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L317.9,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_waits_summary_by_account_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="204" ed:width="297.672" ed:height="18.75" id="764" transform="matrix(1,0,0,1,2901.06,801)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L297.7,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_waits_summary_by_host_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="204" ed:width="225.438" ed:height="18.75" id="765" transform="matrix(1,0,0,1,2901.06,824.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L225.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="12">events_waits_summary_by_instance</tspan>
        </text>
    </g>
    <g ed:parentid="204" ed:width="309.953" ed:height="18.75" id="766" transform="matrix(1,0,0,1,2901.06,848.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L310,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_waits_summary_by_thread_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="204" ed:width="297.406" ed:height="18.75" id="767" transform="matrix(1,0,0,1,2901.06,872.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L297.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_waits_summary_by_user_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="204" ed:width="288.406" ed:height="18.75" id="768" transform="matrix(1,0,0,1,2901.06,896)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L288.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_waits_summary_global_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="212" ed:width="325.453" ed:height="18.75" id="775" transform="matrix(1,0,0,1,2901.06,919.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L325.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_stages_summary_by_account_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="212" ed:width="305.219" ed:height="18.75" id="776" transform="matrix(1,0,0,1,2901.06,943.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L305.2,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_stages_summary_by_host_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="212" ed:width="317.5" ed:height="18.75" id="777" transform="matrix(1,0,0,1,2901.06,967.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L317.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_stages_summary_by_thread_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="212" ed:width="304.953" ed:height="18.75" id="778" transform="matrix(1,0,0,1,2901.06,991)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L305,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_stages_summary_by_user_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="212" ed:width="295.953" ed:height="18.75" id="779" transform="matrix(1,0,0,1,2901.06,1014.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L296,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_stages_summary_global_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="743" ed:width="359.172" ed:height="18.75" id="785" transform="matrix(1,0,0,1,2901.06,1038.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L359.2,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_transactions_summary_by_account_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="743" ed:width="338.938" ed:height="18.75" id="786" transform="matrix(1,0,0,1,2901.06,1062.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L338.9,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_transactions_summary_by_host_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="743" ed:width="351.219" ed:height="18.75" id="787" transform="matrix(1,0,0,1,2901.06,1086)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L351.2,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_transactions_summary_by_thread_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="743" ed:width="338.672" ed:height="18.75" id="788" transform="matrix(1,0,0,1,2901.06,1109.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L338.7,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">events_transactions_summary_by_user_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="743" ed:width="329.672" ed:height="18.75" id="789" transform="matrix(1,0,0,1,2901.06,1133.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L329.7,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">events_transactions_summary_global_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="747" ed:width="292.016" ed:height="18.75" id="795" transform="matrix(1,0,0,1,2901.06,1157.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L292,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">memory_summary_by_account_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="747" ed:width="271.781" ed:height="18.75" id="796" transform="matrix(1,0,0,1,2901.06,1181)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L271.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">memory_summary_by_host_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="747" ed:width="284.063" ed:height="18.75" id="797" transform="matrix(1,0,0,1,2901.06,1204.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L284.1,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">memory_summary_by_thread_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="747" ed:width="271.516" ed:height="18.75" id="798" transform="matrix(1,0,0,1,2901.06,1228.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L271.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="15">memory_summary_by_user_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="747" ed:width="262.516" ed:height="18.75" id="799" transform="matrix(1,0,0,1,2901.06,1252.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L262.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="14">memory_summary_global_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="827" ed:width="83.75" ed:height="20.75" id="807" transform="matrix(1,0,0,1,622.23,640.63)">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L83.8,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="9">summary表</tspan>
        </text>
    </g>
    <g ed:parentid="807" ed:width="378" ed:height="20.75" id="809" transform="matrix(1,0,0,1,211.23,640.63)">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L378,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">以不同的方式汇总事件数据（如：按用户，按主机，按线程等等）。</tspan>
        </text>
    </g>
    <g ed:parentid="827" ed:width="54" ed:height="20.75" id="811" transform="matrix(1,0,0,1,651.98,692.13)">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L54,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">时序表</tspan>
        </text>
    </g>
    <g ed:parentid="811" ed:width="77.98439999999999" ed:height="20.75" id="813" transform="matrix(1,0,0,1,541,666.38)">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L78,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="9">_current表</tspan>
        </text>
    </g>
    <g ed:parentid="811" ed:width="76.0313" ed:height="20.75" id="815" transform="matrix(1,0,0,1,542.95,692.13)">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L76,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="9">_history表</tspan>
        </text>
    </g>
    <g ed:parentid="811" ed:width="107.766" ed:height="20.75" id="817" transform="matrix(1,0,0,1,511.22,717.88)">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L107.8,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="10">_history_long表</tspan>
        </text>
    </g>
    <g ed:parentid="813" ed:width="486" ed:height="20.75" id="820" transform="matrix(1,0,0,1,22,666.38)">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L486,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">每个线程只保留一条记录，且一旦线程完成工作，该表中不会再记录该线程的事件信息。</tspan>
        </text>
    </g>
    <g ed:parentid="815" ed:width="273.156" ed:height="20.75" id="822" transform="matrix(1,0,0,1,236.8,692.13)">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L273.2,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="9">每个线程已经执行完成的事件信息，最多10条。</tspan>
        </text>
    </g>
    <g ed:parentid="817" ed:width="247.891" ed:height="20.75" id="824" transform="matrix(1,0,0,1,230.33,717.88)">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L247.9,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="9">记录所有线程的事件信息，最多10000行。</tspan>
        </text>
    </g>
    <g ed:parentid="826" ed:width="61.16" ed:height="25" id="827" transform="matrix(1,0,0,1,738.98,677.13)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-linejoin="round" d="M12.5,0L48.7,0C55.6,0,61.2,5.6,61.2,12.5C61.2,19.4,55.6,25,48.7,25L12.5,25C5.6,25,0,19.4,0,12.5C0,5.6,5.6,0,12.5,0z"/>
        <text class="st11">
            <tspan y="17" class="st9" style="white-space:pre" x="11">表类型</tspan>
        </text>
    </g>
    <g ed:parentid="300" ed:width="102" ed:height="20.75" id="828" transform="matrix(1,0,0,1,2961.06,1596.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L102,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">表等待事件统计</tspan>
        </text>
    </g>
    <g ed:parentid="300" ed:width="172.938" ed:height="20.75" id="830" transform="matrix(1,0,0,1,2961.06,1645.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L172.9,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="9">表I/O等待和锁等待事件统计]</tspan>
        </text>
    </g>
    <g ed:parentid="310" ed:width="106.969" ed:height="18.75" id="832" transform="matrix(1,0,0,1,2988.12,1816.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L107,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="8">cond_instances</tspan>
        </text>
    </g>
    <g ed:parentid="310" ed:width="96.35939999999999" ed:height="18.75" id="834" transform="matrix(1,0,0,1,2988.12,1840.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L96.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">file_instances</tspan>
        </text>
    </g>
    <g ed:parentid="310" ed:width="115.641" ed:height="18.75" id="836" transform="matrix(1,0,0,1,2988.12,1864)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L115.6,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">mutex_instances</tspan>
        </text>
    </g>
    <g ed:parentid="310" ed:width="116.594" ed:height="18.75" id="838" transform="matrix(1,0,0,1,2988.12,1887.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L116.6,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">rwlock_instances</tspan>
        </text>
    </g>
    <g ed:parentid="310" ed:width="116.25" ed:height="18.75" id="840" transform="matrix(1,0,0,1,2988.12,1911.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L116.3,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="8">socket_instances</tspan>
        </text>
    </g>
    <g ed:parentid="116" ed:width="97" ed:height="22.75" id="842" transform="matrix(1,0,0,1,2831.06,1945.13)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L97,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority6"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">锁对象记录</tspan>
        </text>
    </g>
    <symbol id="imgpriority6">
        <image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4RpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo2MTc5MWZiNS1jNjU5LTdhNGMtYTdmZC1iOGU1NDQxOTk2OTgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NTFCNjZCQjU0RjFFMTFFNzgyQTBDRDBDMTA1QzRGREMiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NTFCNjZCQjQ0RjFFMTFFNzgyQTBDRDBDMTA1QzRGREMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MjMwOGYyMTAtNTdmOC0wMjQ0LTljNTMtZWFlNGUwZGU3OGY5IiBzdFJlZjpkb2N1bWVudElEPSJhZG9iZTpkb2NpZDpwaG90b3Nob3A6ZTlkY2RhMjUtNGQwNC0xMWU3LTgyOTYtZTk5ODAzOWZiNDVlIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+mzykIwAACKdJREFUeNrkW3tMW9cZ/865LrYDgZASSMhoQ0LWJgFjQzKWbmkJNqwVndRM3aZqy9R16zRNmrqHtKhrtv41TdFUaanUSdWkZp02ZdX6WP/olvIIbK1mZdT4AWtW0iwhLCmvAMaYl+179h0SQNf3Yq59zwWjfAoBLvecc7/f9zjf7zu+hDEGd7JY1mIRR7v/MJPZHsqgghGynxBSKjNWQihM45+3ggw3gcIImuIqZaxPlqVrkgXeDzRUXzf72YhZHuBs6X5Ulsi3UblGQmCCEVSUgU3HULwVwvhUOfg1gmPfYMBe7XHXhLIeAMd5/4OQYM+hhd04axwvWQVNPY3zzVIZXg55XSfZ8whrNgFQ2dldQePk92jh+4FAoXn+CrGFsGVwKuRxPbvuADzg9dqnpm1c8UfxV9vapS6CHsDmZVn+cW9T7W/WBYDKdt/3KKOncQrpVtiuveCiM5gfgvK47aHeL++fXzMAqlu7zzJKHkbLb8mS3Uy23AWf737I5TUdAEeb/yJafO8ty2eVzBAgPw16nL82BYC9Fz7Ot0ciN/DH3KytahibBkL/GPI4v6N3CNWr/KZI5GJWK79gTrIJzfkNR6vv50IBsE9O8iqtdCOUtgQY1h7khLPV/zMhIeBoC1xG39ot4uGeKsqHw9sKoDTPDmUFy840F0/AcHQWQqNhaB2egPPROSE5gQI7FvDUvJsxAI4231+ASV/Eu6hRxb+5rwwKrDm67u/oH4JnLt0QkRPiM/n5d1+qq5hMOwQcrcETiE+DUeV/i4r/wLlHt/Jcjt5bAm2H94nICRZ7JNyVtgdUtvnuoUA/NJr0/lC1CxwlmVfGPCw83otGYZhjQF7s8Th/ohsA3Os78Fu9kVV/WV4CzXvUeXMgHIWWgRE4PTi+dO25siJ4eFeJppeICAesGBPTsc25lx6pmFs1BGo7Q5/F4KkzsmBDrhU86MbJ8tpHA9Dc1adQnssvBkbhyHv/htDQuJpv7CwyngoAJFtO5He6ckAsnjiDmNkNJb3dO8BqURaKF66PLiiaSr7ecxXCc8qSns/DvUkAb3hs/7u+HSkBcLX4HsPEsdOo9ZPjnm9zT18c0DX+/f+pQXIUFQjYEcBGCX0xJQAJQk/i1rHZyDqNxWp+FNBw7ZWE1wHJUpwrhmlLBI6Vd3YqJlvqCR7s9BUxIlUSMNYgObR9q+ra2WvDusfzIgiTsDlUgUA8P5Z3jD+SygNiMelrBFml0UWSrcW3MkGVnQixIll6WjMEZMKeNEpxecWXLFcmprKMMJLPqQDgrS3MkpVGJ68uzFNduzo1k21sab6qLVCvyAHRiK2ZSRAhzFhD826bupD5ZGZetUs8cU+xihDxUOHe8rcbN+HN8LSZEKCVZA9+71xOgpRVEkYMd3MLNQCYiMV1lcY8d/CvOix8voXV4gsf9puZOx5QhIAMdJ+QDGNRpxBuzS8VbIL3jhzQzQu4Z5w6dN/COFOigJEyBQC49ZWLmHil/fpZV0VabHARTD7OFBAoFClyACbAYrOOSN859Oklz+AVYRuSm66xiCLOn9leCE1l2xQ5YRGEHzrK4U3kCWI9YLnYW2CDVW3dYQIk3+jEIY9rxb/13ZyEx/2XU47nrPCr95WprnMeobeU1kuR5YS1tPcL+8duhwAx9RRWj/KLrPCdy2rqWyeAESr7JGREssZLlwshRkw71uJur0f5pXxxZUjFCBe9Q1wxJBfJCTqyDACBYbMASIcIpWKELhGMcIkY0pwed+XQMgAyGxRl7WTxjoTTnudSRF09brHliAsBkCOKbZBR1idiYl7NJcsro5Npz6M1RhQlvu0Bw0kA0D7cCmNwxwjrVxZCDPqxDhg3Ou3HWcb8Vt4FwKcAoNftbMPUWGw4BGbV2VtUJae1M2So/hRWvp3KEOD/CHiNTu0di6g7RFvT77Bp9RUmZ8VEKCZAe9Bdc07dEGH0Fd4/NzI5Z2/JiVCrRbaa8PND88KLejU7QhKjZxc8waB0DY6psreWRVPJ/Rr3/12jWZqBxGQiv6wJQLDJEcVsGDS6Aq/kkusBfjCqV07vLVUxR36aJKJJgrFPZ+fz/6wJwEIuSEi/wv8NQ/3P68pKjiuk57CTl7tHNU6U3rgyKMb7GXkr+XhMdTboaPdfwUDYZXQtrnBy8cI9g4PD3VkPHRbMBKdBlmtDTbX/SQmAs913NMHoX4mAz/1pgZBuZSngdPj23k/PBd3Vj6h7I8nkxV3bgbESFLEof3gev5kIHydKeZ78ZqX4ce3mkBZasuWJBZcRIPw0mHN8LaK0EqHi9/NxYvZ9lkAnf/Wj+trRFbpD2jufoz1wCpj8faMnxclJbt+WPNieZ1eEBq/yhqZmwT8aXvUEOQPmc7WnqaZ8JT1Tfkaoqt1/AXnCZzYw64lSSBwJeA6ueNiY8vM/PW5XHW4d4xtRczTrHGa+E6mUXxUALjPxvB0IgryhtCcQowz+FHI7X1q1MF61O4OFg4WyKpx1bGNYnsiEkX8FG11P6sJK72eFa877743LwFNzThbrH0NtWns8rmbd1Ejvjd0Nrv5YxF6KmEWy1PTzWLy9no7yaXmAYots9X+AcXYA1vQtkZRqRCljzwcaXS+kTY4zWS7U6DrIgPH+wcQ6Ky6j5a9RGm/IRPmMPWBRqlt8dUyiZ0CG3egR1rX1eNzmgL3Nxm3HM31dxjAAi1LZ/sHjlEkvoUdsxtnsJuseRbCDMGs5Hmqu+q9hHxL53mBVq++7FOiPMDx28pcXBCodR5PHcc5/yARO9rqdXcKCyIw3R50dwQNyXH4Kf/wK3HpjVEo7RBhMM0Js+IA9jJIzTIq91lt/aFB4FjH75WnXucCuhBRvBkIfxF8r0IqlmDMKcWUJmPQJkMQ2vGZFhaMYQjdR6esgy92EkM6tlvDbHfX1cVPT6Hq9PV7dEsqFu+BTEIPxYJNjGNZJyJ3++vz/BRgAgdaUM4AoiicAAAAASUVORK5CYII="/>
    </symbol>
    <g ed:parentid="842" ed:width="108.344" ed:height="18.75" id="844" transform="matrix(1,0,0,1,2961.06,1935.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L108.3,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">metadata_locks</tspan>
        </text>
    </g>
    <g ed:parentid="842" ed:width="98.0938" ed:height="18.75" id="846" transform="matrix(1,0,0,1,2961.06,1959)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L98.1,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">table_handles</tspan>
        </text>
    </g>
    <g ed:parentid="116" ed:width="97" ed:height="22.75" id="848" transform="matrix(1,0,0,1,2831.06,2028.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L97,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority7"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">属性统计表</tspan>
        </text>
    </g>
    <symbol id="imgpriority7">
        <image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MUNCMUU4RTc0RkUyMTFFNzkzQzFGRDFFNjJDRkNCNTkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MUNCMUU4RTY0RkUyMTFFNzkzQzFGRDFFNjJDRkNCNTkiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzAxMDgyRkE0RjUyMTFFN0FDMjhCQkVCRjQ3MDEzMDciIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzAxMDgyRkI0RjUyMTFFN0FDMjhCQkVCRjQ3MDEzMDciLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz50KX4CAAAG/0lEQVR42uRba2xUVRCeOdstbXkLtLWUl4BYibLbFfxRH8QHMf5Qod0CPhESCWVbSMD4QDFGE3+IQditJCUKJAbCblOrgagE/cEPEZp2iwRikRSktKQF2lLoc/fecW4rhX203e3uPbsNJ7npubd3z9z5zpyZ+c4DiQju5ZIQC6GubyrSVRIZBsAMUjEJBNQrBP+usJkbZH8L6m0BTkd1jgD1VVKFhaVlsbxxCNgDCF4WrwKQ9/+OMPJ9Ij9vBqLL/GG/q4Tl+RvMx0YcAKXF1S+TSmu45ecFcA0wZZhNtfMlGLAjiLgr17bgCN9T3ALg3FG5CYVYx9U0vsZEF1bqIBStCLDHajN9FFcAlNqrXuNedrD5JnH/JOlqsgA9/MUkVPogd0P29pgCUL7ztMWD3v1cncZXskznRUAeAdiiKura/I2WcukAlDoqC9iTv499ysewYAvD8Zu10GyVBoDT7t7HiudydXSchHMPENZZi0xzwnWSYQPgcrhPsAwLCzTEYV7jFaPUR3LfsfytCwAuu/sM93wW9fqiuC0d3aqS/fqGx2pCeVmEoXwt/3k4zpXXSsooFBWl9r+ejBoArp3Vh2Pv7MIZ2DiWQD36044TaRFzAZe9ciug4VkKkTewN9aPQ9jd4QTKxC6ReHGo8DyoBTiL3U/xK5u4sVEjkemx1SZxxKoZFgCuT88mMlXZy9VxI5nuCqTpnKk6wgYAJ3U5OKJOgxFeiDCJWeWqH76pygoZgP27Tk/k6LiKbSghXhRpqm+LwCfCaK+CB0LOA1yO6jKGbmmslJ2bPRlMOXeMr7O9Bw59dyZS7tBFiMuW28w/D2oBrp2V01n5F2Kl/KSpKT7Ka6XqWF0UHCImsbK7hx4CImGrbGZ3d1n4zAyf+/oLLdBwvi1azadwVFg5OACkvhUz5ZdMg7ET7kwneDwK/HHoYjQ59EQOjUUDAlBmdz/Xy6xiZPoz5032eXbuVKMe2cGikpJKY1AAvKCujpX5+5u+5vjOHtcDAKLx3ZgfFAABYkmsvP7dpq+VmupGvcQZBOLqAAAOfl2VRQgxSXnnmdICev+fqmt6inw6AACDUeRwTiA98TEtzoDk0Ymyev+2M7xRtqN6oe8QUNX5WqyUDcDMhybL7n0NgRSvAab6AoBiTix632g0yO39PmWTgJTZPgBwQpwZ697X4r7+vX+bA+CDvgCQOkm25/fv/fraFpk8OdMHACQxQSYAs+dPCXhWU9Ukkyen9wNwUPOIjIDMrM8/7jdfbYe2a90y54t6+gFIQGiVuU1injk14Nmlc82SZ0rgDgAdPaKBK9KSoNTMwFk2Wc7vrvmBq/0AvLH50Xa2AFWG4BnzJwY4v0hmeyJIiOv8uAC1ypA7ddb4gGcNF2/IVR5RNShU40+GrsiQfV9q4Hpq46Wbksc/dRDgFd88APGY3nI17++f999s7ZLs/XuV7aIE9Yz/EDgMfXtydCtp08cGPLveeCsG/FP1WAuyz/sAkG/L/pV0ngyZcn/gtqGmevkAoMAfg06IIMCfegr2T3600tLYIVl76iISe4ICwMNgN1Ni3Qak//jXyI/08a+Cx1q44GRQAIyKKNcWEPSQmzEnMPnRHKDkQmDA73040d03r2w0tRLBUR4LUc+MUzMDx39bc6dk5w/dBo/62YAA9FqBwbNWM5NoC08ZkxjwzNOjyAVAxbJlGy1XBgVg6fpF11HAAc1bRHX8BwGg6bLECMBWndbSGrDoE5QC59nMbxPDFU35/vm/5MzPy/a/bfEni70hAdDrLJA+hyg6xGAhMIprfoPrL/CatdD0XtCJoYF+lF9o+RhRXIaRX25R31I/BU8LhtgnWOpwq/wKjlDlu/nDt+QVmr8a6IUhp8GEwMf5T+fI050UDnuHBlM+JACWFZgq2EreZQO6NVJUx14fhmfzbea8oTPjELfKuhzuNexN7fyT5LhXXuDxvPWmnFDeD3km2Gozf8stb+fm2+NYf68KUBGq8mFZQL9TLHavABX3UtxtnqROjlrOPJtpVXjkcBjnBVyOk7OAjNqW9MQ4MfvrCtGHy4uyS8JnxxEcmXHa3b+w8CcgZgcnmNsDNhsBXlxaaD41vOmBCA9NlTncLykEu7kVbQOSUVqIA9ROiWzOLzIVRzY/EqVjcy67ex039SX2LrHpFCm01RwEIwJ+kVdo2hKdCaIoH5x0FletR8IC/ti5fGsIJ9IE1xk0Vsa8GWvZ8e7B9PPbrFZr1Hi0bkdnXSWV46FH5PFHv8la5DC5buHkRDtBmgwDnTqh3v908qVwvRURtbPE+zzdinPlJosua2co6/R4+a7TFq/iTWWDSFcV9QEQlMamnMryu/kzOoWAS8zaatFLdYpKDWk32i4wfdV9zgzv9ePz/wkwABwbwL7AHsUCAAAAAElFTkSuQmCC"/>
    </symbol>
    <g ed:parentid="848" ed:width="102" ed:height="20.75" id="850" transform="matrix(1,0,0,1,2961.06,2005.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L102,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">连接信息统计表</tspan>
        </text>
    </g>
    <g ed:parentid="850" ed:width="69.73439999999999" ed:height="18.75" id="852" transform="matrix(1,0,0,1,3096.06,1982.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L69.7,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="8">accounts</tspan>
        </text>
    </g>
    <g ed:parentid="850" ed:width="49.2344" ed:height="18.75" id="854" transform="matrix(1,0,0,1,3096.06,2006.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L49.2,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="8">users</tspan>
        </text>
    </g>
    <g ed:parentid="850" ed:width="49.5" ed:height="18.75" id="856" transform="matrix(1,0,0,1,3096.06,2030.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L49.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="8">hosts</tspan>
        </text>
    </g>
    <g ed:parentid="848" ed:width="102" ed:height="20.75" id="858" transform="matrix(1,0,0,1,2961.06,2064.88)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L102,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">连接属性统计表</tspan>
        </text>
    </g>
    <g ed:parentid="858" ed:width="197.172" ed:height="18.75" id="860" transform="matrix(1,0,0,1,3096.06,2054)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L197.2,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">session_account_connect_attrs</tspan>
        </text>
    </g>
    <g ed:parentid="858" ed:width="145.547" ed:height="18.75" id="862" transform="matrix(1,0,0,1,3096.06,2077.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L145.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="9">session_connect_attrs</tspan>
        </text>
    </g>
    <g ed:parentid="276" ed:width="209.672" ed:height="18.75" id="864" transform="matrix(1,0,0,1,2973.06,1276)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L209.7,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="12">replication_applier_configuration</tspan>
        </text>
    </g>
    <g ed:parentid="276" ed:width="167.063" ed:height="18.75" id="866" transform="matrix(1,0,0,1,2973.06,1299.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L167.1,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="11">replication_applier_status</tspan>
        </text>
    </g>
    <g ed:parentid="276" ed:width="260.469" ed:height="18.75" id="868" transform="matrix(1,0,0,1,2973.06,1323.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L260.5,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="13">replication_applier_status_by_coordinator</tspan>
        </text>
    </g>
    <g ed:parentid="276" ed:width="232.953" ed:height="18.75" id="870" transform="matrix(1,0,0,1,2973.06,1347.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L233,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="13">replication_applier_status_by_worker</tspan>
        </text>
    </g>
    <g ed:parentid="276" ed:width="233.375" ed:height="18.75" id="872" transform="matrix(1,0,0,1,2973.06,1371)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L233.4,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="12">replication_connection_configuration</tspan>
        </text>
    </g>
    <g ed:parentid="276" ed:width="190.766" ed:height="18.75" id="874" transform="matrix(1,0,0,1,2973.06,1394.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L190.8,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="10">replication_connection_status</tspan>
        </text>
    </g>
    <g ed:parentid="276" ed:width="208.313" ed:height="18.75" id="876" transform="matrix(1,0,0,1,2973.06,1418.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L208.3,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="12">replication_group_member_stats</tspan>
        </text>
    </g>
    <g ed:parentid="276" ed:width="180.609" ed:height="18.75" id="878" transform="matrix(1,0,0,1,2973.06,1442.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L180.6,18.8"/>
        <text class="st11">
            <tspan y="12.5" class="st9" style="white-space:pre" x="11">replication_group_members</tspan>
        </text>
    </g>
    <g ed:parentid="284" ed:width="138" ed:height="20.75" id="880" transform="matrix(1,0,0,1,2949.06,1466)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L138,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">用户自定义变量记录表</tspan>
        </text>
    </g>
    <g ed:parentid="284" ed:width="150.266" ed:height="20.75" id="882" transform="matrix(1,0,0,1,2949.06,1491.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L150.3,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="9">system variables记录表</tspan>
        </text>
    </g>
    <g ed:parentid="284" ed:width="138.563" ed:height="20.75" id="884" transform="matrix(1,0,0,1,2949.06,1517.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L138.6,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="9">tatus variables统计表</tspan>
        </text>
    </g>
    <g ed:parentid="284" ed:width="258" ed:height="20.75" id="886" transform="matrix(1,0,0,1,2949.06,1543.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L258,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">按照帐号、主机、用户统计的状态变量统计表</tspan>
        </text>
    </g>
    <g ed:parentid="114" ed:width="100.953125" ed:height="22.75" id="888" transform="matrix(1,0,0,1,2819.06,1569)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L101,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority3"/>
        </g>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="27">host_cache</tspan>
        </text>
    </g>
    <g ed:parentid="894" ed:width="233.222" ed:height="25" id="895" transform="matrix(1,0,0,1,947.09,107.13)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-linejoin="round" d="M12.5,0L220.7,0C227.6,0,233.2,5.6,233.2,12.5C233.2,19.4,227.6,25,220.7,25L12.5,25C5.6,25,0,19.4,0,12.5C0,5.6,5.6,0,12.5,0z"/>
        <text class="st11">
            <tspan y="17" class="st9" style="white-space:pre" x="12">动态对performance_schema进行配置</tspan>
        </text>
    </g>
    <g ed:parentid="142" ed:width="181" ed:height="22.75" id="896" transform="matrix(1,0,0,1,1257.32,1202.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L181,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority3"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">数据库对象事件与属性统计</tspan>
        </text>
    </g>
    <g ed:parentid="142" ed:width="157" ed:height="22.75" id="898" transform="matrix(1,0,0,1,1281.32,1338.38)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L157,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgpriority4"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">复制状态与变量记录表</tspan>
        </text>
    </g>
    <g ed:parentid="101" ed:width="225.063" ed:height="91" id="915" transform="matrix(1,0,0,1,2389.99,1165.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M4,0L221.1,0C223.8,0,225.1,1.3,225.1,4L225.1,87C225.1,89.7,223.8,91,221.1,91L4,91C1.3,91,0,89.7,0,87L0,4C0,1.3,1.3,0,4,0z"/>
        <g transform="translate(89.03,8.6)">
            <path fill="#ededed" id="917" transform="matrix(1,0,0,1,37.67,33.11)" d="M1.5,0C1.5,0,2,0.7,1.8,0.9C1.5,1,1.5,1.8,1.5,1.3C1.5,1.3,1.4,2.3,1.1,2.9C0.8,3.5,1.1,3.9,0.5,4C-0.1,4.1,0,3.6,0,3.4C0,3,0.4,2.4,0.4,2C0.3,1.6,0.4,1.3,0.8,1C1.1,0.7,1.1,0.2,1.5,0z"/>
            <path fill="#ffffff" id="918" transform="matrix(1,0,0,1,0,0)" d="M24,0C10.7,0,0,10.7,0,24C0,37.3,10.7,48,24,48C37.3,48,48,37.3,48,24C48,10.7,37.3,0,24,0z"/>
            <path fill="#4c4c4c" id="919" transform="matrix(1,0,0,1,1.26,1.26)" d="M22.7,1.3C34.6,1.3,44.2,10.9,44.2,22.7C44.2,34.6,34.6,44.2,22.7,44.2C10.9,44.2,1.3,34.6,1.3,22.7C1.3,10.9,10.9,1.3,22.7,1.3zM22.7,0C10.3,0,0,10.3,0,22.7C0,35.2,10.3,45.5,22.7,45.5C35.2,45.5,45.5,35.2,45.5,22.7C45.5,10.3,35.3,0,22.7,0z"/>
            <path fill="#ededed" id="920" transform="matrix(1,0,0,1,29.92,12.62)" d="M0.8,0.3C0.7,0.3,0.8,0.2,0.4,0.4C0.2,0.6,0.1,0.6,0.1,0.7C0,0.8,0.2,1,0.1,1.1C0,1.2,0,1.5,0.1,1.5C0.2,1.5,0.4,1.6,0.4,1.7C0.4,1.8,0.8,2,0.8,2.1C0.8,2.2,1.1,2.4,1.1,2.4C1.1,2.4,1.1,2.4,1.1,2.5C1.1,2.6,1.4,2.8,1.4,2.8C1.4,3.2,1.8,3.6,1.9,3.6C2.3,3.6,2.6,3.6,2.7,3.6C2.8,3.6,2.8,3.6,2.9,3.3C2.9,3.2,2.8,3,2.6,2.7C2.4,2.6,2.2,2.3,2.2,2.3C2.4,2,2.2,1.6,2.2,1.6C1.6,1.5,1.2,1.2,1.1,1.2C1,1.2,1,0.8,1,0.8C1.5,0.2,1.3,0.2,1.2,0.1C1.2,-0.1,1.1,0,0.8,0.3z"/>
            <path fill="#69d9e2" id="921" transform="matrix(1,0,0,1,13.79,2.95)" d="M30.9,19.9C30.9,19.9,30.5,18.3,30.9,18.6C31.1,19,31.2,20.2,31.2,19.9C31.2,19.6,31.3,19.2,31.3,18.6C31.3,18.1,30.7,15.8,30.7,15.6C30.7,15.4,31.1,15.9,31,15.5C30.7,14,30.2,12.8,28.9,10.4C27.7,8.3,26,6,23.2,3.9C21.7,2.9,19.9,1.8,18.7,1.3C15.1,-0.2,12.5,-0.2,12.8,0.2C12.8,0.2,13.2,0.3,13.3,0.2C13.4,0.1,13.3,0.5,13.7,0.6C14.3,0.6,14.4,1.1,13.9,0.9C13.4,0.8,12.8,0.7,12.9,1C13.2,1.2,13.9,1.4,13.9,1.4C13.9,1.4,11.4,1.5,11.5,0.4C11.5,0,10.8,0,11,0.4C11.1,0.6,11.5,1.2,12.1,1.5C12,1.7,12,1.8,11.7,2.2C11,3.2,10.7,2.6,10,2.3C9.4,2,7.9,2.9,7,3.3C6.2,3.7,6,4.3,5.9,4.6C5.7,5.1,4.5,6.4,4.2,6.7C4,7.3,4.2,7.4,4.6,7.7C5.1,7.9,5.5,6.7,5.6,6.8C5.7,7,5.9,7.2,6.1,7.4C6,7.6,6.1,7.8,6.2,7.9C6.2,8,6.1,8.2,6.1,8.3C6,8.3,6,8.3,6,8.4C5.9,8.3,5.8,7.9,5.5,8C4.5,8.3,5.4,9.3,4.7,9.6C3.9,10,4.4,10.2,3.8,10.5C3.3,10.9,3.1,11.6,2.4,11.9C1.7,12,1.5,12.6,2,12.6C2.5,12.6,2.5,12.7,2.9,13.1C3.1,13.5,1.8,14,1.7,14.1C1.5,14.2,0.7,14.8,1,15.6C1.1,16.2,0.2,16.1,1.4,16.6C1.8,16.7,2.1,16.8,2.3,16.8C2.3,16.8,2.3,16.9,2.3,16.9C2.3,17.6,1.4,18.1,1.3,18.6C1.2,19.1,1.7,19.1,1.3,19.5C0.8,19.7,0.7,20.4,0.3,21.1C0,21.9,-0.1,22.4,0.2,23C0.7,23.6,0.6,24.5,0.6,24.9C0.6,25.2,0.2,25.4,1.2,25.9C2.5,26.3,1.9,26.8,2.9,27.2C3.9,27.5,3.5,27.9,4.5,27.5C5.5,26.9,5.8,27.4,6.1,27.2C6.4,26.9,7.8,25.7,8.1,26.2C8.4,26.6,8.4,26.6,8.8,26.3C9.3,26,9.7,26.9,9.8,27.3C9.8,27.5,9.8,28.1,10.2,28.4C10.4,28.6,10.9,29,11.3,29.4C11.7,30,12,30.6,12,31C11.9,32,12.1,32.9,12.4,33.3C12.5,33.5,12.6,33.5,12.9,33.9C13.1,34.1,13.1,34.3,13.2,34.4C13.2,34.5,13.4,35.1,13.7,35.5C14,35.8,13.9,34.8,14.3,35.8C14.7,36.9,15,36.8,15,36.8C15,36.8,15.5,36.4,15.9,36.4C16.2,36.4,16.8,36.5,17.2,35.4C17.7,34.3,17.7,33.9,17.7,33.9C18.3,33.2,18.1,32.4,18.1,32.2C18.1,32,18.5,31.5,19,31.2C19.4,30.8,19.3,30.4,19.3,29.8C19.3,29.3,19.3,29.2,19,28.8C18.6,28.5,18.7,28.2,18.7,27.5C18.7,26.9,19.4,26.2,19.7,25.8C20,25.4,20.3,24.9,20.7,24.4C21,23.8,21.1,23.7,21.3,23.4C21.6,23.2,21.4,22.6,21.7,21.9C22,21.3,21.7,21,21.7,21C20.8,21.3,20.5,21.5,20.2,21.8C19.3,22.2,19.3,21.8,19.4,21.6C19.7,21.4,20.1,21.2,20.3,21C20.7,20.8,20.7,20.4,21.6,19.5C22.4,18.6,22.7,17.4,22,17.2C21.3,17,21.7,16.4,21.3,16.8C20.7,17.4,19.8,17,19.4,16.9C18.8,16.6,18.5,15.9,18.5,15.9C18.9,15.3,19.5,16.1,19.9,16.4C20.3,16.6,20.5,16.5,20.8,16.4C20.9,16.1,21,16.1,21.2,16.1C21.4,16.1,21.2,16.3,21.9,16.6C22.5,16.8,23.9,15.8,23.9,16.2C23.9,16.6,24.3,16.6,24.3,16.7C24.4,16.7,24.4,16.8,24.8,17C25.3,17.4,25.4,17.3,25.7,17.3C25.8,17.3,25.9,17.4,25.9,17.8C25.9,18.2,26.9,20,26.9,20C27.3,20.3,27.2,21.4,27.7,21C28.2,20.8,27.5,19.4,27.9,18.4C28,17.8,28.3,16.9,28.4,16C28.7,15,29,15.7,29,15.7C28.9,15.7,29.1,15.9,29.5,16.7C29.9,17.4,30,17.3,30.2,17.7C30.4,18,30.2,18.7,30.3,19.7C30.3,19.9,30.7,21.3,30.7,21.7C30.7,22,30,21,30.3,21.7C31,23,30.4,25.4,30.7,25.3C31.1,25.3,31.1,23,31.1,23C31.1,23.9,31.2,22.7,31.2,22.3C31.2,21.9,30.9,19.9,30.9,19.9zM18.1,20.2C18,20.1,17.9,20,17.9,19.9C18,19.9,18,20,18.1,20.2zM12.9,15.8C12.7,16.1,12.3,15.9,11.8,15.8C11.3,15.7,11,15.7,10.7,16.5C10.6,17.1,9.3,16.5,8.9,16.5C8.5,16.5,7.8,16.2,7.4,16.1C7.1,16,7.4,15.7,7.4,15.6C7.4,15.6,7.3,15.2,7.1,15.2C6.7,15.2,6.1,15.4,5.7,15.5C5.2,15.5,4.8,15.5,4.4,16C4.1,16.5,3.4,16.5,3,16.9C2.8,17.1,2.5,16.8,2.4,16.7C3.1,16.7,3.4,16.3,3.5,16C3.6,15.8,3.4,15.4,3.9,15C4.3,14.7,4.2,13.7,4.6,13.7C4.9,13.7,5.5,13.5,5.5,13.4C5.5,13.3,6,12.7,6.4,13.2C6.9,13.7,5.5,13.5,7.4,13.8C9.4,14,8.4,14.5,8,14.8C7.7,14.9,6.2,14.8,7.7,15.3C9,15.8,8.2,14.9,8.1,14.9C7.9,14.9,8.2,14.9,8.6,14.5C9,14.2,8.2,13.8,8.6,13.8C9,13.8,9,13.6,8.9,13.5C8.8,13.4,8.4,13.3,7.8,12.9C7.2,12.6,7.2,12.2,7.3,11.9C7.4,11.6,7.8,11.9,7.8,12.3C7.8,12.5,8.6,12.5,9.2,12.9C9.6,13.1,9.3,13.6,9.7,13.4C10.1,13.3,9.8,13.9,10.7,14.4C11.5,14.8,10.5,13.6,10.4,13.5C10.3,13.4,10.8,12.7,11.4,13C12.2,13.1,11.7,13.6,12.4,14C13.2,14.4,13.3,13.5,13.8,13.7C14.3,13.8,14.1,13.7,14.4,13.4C14.7,13.1,15.1,13.1,15.1,13.5C15.1,13.7,15.3,15.5,14.6,15.5C14,15.5,13.3,15.6,12.9,15.8zM17.8,33.9C17.8,33.9,17.8,33.9,17.8,33.9C17.8,33.9,17.8,33.9,17.8,33.9zM17.7,34C17.7,34,17.7,34,17.7,34z"/>
            <path fill="#69d9e2" id="922" transform="matrix(1,0,0,1,3.9,30.95)" d="M8.6,9.4C8.6,8.8,8.7,8.2,8,7.5C7.4,6.7,7.3,6.1,7.3,6.1C7.3,4.1,5.4,3.8,5,3.7C4.7,3.6,4.5,4.1,4.3,3.7C4.1,3.6,3,3.3,3,3.3C2,1.6,1.5,1.4,1.4,1.3C1.2,1.1,0.6,0.5,0.5,0.4C0,0,0.3,0,0,0C4.1,10.6,13.3,12.9,13.7,13.1C13.6,13.1,12.3,12.4,11.3,11.8C10.3,11.1,8.6,9.7,8.6,9.4z"/>
            <path fill="#69d9e2" id="923" transform="matrix(1,0,0,1,13.26,10.94)" d="M2.9,1.7C2.9,1.7,2.7,1.4,2.6,1.2C2.3,0.9,2.5,1.2,2.3,0.9C2.2,0.5,1.8,0.1,1.9,0.1C1.9,0.1,1.8,0.1,1.8,0.1C1.8,0.1,1.6,-0.1,1.5,0.1C1.2,0.4,1.1,0.2,1.1,0.5C1.1,0.9,1.1,0.9,1.1,1C1.1,1.1,0.7,1.3,0.7,1.3C0.6,1.4,0.4,1.7,0.4,1.7C0.4,1.7,0,1.8,0,2.1C0.3,2.3,0.4,2.3,0.4,2.3C0.5,2.3,0,2.8,0,3C0.2,3.1,0.4,3.6,0.4,3.4C1.3,3.4,1.4,3.1,1.4,3C1.4,2.7,1.4,2.6,1.6,2.4C1.9,2.1,2,2,2,2C2,2,2.3,2.1,2,2.5C1.7,2.9,1.6,3,1.6,3C2.1,3.1,2.5,2.8,2.5,3C2.5,3.1,2.8,2.7,2.8,2.7C2.9,2.7,3.2,2.3,3.2,2.3C3.2,2.3,3.1,2.2,3.2,2.1C3.3,2,2.9,1.7,2.9,1.7z"/>
            <path fill="#69d9e2" id="927" transform="matrix(1,0,0,1,7.72,3.05)" d="M0.3,9.1C0.6,8.8,0.9,7.4,1.9,6.7C2.8,6.1,2.6,5.9,3.4,5.4C3.8,5.2,4,5.1,4.9,4.4C5.7,3.9,5.6,3.8,5.6,3.7C5.6,3.6,5.7,3.3,6,3.3C6.3,3.3,6.9,2.8,7,2.6C7.1,2.5,7.1,2.3,7.4,2.2C7.7,2.1,7.8,2.1,8.1,1.7C8.2,1.5,8.3,1.4,8.7,1.4C9.1,1.4,9.1,1.2,9.4,0.9C9.7,0.6,11.4,0,11.4,0C9.3,0.2,4.9,2.5,4.9,2.6C4.8,2.9,2.5,4.8,2.2,5.2C1.6,5.7,0.6,7.1,0.3,7.7C-0.1,8.6,-0.1,9.4,0.3,9.1z"/>
            <path fill="#69d9e2" id="930" transform="matrix(1,0,0,1,3.32,11.52)" d="M0.9,5.2C0.8,5.6,0.6,6.2,0.6,6.5C0.6,6.8,1.1,6.6,1.1,6.1C1.1,5.7,1.4,4.8,1.4,4.8C1.4,4.8,1.5,4.5,1.7,4.1C1.9,3.7,1.7,2.9,1.8,2.6C2.1,2,2.5,1.3,2.5,1.3C2.5,1.3,3.2,-0.1,3,0C0.4,3.6,0,7.3,0,7.3C0,7.3,0.2,7.7,0.3,7.6L0.6,5.9C0.6,5.8,0.8,5.5,0.9,5.2z"/>
        </g>
        <text class="st10">
            <tspan y="79.5" class="st9" style="white-space:pre" x="18">performance_schema的表</tspan>
        </text>
    </g>
    <g ed:parentid="101" ed:width="225.063" ed:height="91" id="948" transform="matrix(1,0,0,1,2389.99,2134.88)" ed:layout="rightmap">
        <path stroke="#2da7a7" fill="none" stroke-width="2" stroke-linejoin="round" d="M4,0L221.1,0C223.8,0,225.1,1.3,225.1,4L225.1,87C225.1,89.7,223.8,91,221.1,91L4,91C1.3,91,0,89.7,0,87L0,4C0,1.3,1.3,0,4,0z"/>
        <g transform="translate(89.55,8.6)">
            <path fill="#ffffff" id="950" transform="matrix(1,0,0,1,0,0)" d="M46.7,24.6C45.5,13.6,36.9,5.1,25.8,4.2L25.8,1.2L25.8,0L24.6,0L23.2,0L22,0L22,1.2L22,4.3C11,5,1.9,13.4,0.6,24.3C0.3,24.7,0,25.2,0,25.8C0,26.9,1,27.8,2.1,27.8C3,27.8,3.7,27.4,4.1,26.6L13.3,26.6C13.6,27.2,14.4,27.7,15.2,27.7C15.9,27.7,16.5,27.3,16.9,26.7L21.9,26.7L21.9,42.3C21.9,43.3,22.1,44.4,22.6,45.3C23.6,47,25.5,48,27.6,48C28.2,48,28.8,47.9,29.4,47.7L31.8,47.1L33,46.8L32.7,45.5L32.3,44.3L31.9,43L30.7,43.4L28.2,44.1C28,44.2,27.8,44.2,27.5,44.2C26.8,44.2,26,43.8,25.8,43.3C25.5,43,25.5,42.6,25.5,42.2L25.5,26.4L30.9,26.4C31.1,27.3,31.9,27.9,32.8,27.9C33.8,27.9,34.6,27.3,34.8,26.4L42.9,26.4C43.2,27.2,44,27.7,44.9,27.7C46,27.7,47,26.7,47,25.6C47,25.2,46.9,24.9,46.7,24.6z"/>
            <path fill="#69d9e2" id="951" transform="matrix(1,0,0,1,15.01,5.92)" d="M0,18.9C0.1,15.9,0.9,3.1,8.7,0C10,0.7,16.9,5.2,17.7,18.8L0,18.9z"/>
            <path fill="#4c4c4c" id="952" transform="matrix(1,0,0,1,1.1,1.25)" d="M44.3,23.7C43.2,12.6,33.9,4.1,22.6,4.1L23.4,0L22,0L22,4.1C10.9,4.1,1.6,12.5,0.5,23.6C0.2,23.7,0,24,0,24.4C0,24.8,0.4,25.2,0.9,25.2C1.4,25.2,1.8,24.8,1.8,24.4C1.8,24.3,1.8,24.2,1.7,24.2L12.9,24.2C12.9,24.2,12.9,24.2,12.9,24.3C12.9,24.7,13.3,25.1,13.8,25.1C14.3,25.1,14.7,24.7,14.7,24.3C14.7,24.2,14.7,24.2,14.7,24.2L21.9,24.2L21.9,41.2C21.9,42.1,22.1,42.8,22.5,43.5C23.4,44.9,24.8,45.6,26.5,45.6C26.8,45.6,27.3,45.5,27.9,45.5L30.4,44.8L30,43.5L27.6,44.3C25.9,44.8,24.3,44.2,23.6,42.9C23.2,42.4,23.1,41.8,23.1,41.2L23.1,24.2L31,24.2C30.9,24.3,30.8,24.5,30.8,24.6C30.8,25.1,31.2,25.5,31.7,25.5C32.2,25.5,32.6,25.1,32.6,24.6C32.6,24.5,32.5,24.3,32.4,24.2L42.8,24.2C42.8,24.2,42.8,24.3,42.8,24.4C42.8,24.8,43.2,25.2,43.7,25.2C44.1,25.2,44.6,24.8,44.6,24.4C44.6,24.1,44.5,23.8,44.3,23.7zM13.3,22.9L1.8,22.9C3,13.6,10.7,6.3,20,5.4C14.3,9.6,13.4,19.4,13.3,22.9zM23.1,22.9L21.9,22.9L14.6,22.9C14.8,19,15.8,8.3,22.6,5.4C24.2,6.4,30.2,10.7,31,22.9L23.1,22.9zM32.2,22.9C31.5,12.6,27.2,7.5,24.6,5.4C34,6.3,41.7,13.6,43,22.9L32.2,22.9z"/>
        </g>
        <text class="st10">
            <tspan y="79.5" class="st9" style="white-space:pre" x="18">performance_schema小结</tspan>
        </text>
    </g>
    <g ed:parentid="948" ed:width="61" ed:height="22.75" id="953" transform="matrix(1,0,0,1,2648.06,2143.25)" ed:layout="rightmap">
        <path stroke="#2da7a7" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L61,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgstar1"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">掌握</tspan>
        </text>
    </g>
    <g ed:parentid="953" ed:width="66" ed:height="20.75" id="954" transform="matrix(1,0,0,1,2742.06,2170)" ed:layout="rightmap">
        <path stroke="#2da7a7" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">表的分类</tspan>
        </text>
    </g>
    <g ed:parentid="953" ed:width="78" ed:height="20.75" id="955" transform="matrix(1,0,0,1,2742.06,2144.25)" ed:layout="rightmap">
        <path stroke="#2da7a7" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L78,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">配置采集器</tspan>
        </text>
    </g>
    <g ed:parentid="953" ed:width="66" ed:height="20.75" id="956" transform="matrix(1,0,0,1,2742.06,2118.5)" ed:layout="rightmap">
        <path stroke="#2da7a7" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">基本概念</tspan>
        </text>
    </g>
    <g ed:parentid="958" ed:width="126" ed:height="20.75" id="957" transform="matrix(1,0,0,1,2742.06,2195.75)" ed:layout="rightmap">
        <path stroke="#2da7a7" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L126,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">查看关键指标的方法</tspan>
        </text>
    </g>
    <g ed:parentid="948" ed:width="61" ed:height="22.75" id="958" transform="matrix(1,0,0,1,2648.06,2207.63)" ed:layout="rightmap">
        <path stroke="#2da7a7" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,22.8L61,22.8"/>
        <g transform="translate(7.13,2.13)">
            <use transform="translate(0,0)" xlink:href="#imgstar6"/>
        </g>
        <text class="st11">
            <tspan y="15.5" class="st9" style="white-space:pre" x="27">了解</tspan>
        </text>
    </g>
    <symbol id="imgstar6">
        <image width="16" height="16" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkYyRDgxMTVCNEZFMjExRTdBRjcxOTQwNzU1MkExNzVFIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkYyRDgxMTVDNEZFMjExRTdBRjcxOTQwNzU1MkExNzVFIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6RjJEODExNTk0RkUyMTFFN0FGNzE5NDA3NTUyQTE3NUUiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RjJEODExNUE0RkUyMTFFN0FGNzE5NDA3NTUyQTE3NUUiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6cqVyiAAAEbklEQVR42uSbWUgVURjHj6allt7UJFusrFzSSjENSyiIiApaqDDboIWICAKDfMmijKLnorcIIgiKDMo2i2wjNQpp0ZeifOghyijTSnPt+zffhYt4lzP7zP3gB+K9M3PPf75zznf+cybiyukmYWGUEM+s/AGRFl67hrhK3LNSgCiLrnuKWELEEanEW2IuMRgOGTCNKOXGeyOHuBQuXaCKSBvmd6wlkt0uQDyx0U/Xw/+Ou12AygD9HALsIaLdLMABYlSAz3uJY24VoJzoDvIdiHPQrQIcJsaE8L0eosJtAmyWuFYci+UqATC6eySP2e0WAZYSSZLHoKsccosAJ4ixKo5L5IrR0QLkE1kqj00gTjpdgCpuiNoYRyxzqgCTeMUXoeEcHl45OlKAo8RIHc4znZjvNAHQ8B061fWGZoFRAlRyXa9XFGoYTAOGUY5QRZBFj2yMJqqJp8RL4g3z1yoBUK5OZaZwP51FpPPg162zAMjUXOYX0cfewleh2Gn1xCsWpVUPAVKGNDCDyBSKnZXKfbyLGOC/YzWO9rJVojcmMJhtfhMjeNz5QLwgnvtkS2cgATxcr6/gRvZyeqFRMX7upqnGRQg30netkcOUcjuQse+IFqE40XdYsP8HwodrYiWjfU4YK5wfsT7tmM3Ae2wnFkEU9K1HnObRIjwC2TyeeICuHsn9OBwDXaMNApRzSoRTtBHbvNNLHXGG6AiTxn8TivHa4FsJHiFu+JsqXBQ/iYvE2eFKYaREjYtFQLuuCcWa97sW2ELc5mrLTfGHuE/sDGUxVMaFgltE6Ob+vl5mNYgKqtZbLTk48IyhWSjGrPRyeINQNi84VYQ+XhgVafED1nHF5DQRUNx9IbL1METWEA8dJgJqmsl6OkKriCc8mjqhxE2UMRpCjZXsyNhdBKlVrKwnuFwo29q6bHrn8QRq0EgBEHhQUW8zETA+ZXCpK4wWQPC8+tgmjf9BLCA+qTlYiy1eZBMBYOTkqz1YrQAwJhNsIgAs83lmC5Bro9kAxm2x2QLAXIwS9oksswUo4NSzS8C6TzJTgEIbLnnnmClAps0EiDFTAI+agsMEAYrNEiBTqNv0ZHQUmCVAhrD2TRN/McMsAbJtNgN4A/ZXuhkC5Ns0AwbUDIRqM0CPwEB6nn+4Hu8KISvzzBAgTYeGY5vLYmIXGxiXhfbtLtgcsdBoAVI03K0OXrKW8UrytU/f3cT9V6sVb3gXyFRxp3q4UtsvlH0Id/1877NQHCfM541CeYipNhMME2Ci5PfxdOkcp/mFEI9pZoNjNWeJTNGVLCTfPJMVICbEKRA/GpuU8DLkPpV3soFnHDybaAlRiEER2lspqgXoD/I5fMJOHtywvbVVaI86Xn7jdbv3QYTAjBJvpAAYoL77uTAMEjx3h1NUbcA8X8tj0FYWdrgxol0YbItfH3Lhfu7nmMZmCnPe+LoplI2Z24WyUbJzyLK4UeZkalydPL7DaDA2IuKNkI8WVH63hLLbC2PMXm5LiexJ/gkwACwVy2GELRVWAAAAAElFTkSuQmCC"/>
    </symbol>
    <g ed:parentid="958" ed:width="138" ed:height="20.75" id="960" transform="matrix(1,0,0,1,2742.06,2221.5)" ed:layout="rightmap">
        <path stroke="#2da7a7" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L138,20.8"/>
        <text class="st11">
            <tspan y="14.5" class="st9" style="white-space:pre" x="8">每一张表的结构和内容</tspan>
        </text>
    </g>
    <g ed:parentid="999" ed:width="209.671875" ed:height="18.75" id="983" transform="matrix(1,0,0,1,939.64,1230.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L209.7,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">replication_applier_configuration</tspan>
        </text>
    </g>
    <g ed:parentid="999" ed:width="167.0625" ed:height="18.75" id="985" transform="matrix(1,0,0,1,982.25,1254.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L167.1,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">replication_applier_status</tspan>
        </text>
    </g>
    <g ed:parentid="999" ed:width="260.46875" ed:height="18.75" id="987" transform="matrix(1,0,0,1,888.85,1278)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L260.5,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">replication_applier_status_by_coordinator</tspan>
        </text>
    </g>
    <g ed:parentid="999" ed:width="232.953125" ed:height="18.75" id="989" transform="matrix(1,0,0,1,916.36,1301.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L233,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">replication_applier_status_by_worker</tspan>
        </text>
    </g>
    <g ed:parentid="999" ed:width="233.375" ed:height="18.75" id="991" transform="matrix(1,0,0,1,915.94,1325.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L233.4,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">replication_connection_configuration</tspan>
        </text>
    </g>
    <g ed:parentid="999" ed:width="190.765625" ed:height="18.75" id="993" transform="matrix(1,0,0,1,958.55,1349.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L190.8,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">replication_connection_status</tspan>
        </text>
    </g>
    <g ed:parentid="999" ed:width="208.3125" ed:height="18.75" id="995" transform="matrix(1,0,0,1,941,1373)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L208.3,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">replication_group_member_stats</tspan>
        </text>
    </g>
    <g ed:parentid="999" ed:width="180.609375" ed:height="18.75" id="997" transform="matrix(1,0,0,1,968.71,1396.75)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L180.6,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">replication_group_members</tspan>
        </text>
    </g>
    <g ed:parentid="898" ed:width="66" ed:height="20.75" id="999" transform="matrix(1,0,0,1,1182.32,1312.63)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L66,20.8"/>
        <text class="st12">
            <tspan y="14.5" style="white-space:pre" x="8">复制状态</tspan>
        </text>
    </g>
    <g ed:parentid="898" ed:width="42" ed:height="20.75" id="1001" transform="matrix(1,0,0,1,1206.32,1434.38)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L42,20.8"/>
        <text class="st12">
            <tspan y="14.5" style="white-space:pre" x="8">变量</tspan>
        </text>
    </g>
    <g ed:parentid="1001" ed:width="125.984375" ed:height="21.75" id="1003" transform="matrix(1,0,0,1,1047.33,1420.5)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,21.8L126,21.8"/>
        <text class="st12">
            <tspan y="15.5" class="st13" style="white-space:pre" x="8">global_variables</tspan>
        </text>
    </g>
    <g ed:parentid="1001" ed:width="135.984375" ed:height="21.75" id="1005" transform="matrix(1,0,0,1,1037.33,1447.25)" ed:layout="leftmap">
        <path stroke="#ef8f8a" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,21.8L136,21.8"/>
        <text class="st12">
            <tspan y="15.5" class="st13" style="white-space:pre" x="8">session_variables</tspan>
        </text>
    </g>
    <g ed:parentid="308" ed:width="190.84375" ed:height="18.75" id="1007" transform="matrix(1,0,0,1,2989.49,1693.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L190.8,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">file_summary_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="308" ed:width="169.8125" ed:height="18.75" id="1009" transform="matrix(1,0,0,1,2989.49,1717.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L169.8,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">file_summary_by_instance</tspan>
        </text>
    </g>
    <g ed:parentid="830" ed:width="213.90625" ed:height="18.75" id="1011" transform="matrix(1,0,0,1,3166.99,1622.5)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L213.9,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">table_io_waits_summary_by_table</tspan>
        </text>
    </g>
    <g ed:parentid="830" ed:width="257.90625" ed:height="18.75" id="1013" transform="matrix(1,0,0,1,3166.99,1646.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L257.9,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">table_io_waits_summary_by_index_usage</tspan>
        </text>
    </g>
    <g ed:parentid="830" ed:width="227.046875" ed:height="18.75" id="1015" transform="matrix(1,0,0,1,3166.99,1670)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L227,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">table_lock_waits_summary_by_table</tspan>
        </text>
    </g>
    <g ed:parentid="828" ed:width="212.421875" ed:height="18.75" id="1017" transform="matrix(1,0,0,1,3096.06,1597.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L212.4,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">objects_summary_global_by_type</tspan>
        </text>
    </g>
    <g ed:parentid="307" ed:width="189.703125" ed:height="18.75" id="1019" transform="matrix(1,0,0,1,2985.06,1741.25)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L189.7,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">socket_summary_by_instance</tspan>
        </text>
    </g>
    <g ed:parentid="307" ed:width="210.734375" ed:height="18.75" id="1021" transform="matrix(1,0,0,1,2985.06,1765)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,18.8L210.7,18.8"/>
        <text class="st12">
            <tspan y="12.5" style="white-space:pre" x="8">socket_summary_by_event_name</tspan>
        </text>
    </g>
    <g ed:parentid="312" ed:width="231.734375" ed:height="20.75" id="1023" transform="matrix(1,0,0,1,3028.76,1789.75)" ed:layout="rightmap">
        <path stroke="#f56582" fill="none" stroke-width="2" stroke-linejoin="round" d="M0,20.8L231.7,20.8"/>
        <text class="st12">
            <tspan y="14.5" class="st14" style="white-space:pre" x="8">prepared_statements_instances</tspan>
        </text>
    </g>
</svg>
</div>
        <div id="copyright">Created With  <a href="https://www.edrawsoft.com/" target="_blank" title="edrawsoft">MindMaster</a></div>
      </div>
    </div>
    <script>eval(atob('dmFyIG11YT13aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudDsNCnZhciB1YT0obXVhLmluZGV4T2YoJ3J2OjExJykrbXVhLmluZGV4T2YoJ01TSUUnKSk+PTA7DQpkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ZnLWNvbnRhaW5lcicpLm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbiAoZXZlbnQpIHsNCiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOw0KfQ0KZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N2Zy1jb250YWluZXInKS5vbm1vdXNlZG93biA9IGZ1bmN0aW9uIChldmVudCkgew0KICAgIGlmKGV2ZW50LndoaWNoID09Myl7DQogICAgICAgIHRoaXMuc3R5bGUuY3Vyc29yID0gJ3BvaW50ZXInOw0KICAgICAgICB0aGlzLm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24gKGV2KSB7DQogICAgICAgICAgICB0aGlzLnNjcm9sbEJ5KC0oZXYubW92ZW1lbnRYKSwgMCk7DQogICAgICAgICAgICB3aW5kb3cuc2Nyb2xsQnkoMCwtKGV2Lm1vdmVtZW50WSkpDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5vbm1vdXNldXAgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLnN0eWxlLmN1cnNvciA9ICBudWxsOw0KICAgICAgICAgICAgdGhpcy5vbm1vdXNldXAgPSBudWxsOw0KICAgICAgICAgICAgdGhpcy5vbm1vdXNlbW92ZSA9IG51bGw7DQogICAgICAgIH0NCiAgICB9DQp9DQpOdW1iZXIucHJvdG90eXBlLnRvc3VpdHN2Zz1mdW5jdGlvbiAoKSB7DQogICAgdmFyIG51bT10aGlzLnZhbHVlT2YoKTsNCiAgICBpZihudW0lMT09PTApew0KICAgICAgICByZXR1cm4gbnVtKzAuNQ0KICAgIH1lbHNlIHJldHVybiBudW07DQp9Ow0KTnVtYmVyLnByb3RvdHlwZS5wbHVzej1mdW5jdGlvbigpIHsNCiAgICB2YXIgbnVtPXRoaXMudmFsdWVPZigpOw0KICAgIHJldHVybiBudW08MTA/JzAnK251bTpudW07DQp9Ow0KZnVuY3Rpb24gcGFyc2VEYXRlKG51bSkgew0KICAgIHZhciBkYXRlID0gbmV3IERhdGUobnVtKTsNCiAgICB2YXIgWSA9IGRhdGUuZ2V0RnVsbFllYXIoKSArICctJzsNCiAgICB2YXIgTSA9IChkYXRlLmdldE1vbnRoKCkrMSkucGx1c3ooKSArICctJzsNCiAgICB2YXIgRCA9IGRhdGUuZ2V0RGF0ZSgpLnBsdXN6KCkgKyAnICc7DQogICAgdmFyIGggPSBkYXRlLmdldEhvdXJzKCkucGx1c3ooKSArICc6JzsNCiAgICB2YXIgbW0gPSBkYXRlLmdldE1pbnV0ZXMoKS5wbHVzeigpICsgJzonOw0KICAgIHZhciBzID0gZGF0ZS5nZXRTZWNvbmRzKCkucGx1c3ooKTsNCiAgICByZXR1cm4gWStNK0QraCttbStzOw0KfQ0KLy8tLXByZWRlZmluZWQNCi8vY29tbWVudC0tDQp2YXIgY29tbWVudHM9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZz5nW2VkXFw6Y29tbWVudF0nKTsNCmZ1bmN0aW9uIGdldGN3aChwb3B1cCkgew0KICAgIGRvY3VtZW50LmJvZHkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N2ZycpWzBdLmFwcGVuZENoaWxkKHBvcHVwKTsNCiAgICB2YXIgdz1wb3B1cC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDsNCiAgICB2YXIgaD1wb3B1cC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQ7DQogICAgcmV0dXJuIFt3LGhdDQp9DQpmb3IodmFyIGk9MDtpPGNvbW1lbnRzLmxlbmd0aDtpKyspew0KICAgIHZhciBwb3B1cD1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywnZycpOw0KICAgIHZhciBwb3B1cFI9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdyZWN0Jyk7DQogICAgdmFyIGhvdmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdyZWN0Jyk7DQogICAgdmFyIG9saW5lPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdyZWN0Jyk7DQogICAgaG92ZXIuc2V0QXR0cmlidXRlKCdmaWxsJywnI2NkY2RmZicpOw0KICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgneCcsJzAnKTsNCiAgICBob3Zlci5zZXRBdHRyaWJ1dGUoJ3knLCcwJyk7DQogICAgaG92ZXIuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCcxNicpOw0KICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCcxNicpOw0KICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgnZmlsbC1vcGFjaXR5JywnMC42Jyk7DQogICAgaG92ZXIuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLGNvbW1lbnRzW2ldLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpLmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykpOw0KICAgIGhvdmVyLnN0eWxlLmRpc3BsYXk9J25vbmUnOw0KICAgIGNvbW1lbnRzW2ldLmFwcGVuZENoaWxkKGhvdmVyKTsNCiAgICB2YXIgYT1KU09OLnBhcnNlKGNvbW1lbnRzW2ldLmdldEF0dHJpYnV0ZSgnZWQ6Y29tbWVudCcpKTsNCiAgICB2YXIgaGVpZ2h0PTA7DQogICAgdmFyIGNhcnI9W107DQogICAgZm9yKHZhciBqPTA7ajxhLmxlbmd0aDtqKyspew0KICAgICAgICB2YXIgc3RhbXA9TnVtYmVyKGFbal0uRGF0ZSkqMTAwMDsNCiAgICAgICAgdmFyIHRpbWU9cGFyc2VEYXRlKHN0YW1wKTsNCiAgICAgICAgdmFyIG5hbWU9YVtqXS5OYW1lOw0KICAgICAgICB2YXIgbWVzc2FnZT1hW2pdLk1lc3NhZ2U7DQogICAgICAgIHZhciBtZXNzYWdlQXJyPW1lc3NhZ2Uuc3BsaXQoL1xuLyk7DQogICAgICAgIHZhciBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdnJyk7DQogICAgICAgIHZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCd0ZXh0Jyk7DQogICAgICAgIHZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCd0ZXh0Jyk7DQogICAgICAgIHZhciBtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCd0ZXh0Jyk7DQogICAgICAgIG4uc2V0QXR0cmlidXRlKCd4Jyw1KTsNCiAgICAgICAgbi5zZXRBdHRyaWJ1dGUoJ3knLDEyKTsNCiAgICAgICAgbi5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCcjMDA2ZWZmJyk7DQogICAgICAgIG4udGV4dENvbnRlbnQ9bmFtZSsnOiAnOw0KICAgICAgICBuLnNldEF0dHJpYnV0ZSgnZm9udC1zaXplJywnMTInKTsNCiAgICAgICAgdC5zZXRBdHRyaWJ1dGUoJ3gnLDIwMCk7DQogICAgICAgIHQuc2V0QXR0cmlidXRlKCd5JywxMik7DQogICAgICAgIHQuc2V0QXR0cmlidXRlKCdmaWxsJywnIzk2OTY5NicpOw0KICAgICAgICB0LnRleHRDb250ZW50PXRpbWU7DQogICAgICAgIHQuc2V0QXR0cmlidXRlKCdmb250LXNpemUnLCcxMCcpOw0KICAgICAgICBtLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywndHJhbnNsYXRlKDIwLDI3KScpOw0KICAgICAgICBtLnNldEF0dHJpYnV0ZSgnZm9udC1zaXplJywnMTInKTsNCiAgICAgICAgZm9yKHZhciBrPTA7azxtZXNzYWdlQXJyLmxlbmd0aDtrKyspew0KICAgICAgICAgICAgdmFyIHRzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCd0c3BhbicpOw0KICAgICAgICAgICAgdHMuc2V0QXR0cmlidXRlKCd4JywnMCcpOw0KICAgICAgICAgICAgdHMuc2V0QXR0cmlidXRlKCd5JyxrKjE2KTsNCiAgICAgICAgICAgIHRzLnRleHRDb250ZW50PW1lc3NhZ2VBcnJba107DQogICAgICAgICAgICBtLmFwcGVuZENoaWxkKHRzKTsNCiAgICAgICAgfQ0KICAgICAgICBvLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywndHJhbnNsYXRlKDAsJytoZWlnaHQrJyknKTsNCiAgICAgICAgby5hcHBlbmRDaGlsZChuKTsNCiAgICAgICAgby5hcHBlbmRDaGlsZCh0KTsNCiAgICAgICAgby5hcHBlbmRDaGlsZChtKTsNCiAgICAgICAgY2Fyci5wdXNoKG8pOw0KICAgICAgICBwb3B1cC5hcHBlbmRDaGlsZChvKTsNCiAgICAgICAgaGVpZ2h0PShtZXNzYWdlQXJyLmxlbmd0aCsxKSoxNitoZWlnaHQ7DQogICAgfQ0KICAgIHZhciB3YXJyPWdldGN3aChwb3B1cCk7DQogICAgb2xpbmUuc2V0QXR0cmlidXRlKCd4JywnMCcpOw0KICAgIG9saW5lLnNldEF0dHJpYnV0ZSgneScsJzAnKTsNCiAgICB2YXIgb3c9d2FyclswXSsxMC41Ow0KICAgIHZhciBvaD13YXJyWzFdKzM7DQogICAgb2xpbmUuc2V0QXR0cmlidXRlKCd3aWR0aCcsb3cpOw0KICAgIG9saW5lLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JyxvaCk7DQogICAgb2xpbmUuc2V0QXR0cmlidXRlKCdmaWxsJywnd2hpdGUnKTsNCiAgICBvbGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsJyM2NTY1NjUnKTsNCiAgICBwb3B1cC5hcHBlbmRDaGlsZChvbGluZSk7DQogICAgdmFyIGw9Y2Fyci5sZW5ndGg7DQogICAgd2hpbGUobC0tKXsNCiAgICAgICAgcG9wdXAuYXBwZW5kQ2hpbGQoY2FycltsXSk7DQogICAgfQ0KICAgIHBvcHVwLm9ubW91c2VvdmVyPWZ1bmN0aW9uICgpIHsNCiAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5PSdibG9jayc7DQogICAgfTsNCiAgICBwb3B1cC5vbm1vdXNlb3V0PWZ1bmN0aW9uICgpIHsNCiAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgIH07DQogICAgdmFyIGNzPWNvbW1lbnRzW2ldLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpLmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykubWF0Y2goL1woKFxTKnxcUypcc1xTKilcKS8pWzFdLnNwbGl0KC8gfCwvKTsNCiAgICB2YXIgcHM9Y29tbWVudHNbaV0ucGFyZW50Tm9kZS5nZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpOw0KICAgIGlmKHBzLnN1YnN0cigwLDIpID09ICd0cicpew0KICAgICAgICB2YXIgcHBzID0gcHMubWF0Y2goL1woKFxTKnxcUypcc1xTKilcKS8pWzFdLnNwbGl0KC8gfCwvKTsNCiAgICAgICAgdmFyIHg9cGFyc2VGbG9hdChjc1swXSkrcGFyc2VGbG9hdChwcHNbMF0pOw0KICAgICAgICB2YXIgeT1wYXJzZUZsb2F0KHBwc1sxXSk7DQogICAgICAgIHg9eC50b3N1aXRzdmcoKTsNCiAgICAgICAgeT15LnRvc3VpdHN2ZygpOw0KICAgICAgICB2YXIgdHJzdHIgPSAndHJhbnNsYXRlKCcreCsnLCcreSsnKSc7DQogICAgfQ0KICAgIGVsc2UgaWYocHMuc3Vic3RyKDAsMikgPT0gJ21hJyl7DQogICAgICAgIHZhciBwcHMgPSBwcy5tYXRjaCgvKFwtP1xkKyhcLlxkKyk/KVtcLCBdKFwtP1xkKyhcLlxkKyk/KVtcLCBdKFwtP1xkKyhcLlxkKyk/KVtcLCBdKFwtP1xkKyhcLlxkKyk/KVtcLCBdKFwtP1xkKyhcLlxkKyk/KVtcLCBdKFwtP1xkKyhcLlxkKyk/KVwpJC8pOw0KICAgICAgICB2YXIgbWFBcnIgPSBbcGFyc2VGbG9hdChwcHNbMV0pLHBhcnNlRmxvYXQocHBzWzNdKSxwYXJzZUZsb2F0KHBwc1s1XSkscGFyc2VGbG9hdChwcHNbN10pLHBhcnNlRmxvYXQocHBzWzldKSxwYXJzZUZsb2F0KHBwc1sxMV0pXTsNCiAgICAgICAgaWYobWFBcnJbMV0gPT0gMCl7DQogICAgICAgICAgICB2YXIgeCA9IHBhcnNlRmxvYXQoY3NbMF0pOw0KICAgICAgICAgICAgdmFyIHk9IHBhcnNlRmxvYXQoY3NbMV0pKzE2Ow0KICAgICAgICAgICAgdmFyIHgxID0geCAqIG1hQXJyWzBdICsgeSAqIG1hQXJyWzJdICsgbWFBcnJbNF07DQogICAgICAgICAgICB2YXIgeTEgPSB4ICogbWFBcnJbMV0gKyB5ICogbWFBcnJbM10gKyBtYUFycls1XTsNCiAgICAgICAgICAgIHgxPXgxLnRvc3VpdHN2ZygpOw0KICAgICAgICAgICAgeTE9eTEudG9zdWl0c3ZnKCk7DQogICAgICAgICAgICB2YXIgdHJzdHIgPSAgJ3RyYW5zbGF0ZSgnK3gxKycsJyt5MSsnKSc7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KGNzWzBdKSsxNjsNCiAgICAgICAgICAgIHZhciB5ID0gcGFyc2VGbG9hdChjc1sxXSkrMTY7DQogICAgICAgICAgICB2YXIgeDEgPSB4ICogbWFBcnJbMF0gKyB5ICogbWFBcnJbMl0gKyBtYUFycls0XTsNCiAgICAgICAgICAgIHZhciB5MSA9IHggKiBtYUFyclsxXSArIHkgKiBtYUFyclszXSArIG1hQXJyWzVdOw0KICAgICAgICAgICAgeCA9IHBhcnNlRmxvYXQoY3NbMF0pKzE2Ow0KICAgICAgICAgICAgeSA9IHBhcnNlRmxvYXQoY3NbMV0pOw0KICAgICAgICAgICAgdmFyIHgyID0geCAqIG1hQXJyWzBdICsgeSAqIG1hQXJyWzJdICsgbWFBcnJbNF07DQogICAgICAgICAgICB2YXIgeTIgPSB4ICogbWFBcnJbMV0gKyB5ICogbWFBcnJbM10gKyBtYUFycls1XTsNCiAgICAgICAgICAgIHZhciBmeCA9IHgxPHgyP3gxLnRvc3VpdHN2ZygpOiB4Mi50b3N1aXRzdmcoKTsNCiAgICAgICAgICAgIHZhciBmeSA9IHkxPnkyP3kxLnRvc3VpdHN2ZygpOiB5Mi50b3N1aXRzdmcoKTsNCiAgICAgICAgICAgIHZhciBvZmZ5ID0gTWF0aC5hYnMoeTEteTIpOw0KICAgICAgICAgICAgdmFyIHRyc3RyID0gICd0cmFuc2xhdGUoJytmeCsnLCcrZnkrJyknOw0KICAgICAgICAgICAgcG9wdXBSLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JyxvZmZ5LnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgcG9wdXBSLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCcxNicpOw0KICAgICAgICAgICAgcG9wdXBSLnNldEF0dHJpYnV0ZSgneScsKC1vZmZ5KS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHBvcHVwUi5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCd0cmFuc3BhcmVudCcpOw0KICAgICAgICAgICAgcG9wdXAuYXBwZW5kQ2hpbGQocG9wdXBSKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBwb3B1cC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsdHJzdHIpOw0KICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgnY29tbWVudCcsJycpOw0KICAgIHBvcHVwLnN0eWxlLmRpc3BsYXk9J25vbmUnOw0KICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgnZWQ6Y29tbWVudGlkJyxjb21tZW50c1tpXS5wYXJlbnROb2RlLmlkKTsNCiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnLWNvbnRhaW5lciA+IHN2ZycpLmFwcGVuZENoaWxkKHBvcHVwKTsNCiAgICBjb21tZW50c1tpXS5vbm1vdXNlb3Zlcj1mdW5jdGlvbiAoKSB7DQogICAgICAgIHZhciBjb21tZW50aWQ9dGhpcy5wYXJlbnROb2RlLmlkOw0KICAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3JlY3QnKS5zdHlsZS5kaXNwbGF5PSdibG9jayc7DQogICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImdbZWRcXDpjb21tZW50aWQ9JyIrY29tbWVudGlkKyInXVtjb21tZW50XSIpLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJzsNCiAgICB9Ow0KICAgIGNvbW1lbnRzW2ldLm9ubW91c2VvdXQ9ZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgY29tbWVudGlkPXRoaXMucGFyZW50Tm9kZS5pZDsNCi8vICAgICAgICB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzKCk7DQogICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcigncmVjdCcpLnN0eWxlLmRpc3BsYXk9J25vbmUnOw0KICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJnW2VkXFw6Y29tbWVudGlkPSciK2NvbW1lbnRpZCsiJ11bY29tbWVudF0iKS5zdHlsZS5kaXNwbGF5PSdub25lJzsNCiAgICB9DQp9DQovLy0tY29tbWVudA0KLy9ub3RlLS0NCmlmKCF1YSl7DQogICAgdmFyIG5vdGVzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2c+Z1tlZFxcOm5vdGVdJyk7DQogICAgZnVuY3Rpb24gZ2V0d2gocyxwKSB7DQogICAgICAgIHZhciBtYWlucD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsNCiAgICAgICAgbWFpbnAuc3R5bGUuY3NzVGV4dD1zOw0KICAgICAgICBtYWlucC5zdHlsZS5kaXNwbGF5PSdpbmxpbmUtYmxvY2snOw0KCQltYWlucC5zdHlsZS5tYXhXaWR0aCA9ICc0MDBweCc7DQoJCW1haW5wLnN0eWxlLndvcmRCcmVhayA9ICdicmVhay1hbGwnOw0KICAgICAgICBtYWlucC5pbm5lckhUTUw9cDsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChtYWlucCk7DQogICAgICAgIHZhciB3PW1haW5wLmNsaWVudFdpZHRoOw0KICAgICAgICB2YXIgaD1tYWlucC5jbGllbnRIZWlnaHQ7DQogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQobWFpbnApOw0KICAgICAgICByZXR1cm4gW3csaF0NCiAgICB9DQogICAgZm9yKHZhciBpPTA7aTxub3Rlcy5sZW5ndGg7aSsrKXsNCiAgICAgICAgdmFyIGE9bm90ZXNbaV0uZ2V0QXR0cmlidXRlKCdlZDpub3RlJyk7DQoJCXZhciBub3RlTG9jayA9IG5vdGVzW2ldLmdldEF0dHJpYnV0ZSgnZWQ6bm90ZWxvY2snKTsNCiAgICAgICAgaWYobm90ZUxvY2sgPT0gJ3RydWUnKXsNCiAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICB9DQogICAgICAgIHZhciBtYWlucD1hLm1hdGNoKC88Ym9keVtePl0qPiguKik8XC9ib2R5Pi8pWzFdOw0KICAgICAgICB2YXIgbWFpbnM9YS5tYXRjaCgvc3R5bGU9IiguKj8pIi8pWzFdOw0KICAgICAgICB2YXIgb3V0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdnJyk7DQogICAgICAgIHZhciBvbGluZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywncmVjdCcpOw0KICAgICAgICB2YXIgcG9wdXA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsJ2ZvcmVpZ25PYmplY3QnKTsNCiAgICAgICAgdmFyIHBvcHVwUj0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsJ3JlY3QnKTsNCiAgICAgICAgdmFyIGhvdmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdyZWN0Jyk7DQogICAgICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgnZmlsbCcsJyNjZGNkZmYnKTsNCiAgICAgICAgaG92ZXIuc2V0QXR0cmlidXRlKCd4JywnMCcpOw0KICAgICAgICBob3Zlci5zZXRBdHRyaWJ1dGUoJ3knLCcwJyk7DQogICAgICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywnMTYnKTsNCiAgICAgICAgaG92ZXIuc2V0QXR0cmlidXRlKCd3aWR0aCcsJzE2Jyk7DQogICAgICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgnZmlsbC1vcGFjaXR5JywnMC42Jyk7DQogICAgICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJyxub3Rlc1tpXS5xdWVyeVNlbGVjdG9yKCd1c2UnKS5nZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpKTsNCiAgICAgICAgaG92ZXIuc3R5bGUuZGlzcGxheT0nbm9uZSc7DQogICAgICAgIG5vdGVzW2ldLmFwcGVuZENoaWxkKGhvdmVyKTsNCiAgICAgICAgcG9wdXAuc3R5bGUuY3NzVGV4dD1tYWluczsNCiAgICAgICAgcG9wdXAuaW5uZXJIVE1MPW1haW5wOw0KICAgICAgICB2YXIgd2g9Z2V0d2gobWFpbnMsbWFpbnApOw0KICAgICAgICBwb3B1cC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJyx3aFswXSk7DQogICAgICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jyx3aFsxXSk7DQogICAgICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywndHJhbnNsYXRlKDgsNCknKTsNCgkJcG9wdXAuc3R5bGUud29yZEJyZWFrID0gJ2JyZWFrLWFsbCc7DQogICAgICAgIHBvcHVwLnN0eWxlLnRleHRBbGlnbj0nbGVmdCc7DQogICAgICAgIG9saW5lLnNldEF0dHJpYnV0ZSgneCcsJzAnKTsNCiAgICAgICAgb2xpbmUuc2V0QXR0cmlidXRlKCd5JywnMCcpOw0KICAgICAgICBvbGluZS5zZXRBdHRyaWJ1dGUoJ3dpZHRoJyx3aFswXSsxNik7DQogICAgICAgIG9saW5lLnNldEF0dHJpYnV0ZSgnaGVpZ2h0Jyx3aFsxXSs4KTsNCiAgICAgICAgb2xpbmUuc2V0QXR0cmlidXRlKCdzdHJva2UnLCcjYTI3YTAwJyk7DQogICAgICAgIG9saW5lLnNldEF0dHJpYnV0ZSgnZmlsbCcsJyNmZmU3OWQnKTsNCiAgICAgICAgb3V0LmFwcGVuZENoaWxkKG9saW5lKTsNCiAgICAgICAgb3V0LmFwcGVuZENoaWxkKHBvcHVwKTsNCiAgICAgICAgb3V0LnNldEF0dHJpYnV0ZSgnbm90ZScsJycpOw0KICAgICAgICBvdXQuc3R5bGUuZGlzcGxheT0nbm9uZSc7DQogICAgICAgIG91dC5zZXRBdHRyaWJ1dGUoJ2VkOm5vdGVpZCcsbm90ZXNbaV0ucGFyZW50Tm9kZS5pZCk7DQogICAgICAgIG91dC5vbm1vdXNlb3Zlcj1mdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJzsNCiAgICAgICAgfTsNCiAgICAgICAgb3V0Lm9ubW91c2VvdXQ9ZnVuY3Rpb24gKCkgew0KLy8gICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24gPyB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlUmFuZ2Uod2luZG93LmdldFNlbGVjdGlvbigpLnJlKTpkb2N1bWVudC5zZWxlY3Rpb24uZW1wdHkoKTsNCg0KICAgICAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5PSdub25lJzsNCiAgICAgICAgfTsNCiAgICAgICAgdmFyIGNzPW5vdGVzW2ldLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpLmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJykubWF0Y2goL1woKFxTKnxcUypcc1xTKilcKS8pWzFdLnNwbGl0KC8gfCwvKTsNCiAgICAgICAgdmFyIHBzPW5vdGVzW2ldLnBhcmVudE5vZGUuZ2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nKTsNCiAgICAgICAgaWYocHMuc3Vic3RyKDAsMikgPT0gJ3RyJyl7DQogICAgICAgICAgICB2YXIgcHBzID0gcHMubWF0Y2goL1woKFxTKnxcUypcc1xTKilcKS8pWzFdLnNwbGl0KC8gfCwvKTsNCiAgICAgICAgICAgIHZhciB4PXBhcnNlRmxvYXQoY3NbMF0pK3BhcnNlRmxvYXQocHBzWzBdKTsNCiAgICAgICAgICAgIHZhciB5PXBhcnNlRmxvYXQocHBzWzFdKTsNCiAgICAgICAgICAgIHg9eC50b3N1aXRzdmcoKTsNCiAgICAgICAgICAgIHk9eS50b3N1aXRzdmcoKTsNCiAgICAgICAgICAgIHZhciB0cnN0ciA9ICd0cmFuc2xhdGUoJyt4KycsJyt5KycpJzsNCiAgICAgICAgfWVsc2UgaWYocHMuc3Vic3RyKDAsMikgPT0gJ21hJyl7DQogICAgICAgICAgICB2YXIgcHBzID0gcHMubWF0Y2goLyhcLT9cZCsoXC5cZCspPylbXCwgXShcLT9cZCsoXC5cZCspPylbXCwgXShcLT9cZCsoXC5cZCspPylbXCwgXShcLT9cZCsoXC5cZCspPylbXCwgXShcLT9cZCsoXC5cZCspPylbXCwgXShcLT9cZCsoXC5cZCspPylcKSQvKTsNCiAgICAgICAgICAgIHZhciBtYUFyciA9IFtwYXJzZUZsb2F0KHBwc1sxXSkscGFyc2VGbG9hdChwcHNbM10pLHBhcnNlRmxvYXQocHBzWzVdKSxwYXJzZUZsb2F0KHBwc1s3XSkscGFyc2VGbG9hdChwcHNbOV0pLHBhcnNlRmxvYXQocHBzWzExXSldOw0KICAgICAgICAgICAgaWYobWFBcnJbMV0gPT0gMCl7DQogICAgICAgICAgICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KGNzWzBdKTsNCiAgICAgICAgICAgICAgICB2YXIgeSA9IHBhcnNlRmxvYXQoY3NbMV0pKzE2Ow0KICAgICAgICAgICAgICAgIHZhciB4MSA9IHggKiBtYUFyclswXSArIHkgKiBtYUFyclsyXSArIG1hQXJyWzRdOw0KICAgICAgICAgICAgICAgIHZhciB5MSA9IHggKiBtYUFyclsxXSArIHkgKiBtYUFyclszXSArIG1hQXJyWzVdOw0KICAgICAgICAgICAgICAgIHgxPXgxLnRvc3VpdHN2ZygpOw0KICAgICAgICAgICAgICAgIHkxPXkxLnRvc3VpdHN2ZygpOw0KICAgICAgICAgICAgICAgIHZhciB0cnN0ciA9ICAndHJhbnNsYXRlKCcreDErJywnK3kxKycpJzsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHZhciB4ID0gcGFyc2VGbG9hdChjc1swXSkrMTY7DQogICAgICAgICAgICAgICAgdmFyIHkgPSBwYXJzZUZsb2F0KGNzWzFdKSsxNjsNCiAgICAgICAgICAgICAgICB2YXIgeDEgPSB4ICogbWFBcnJbMF0gKyB5ICogbWFBcnJbMl0gKyBtYUFycls0XTsNCiAgICAgICAgICAgICAgICB2YXIgeTEgPSB4ICogbWFBcnJbMV0gKyB5ICogbWFBcnJbM10gKyBtYUFycls1XTsNCiAgICAgICAgICAgICAgICB4ID0gcGFyc2VGbG9hdChjc1swXSkrMTY7DQogICAgICAgICAgICAgICAgeSA9IHBhcnNlRmxvYXQoY3NbMV0pOw0KICAgICAgICAgICAgICAgIHZhciB4MiA9IHggKiBtYUFyclswXSArIHkgKiBtYUFyclsyXSArIG1hQXJyWzRdOw0KICAgICAgICAgICAgICAgIHZhciB5MiA9IHggKiBtYUFyclsxXSArIHkgKiBtYUFyclszXSArIG1hQXJyWzVdOw0KICAgICAgICAgICAgICAgIHZhciBmeCA9IHgxPHgyP3gxLnRvc3VpdHN2ZygpOiB4Mi50b3N1aXRzdmcoKTsNCiAgICAgICAgICAgICAgICB2YXIgZnkgPSB5MT55Mj95MS50b3N1aXRzdmcoKTogeTIudG9zdWl0c3ZnKCk7DQoJCQkJdmFyIG9mZnkgPSBNYXRoLmFicyh5MS15Mik7CQkJCQkJCQkJCSAgDQogICAgICAgICAgICAgICAgdmFyIHRyc3RyID0gICd0cmFuc2xhdGUoJytmeCsnLCcrZnkrJyknOw0KICAgICAgICAgICAgICAgIHBvcHVwUi5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsb2ZmeS50b1N0cmluZygpKTsNCiAgICAgICAgICAgICAgICBwb3B1cFIuc2V0QXR0cmlidXRlKCd3aWR0aCcsJzE2Jyk7DQogICAgICAgICAgICAgICAgcG9wdXBSLnNldEF0dHJpYnV0ZSgneScsKC1vZmZ5KS50b1N0cmluZygpKTsNCiAgICAgICAgICAgICAgICBwb3B1cFIuc2V0QXR0cmlidXRlKCdmaWxsJywndHJhbnNwYXJlbnQnKTsNCiAgICAgICAgICAgICAgICBwb3B1cC5hcHBlbmRDaGlsZChwb3B1cFIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIG91dC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsdHJzdHIpOw0KICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc3ZnLWNvbnRhaW5lciA+IHN2ZycpLmFwcGVuZENoaWxkKG91dCk7DQogICAgICAgIG5vdGVzW2ldLm9ubW91c2VvdmVyPWZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBub3RlaWQ9dGhpcy5wYXJlbnROb2RlLmlkOw0KICAgICAgICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdyZWN0Jykuc3R5bGUuZGlzcGxheT0nYmxvY2snOw0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZ1tlZFxcOm5vdGVpZD0nIitub3RlaWQrIiddW25vdGVdIikuc3R5bGUuZGlzcGxheT0nYmxvY2snOw0KICAgICAgICB9Ow0KICAgICAgICBub3Rlc1tpXS5vbm1vdXNlb3V0PWZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHZhciBub3RlaWQ9dGhpcy5wYXJlbnROb2RlLmlkOw0KLy8gICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTsNCiAgICAgICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcigncmVjdCcpLnN0eWxlLmRpc3BsYXk9J25vbmUnOw0KICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZ1tlZFxcOm5vdGVpZD0nIitub3RlaWQrIiddW25vdGVdIikuc3R5bGUuZGlzcGxheT0nbm9uZSc7DQogICAgICAgIH0NCiAgICB9DQp9ZWxzZXsNCiAgICBjb25zb2xlLmxvZygn5oqx5q2J77yMSUXmtY/op4jlmajkuI3mlK/mjIFub3Rl6Kej5p6Q77yM6K+35L2/55So5YW25LuW5YaF5qC45rWP6KeI5Zmo44CC6LCi6LCi77yBJykNCn0NCi8vLS1ub3RlDQovL2h5cGVybGluay0tDQp2YXIgbGlua3M9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnZz5nW2VkXFw6aHlwZXJsaW5rXScpOw0KZnVuY3Rpb24gZ2V0bWF4bGVuKGFycixicnIpIHsNCiAgICB2YXIgbD0wOw0KICAgIHZhciBsbD0wOw0KICAgIGZvcih2YXIgaj0wO2o8YXJyLmxlbmd0aDtqKyspew0KICAgICAgICB2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywndGV4dCcpOw0KICAgICAgICBpZighaXNOYU4obGlua2FycltqXSkpew0KICAgICAgICAgICAgZS50ZXh0Q29udGVudD0nUGFnZS0nK2FycltqXTsNCiAgICAgICAgfWVsc2V7DQogICAgICAgICAgICBlLnRleHRDb250ZW50PWFycltqXTsNCiAgICAgICAgfQ0KICAgICAgICBlLnN0eWxlLmZvbnRTaXplPScxMnB4JzsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF0uYXBwZW5kQ2hpbGQoZSk7DQogICAgICAgIHZhciBldz1lLmdldEJCb3goKS53aWR0aDsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF0ucmVtb3ZlQ2hpbGQoZSk7DQogICAgICAgIHZhciBoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCd0ZXh0Jyk7DQogICAgICAgIGgudGV4dENvbnRlbnQ9YnJyW2pdOw0KICAgICAgICBoLnN0eWxlLmZvbnRTaXplPScxMnB4JzsNCiAgICAgICAgaC5zdHlsZS5mb250V2VpZ2h0PSdib2xkJzsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF0uYXBwZW5kQ2hpbGQoaCk7DQogICAgICAgIHZhciBodz1oLmdldEJCb3goKS53aWR0aDsNCiAgICAgICAgZG9jdW1lbnQuYm9keS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3ZnJylbMF0ucmVtb3ZlQ2hpbGQoaCk7DQogICAgICAgIGw9ZXc+aHc/ZXc6aHc7DQogICAgICAgIGxsPWw+bGw/bDpsbDsNCiAgICB9DQogICAgcmV0dXJuIGxsOw0KfQ0KZm9yKHZhciBpPTA7aTxsaW5rcy5sZW5ndGg7aSsrKXsNCiAgICB2YXIgcG9wdXA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsJ2cnKTsNCiAgICB2YXIgcG9wdXBSPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywncmVjdCcpOw0KICAgIHZhciBob3Zlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywncmVjdCcpOw0KICAgIHZhciBkZXNjYXJyPVtdOw0KICAgIHZhciBsaW5rYXJyPVtdOw0KICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgnZmlsbCcsJyNjZGNkZmYnKTsNCiAgICBob3Zlci5zZXRBdHRyaWJ1dGUoJ3gnLCcwJyk7DQogICAgaG92ZXIuc2V0QXR0cmlidXRlKCd5JywnMCcpOw0KICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywnMTYnKTsNCiAgICBob3Zlci5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywnMTYnKTsNCiAgICBob3Zlci5zZXRBdHRyaWJ1dGUoJ2ZpbGwtb3BhY2l0eScsJzAuNicpOw0KICAgIGhvdmVyLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJyxsaW5rc1tpXS5xdWVyeVNlbGVjdG9yKCd1c2UnKS5nZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpKTsNCiAgICBob3Zlci5zdHlsZS5kaXNwbGF5PSdub25lJzsNCiAgICBsaW5rc1tpXS5hcHBlbmRDaGlsZChob3Zlcik7DQogICAgLy8gY29uc29sZS5sb2cobGlua3NbaV0uZ2V0QXR0cmlidXRlKCdlZDpoeXBlcmxpbmsnKSk7DQogICAgdmFyIGE9SlNPTi5wYXJzZShsaW5rc1tpXS5nZXRBdHRyaWJ1dGUoJ2VkOmh5cGVybGluaycpKTsNCiAgICB2YXIgY3M9bGlua3NbaV0ucXVlcnlTZWxlY3RvcigndXNlJykuZ2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nKS5tYXRjaCgvXCgoXFMqfFxTKlxzXFMqKVwpLylbMV0uc3BsaXQoLyB8LC8pOw0KICAgIHZhciBwcz1saW5rc1tpXS5wYXJlbnROb2RlLmdldEF0dHJpYnV0ZSgndHJhbnNmb3JtJyk7DQogICAgaWYocHMuc3Vic3RyKDAsMikgPT0gJ3RyJyl7DQogICAgICAgIHZhciBwcHMgPSBwcy5tYXRjaCgvXCgoXFMqfFxTKlxzXFMqKVwpLylbMV0uc3BsaXQoLyB8LC8pOw0KICAgICAgICB2YXIgeD1wYXJzZUZsb2F0KGNzWzBdKStwYXJzZUZsb2F0KHBwc1swXSk7DQogICAgICAgIHZhciB5PXBhcnNlRmxvYXQocHBzWzFdKTsNCiAgICAgICAgeD14LnRvc3VpdHN2ZygpOw0KICAgICAgICB5PXkudG9zdWl0c3ZnKCk7DQogICAgICAgIHZhciB0cnN0ciA9ICd0cmFuc2xhdGUoJyt4KycsJyt5KycpJzsNCiAgICB9ZWxzZSBpZihwcy5zdWJzdHIoMCwyKSA9PSAnbWEnKXsNCiAgICAgICAgdmFyIHBwcyA9IHBzLm1hdGNoKC8oXC0/XGQrKFwuXGQrKT8pW1wsIF0oXC0/XGQrKFwuXGQrKT8pW1wsIF0oXC0/XGQrKFwuXGQrKT8pW1wsIF0oXC0/XGQrKFwuXGQrKT8pW1wsIF0oXC0/XGQrKFwuXGQrKT8pW1wsIF0oXC0/XGQrKFwuXGQrKT8pXCkkLyk7DQogICAgICAgIHZhciBtYUFyciA9IFtwYXJzZUZsb2F0KHBwc1sxXSkscGFyc2VGbG9hdChwcHNbM10pLHBhcnNlRmxvYXQocHBzWzVdKSxwYXJzZUZsb2F0KHBwc1s3XSkscGFyc2VGbG9hdChwcHNbOV0pLHBhcnNlRmxvYXQocHBzWzExXSldOw0KICAgICAgICBpZihtYUFyclsxXSA9PSAwKXsNCiAgICAgICAgICAgIHZhciB4ID0gcGFyc2VGbG9hdChjc1swXSk7DQogICAgICAgICAgICB2YXIgeSA9IHBhcnNlRmxvYXQoY3NbMV0pKzE2Ow0KICAgICAgICAgICAgdmFyIHgxID0geCAqIG1hQXJyWzBdICsgeSAqIG1hQXJyWzJdICsgbWFBcnJbNF07DQogICAgICAgICAgICB2YXIgeTEgPSB4ICogbWFBcnJbMV0gKyB5ICogbWFBcnJbM10gKyBtYUFycls1XTsNCiAgICAgICAgICAgIHgxPXgxLnRvc3VpdHN2ZygpOw0KICAgICAgICAgICAgeTE9eTEudG9zdWl0c3ZnKCk7DQogICAgICAgICAgICB2YXIgdHJzdHIgPSAgJ3RyYW5zbGF0ZSgnK3gxKycsJyt5MSsnKSc7DQogICAgICAgIH1lbHNlew0KICAgICAgICAgICAgdmFyIHggPSBwYXJzZUZsb2F0KGNzWzBdKSsxNjsNCiAgICAgICAgICAgIHZhciB5ID0gcGFyc2VGbG9hdChjc1sxXSkrMTY7DQogICAgICAgICAgICB2YXIgeDEgPSB4ICogbWFBcnJbMF0gKyB5ICogbWFBcnJbMl0gKyBtYUFycls0XTsNCiAgICAgICAgICAgIHZhciB5MSA9IHggKiBtYUFyclsxXSArIHkgKiBtYUFyclszXSArIG1hQXJyWzVdOw0KICAgICAgICAgICAgeCA9IHBhcnNlRmxvYXQoY3NbMF0pKzE2Ow0KICAgICAgICAgICAgeSA9IHBhcnNlRmxvYXQoY3NbMV0pOw0KICAgICAgICAgICAgdmFyIHgyID0geCAqIG1hQXJyWzBdICsgeSAqIG1hQXJyWzJdICsgbWFBcnJbNF07DQogICAgICAgICAgICB2YXIgeTIgPSB4ICogbWFBcnJbMV0gKyB5ICogbWFBcnJbM10gKyBtYUFycls1XTsNCiAgICAgICAgICAgIHZhciBmeCA9IHgxPHgyP3gxLnRvc3VpdHN2ZygpOiB4Mi50b3N1aXRzdmcoKTsNCiAgICAgICAgICAgIHZhciBmeSA9IHkxPnkyP3kxLnRvc3VpdHN2ZygpOiB5Mi50b3N1aXRzdmcoKTsNCgkJCXZhciBvZmZ5ID0gTWF0aC5hYnMoeTEteTIpOwkJCQkJCQkJCQkgIA0KICAgICAgICAgICAgdmFyIHRyc3RyID0gICd0cmFuc2xhdGUoJytmeCsnLCcrZnkrJyknOw0KICAgICAgICAgICAgcG9wdXBSLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JyxvZmZ5LnRvU3RyaW5nKCkpOw0KICAgICAgICAgICAgcG9wdXBSLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCcxNicpOw0KICAgICAgICAgICAgcG9wdXBSLnNldEF0dHJpYnV0ZSgneScsKC1vZmZ5KS50b1N0cmluZygpKTsNCiAgICAgICAgICAgIHBvcHVwUi5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCd0cmFuc3BhcmVudCcpOw0KICAgICAgICAgICAgcG9wdXAuYXBwZW5kQ2hpbGQocG9wdXBSKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICB2YXIgYWw9YS5sZW5ndGg7DQogICAgZm9yKHZhciBqPTA7ajxhbDtqKyspew0KICAgICAgICBsaW5rYXJyLnB1c2goYVtqXS5saW5rKTsNCiAgICAgICAgZGVzY2Fyci5wdXNoKGFbal0uZGVzYyk7DQogICAgfQ0KICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJyx0cnN0cik7DQogICAgdmFyIG1heD1nZXRtYXhsZW4obGlua2FycixkZXNjYXJyKTsNCiAgICBmb3IodmFyIGs9MDtrPGFsO2srKyl7DQogICAgICAgIHZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdhJyk7DQogICAgICAgIHZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCdyZWN0Jyk7DQogICAgICAgIHZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCd0ZXh0Jyk7DQogICAgICAgIHZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCd0ZXh0Jyk7DQogICAgICAgIGlmKGlzTmFOKGxpbmthcnJba10pKXsNCiAgICAgICAgICAgIGMuc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiwgInhsaW5rIiwgImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiKTsNCiAgICAgICAgICAgIGMuc2V0QXR0cmlidXRlTlMoImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiLCAiaHJlZiIsIGxpbmthcnJba10pOw0KICAgICAgICAgICAgYy5zZXRBdHRyaWJ1dGUoJ3RhcmdldCcsJ19ibGFuaycpOw0KICAgICAgICAgICAgZS50ZXh0Q29udGVudD1saW5rYXJyW2tdOw0KICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgIGUudGV4dENvbnRlbnQ9J1BhZ2UtJytsaW5rYXJyW2tdOw0KICAgICAgICAgICAgYy5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCAieGxpbmsiLCAiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIpOw0KICAgICAgICAgICAgYy5zZXRBdHRyaWJ1dGVOUygiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIsICJocmVmIiwgIiMiK2xpbmthcnJba10pOw0KICAgICAgICB9DQogICAgICAgIGQuc2V0QXR0cmlidXRlKCd3aWR0aCcsbWF4KzEwKTsNCiAgICAgICAgZC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsJzMzJyk7DQogICAgICAgIGQuc2V0QXR0cmlidXRlKCdzdHJva2UnLCcjOTk5OTk5Jyk7DQogICAgICAgIGQuc2V0QXR0cmlidXRlKCdmaWxsJywnd2hpdGUnKTsNCiAgICAgICAgZC5zZXRBdHRyaWJ1dGUoJ3knLDMzKmspOw0KICAgICAgICBmLnRleHRDb250ZW50PWRlc2NhcnJba107DQogICAgICAgIGYuc3R5bGUuZm9udFNpemU9JzEycHgnOw0KICAgICAgICBmLnN0eWxlLmZvbnRXZWlnaHQ9J2JvbGQnOw0KICAgICAgICBmLnNldEF0dHJpYnV0ZSgneCcsNSk7DQogICAgICAgIGYuc2V0QXR0cmlidXRlKCd5JywzMyprKzEyKTsNCiAgICAgICAgZS5zdHlsZS5mb250U2l6ZT0nMTJweCc7DQogICAgICAgIGUuc2V0QXR0cmlidXRlKCd5JywzMyprKzI4KTsNCiAgICAgICAgZS5zZXRBdHRyaWJ1dGUoJ3gnLDUpOw0KICAgICAgICBjLmFwcGVuZENoaWxkKGQpOw0KICAgICAgICBjLmFwcGVuZENoaWxkKGYpOw0KICAgICAgICBjLmFwcGVuZENoaWxkKGUpOw0KICAgICAgICBjLm9ubW91c2VvdmVyPWZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgIHRoaXMucXVlcnlTZWxlY3RvcigncmVjdCcpLnN0eWxlLmZpbGw9JyNlMWUxZmYnDQogICAgICAgIH07DQogICAgICAgIGMub25tb3VzZW91dD1mdW5jdGlvbiAoKSB7DQogICAgICAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3JlY3QnKS5zdHlsZS5maWxsPSd3aGl0ZScNCiAgICAgICAgfTsNCiAgICAgICAgcG9wdXAuYXBwZW5kQ2hpbGQoYyk7DQogICAgfQ0KICAgIHBvcHVwLnN0eWxlLmRpc3BsYXk9J25vbmUnOw0KICAgIHBvcHVwLnNldEF0dHJpYnV0ZSgnaHlwZXJsaW5rJywnJyk7DQogICAgcG9wdXAuc2V0QXR0cmlidXRlKCdlZDpsaW5raWQnLGxpbmtzW2ldLnBhcmVudE5vZGUuaWQpOw0KICAgIHBvcHVwLm9ubW91c2VvdmVyPWZ1bmN0aW9uICgpIHsNCiAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5PSdibG9jayc7DQogICAgfTsNCiAgICBwb3B1cC5vbmNsaWNrPWZ1bmN0aW9uICgpIHsNCiAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5PSdub25lJzsNCiAgICB9Ow0KICAgIHBvcHVwLm9ubW91c2VvdXQ9ZnVuY3Rpb24gKCkgew0KICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXk9J25vbmUnOw0KICAgIH07DQogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3N2Zy1jb250YWluZXIgPiBzdmcnKS5hcHBlbmRDaGlsZChwb3B1cCk7DQogICAgbGlua3NbaV0ub25tb3VzZW92ZXI9ZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgbGlua2lkPXRoaXMucGFyZW50Tm9kZS5pZDsNCiAgICAgICAgdGhpcy5xdWVyeVNlbGVjdG9yKCdyZWN0Jykuc3R5bGUuZGlzcGxheT0nYmxvY2snOw0KICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJnW2VkXFw6bGlua2lkPSciK2xpbmtpZCsiJ11baHlwZXJsaW5rXSIpLnN0eWxlLmRpc3BsYXk9J2Jsb2NrJzsNCiAgICB9DQogICAgbGlua3NbaV0ub25tb3VzZW91dD1mdW5jdGlvbiAoKSB7DQogICAgICAgIHZhciBsaW5raWQ9dGhpcy5wYXJlbnROb2RlLmlkOw0KICAgICAgICB0aGlzLnF1ZXJ5U2VsZWN0b3IoJ3JlY3QnKS5zdHlsZS5kaXNwbGF5PSdub25lJzsNCiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZ1tlZFxcOmxpbmtpZD0nIitsaW5raWQrIiddW2h5cGVybGlua10iKS5zdHlsZS5kaXNwbGF5PSdub25lJzsNCiAgICB9DQp9DQovLy0taHlwZXJsaW5rDQovL2luaXRpYWxpemUtLQ0KdmFyIHNoYXBlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2dbZWRcXDp0b2d0b3BpY2lkXScpOw0KdmFyIG1JZD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdnW2VkXFw6dG9waWN0eXBlXScpOw0KdmFyIGRhdGFUcmVlPXt9Ow0KdmFyIGV4dHJhUmVsYT17fTsNCnZhciBjaGVja0lEPScnOw0KZm9yKHZhciBpPTA7aTxtSWQubGVuZ3RoO2krKyl7DQogICAgdmFyIHR5cGU9bUlkW2ldLmdldEF0dHJpYnV0ZSgnZWQ6dG9waWN0eXBlJyk7DQogICAgdmFyIHNpZD1tSWRbaV0uaWQ7DQogICAgaWYodHlwZSE9PSdjYWxsb3V0Jyl7DQogICAgICAgIGluaXQoc2lkLGRhdGFUcmVlKQ0KICAgIH0NCn0NCmZ1bmN0aW9uIGluaXQoaWQsIG9iaikgew0KICAgIHZhciBjaGlsZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJnW2VkXFw6cGFyZW50aWQ9JyIgKyBpZCArICInXTpub3QoW2VkXFw6dG9waWN0eXBlXSkiKTsNCiAgICB2YXIgY2FsbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJnW2VkXFw6cGFyZW50aWQ9JyIgKyBpZCArICInXVtlZFxcOnRvcGljdHlwZV0iKTsNCiAgICB2YXIgc3VtbWFyeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoInBhdGhbZWRcXDpwYXJlbnRpZCo9JyIgKyBpZCArICInXVtlZFxcOnR5cGU9J3N1bW1hcnknXSIpOw0KICAgIHZhciBib3VuZGFyeT0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgicGF0aFtlZFxcOnBhcmVudGlkKj0nIiArIGlkICsgIiddW2VkXFw6dHlwZT0nYm91bmRhcnknXSIpOw0KICAgIHZhciByZWxhZnJvbT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJnW2VkXFw6ZnJvbWlkKj0nIiArIGlkICsgIiddW2VkXFw6dHlwZT0ncmVsYXRpb24nXSIpOw0KICAgIHZhciByZWxhdG89ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiZ1tlZFxcOnRvaWQqPSciICsgaWQgKyAiJ11bZWRcXDp0eXBlPSdyZWxhdGlvbiddIik7DQogICAgb2JqWyJtIiArIGlkXSA9IHt9Ow0KICAgIHZhciB0eXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLmdldEF0dHJpYnV0ZSgnZWQ6dG9waWN0eXBlJyk7DQogICAgdmFyIGl3PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5nZXRBdHRyaWJ1dGUoJ2VkOndpZHRoJyk7DQogICAgdmFyIGloPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKS5nZXRBdHRyaWJ1dGUoJ2VkOmhlaWdodCcpOw0KICAgIGlmICh0eXBlKSB7DQogICAgICAgIG9ialsibSIgKyBpZF0udHlwZSA9IHR5cGU7DQogICAgfQ0KICAgIGlmKGl3JiZpaCl7DQogICAgICAgIG9ialsibSIgKyBpZF0ud2lkdGggPWl3Ow0KICAgICAgICBvYmpbIm0iICsgaWRdLmhlaWdodCA9aWg7DQogICAgfQ0KICAgIGlmIChyZWxhZnJvbS5sZW5ndGggIT09IDApIHsNCiAgICAgICAgb2JqWyJtIiArIGlkXS5yZWxhZnJvbSA9IHt9Ow0KICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbGFmcm9tLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgaW5kZXhpZCA9IHJlbGFmcm9tW2ldLmlkOw0KICAgICAgICAgICAgdmFyIHRvaWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpbmRleGlkKS5nZXRBdHRyaWJ1dGUoJ2VkOnRvaWQnKTsNCiAgICAgICAgICAgIGlmIChleHRyYVJlbGFbaW5kZXhpZF0gPT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgIGV4dHJhUmVsYVtpbmRleGlkXSA9IHsNCiAgICAgICAgICAgICAgICAgICAgaWQ6IGluZGV4aWQsDQogICAgICAgICAgICAgICAgICAgIGZyb21pZDogaWQsDQogICAgICAgICAgICAgICAgICAgIHRvaWQ6IHRvaWQsDQogICAgICAgICAgICAgICAgICAgIGlzQzogZmFsc2UNCiAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgb2JqWyJtIiArIGlkXS5yZWxhZnJvbVtpbmRleGlkXT17fTsNCiAgICAgICAgICAgIG9ialsibSIgKyBpZF0ucmVsYWZyb20uZGlzcGxheT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnPydibG9jayc6J25vbmUnOw0KICAgICAgICB9DQogICAgfQ0KICAgIGlmIChyZWxhdG8ubGVuZ3RoICE9PSAwKSB7DQogICAgICAgIG9ialsibSIgKyBpZF0ucmVsYXRvID0ge307DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVsYXRvLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgaW5kZXhpZD1yZWxhdG9baV0uaWQ7DQogICAgICAgICAgICB2YXIgZnJvbWlkPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGluZGV4aWQpLmdldEF0dHJpYnV0ZSgnZWQ6ZnJvbWlkJyk7DQogICAgICAgICAgICBpZihleHRyYVJlbGFbaW5kZXhpZF0gPT09IHVuZGVmaW5lZCl7DQogICAgICAgICAgICAgICAgZXh0cmFSZWxhW2luZGV4aWRdPXsNCiAgICAgICAgICAgICAgICAgICAgaWQ6aW5kZXhpZCwNCiAgICAgICAgICAgICAgICAgICAgZnJvbWlkOmZyb21pZCwNCiAgICAgICAgICAgICAgICAgICAgdG9pZDppZCwNCiAgICAgICAgICAgICAgICAgICAgaXNDOmZhbHNlDQogICAgICAgICAgICAgICAgfTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIG9ialsibSIgKyBpZF0ucmVsYXRvW2luZGV4aWRdPXt9Ow0KICAgICAgICAgICAgb2JqWyJtIiArIGlkXS5yZWxhdG8uZGlzcGxheT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUuZGlzcGxheSAhPT0gJ25vbmUnPydibG9jayc6J25vbmUnOw0KICAgICAgICB9DQogICAgfQ0KICAgIGlmIChjaGlsZHMubGVuZ3RoICE9PSAwKSB7DQogICAgICAgIG9ialsibSIgKyBpZF0uY2hpbGQgPSB7fTsNCiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImdbZWRcXDp0b2d0b3BpY2lkPSciICsgaWQgKyAiJ10iKSkgew0KICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZ1tlZFxcOnRvZ3RvcGljaWQ9JyIgKyBpZCArICInXSIpLmNoaWxkTm9kZXNbMF0uZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykpOw0KICAgICAgICAgICAgdmFyIHRvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImdbZWRcXDp0b2d0b3BpY2lkPSciICsgaWQgKyAiJ10iKS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndXNlJylbMF0uZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykuc2xpY2UoMSk7DQogICAgICAgICAgICBvYmpbIm0iICsgaWRdLnRvZ3R5cGUgPSB0b2c7DQogICAgICAgIH0NCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHZhciBjaWQgPSBjaGlsZHNbaV0uaWQ7DQogICAgICAgICAgICBpbml0KGNpZCwgb2JqWyJtIiArIGlkXS5jaGlsZCk7DQogICAgICAgIH0NCiAgICB9DQogICAgaWYgKGNhbGxzLmxlbmd0aCAhPT0gMCkgew0KICAgICAgICBvYmpbIm0iICsgaWRdLmNhbGwgPSB7fTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjYWxscy5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgdmFyIGNpZCA9IGNhbGxzW2ldLmlkOw0KICAgICAgICAgICAgaW5pdChjaWQsIG9ialsibSIgKyBpZF0uY2FsbCk7DQogICAgICAgIH0NCiAgICB9DQogICAgaWYgKGJvdW5kYXJ5Lmxlbmd0aCAhPT0gMCkgew0KICAgICAgICBvYmpbIm0iICsgaWRdLmJvdW5kYXJ5ID0ge307DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm91bmRhcnkubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgIHZhciBjaWQgPWJvdW5kYXJ5W2ldLmlkOw0KICAgICAgICAgICAgaW5pdChjaWQsIG9ialsibSIgKyBpZF0uYm91bmRhcnkpOw0KICAgICAgICB9DQogICAgfQ0KICAgIGlmIChzdW1tYXJ5Lmxlbmd0aCAhPT0gMCkgew0KICAgICAgICBvYmpbIm0iICsgaWRdLnN1bW1hcnkgPSB7fTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdW1tYXJ5Lmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgY2lkID0gc3VtbWFyeVtpXS5pZDsNCiAgICAgICAgICAgIGluaXQoY2lkLCBvYmpbIm0iICsgaWRdLnN1bW1hcnkpOw0KICAgICAgICB9DQogICAgfQ0KfQ0KLy8tLWluaXRpYWxpemUNCi8vdG9nZ2xlZGlzcGxheS0tDQp2YXIgY2hhaW5BcnI9W107DQpmdW5jdGlvbiBnZXRjaGFpbihpZCl7DQogICAgY2hhaW5BcnIudW5zaGlmdCgnbScraWQpOw0KICAgIHZhciBwYXJlbnQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLmdldEF0dHJpYnV0ZSgnZWQ6cGFyZW50aWQnKTsNCiAgICBpZighcGFyZW50KXsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCglpZihwYXJlbnQubWF0Y2goL1wsLykpew0KICAgICAgICBwYXJlbnQgPSBwYXJlbnQubWF0Y2goL1xkKyg/PVwsKS8pWzBdDQogICAgfQ0KICAgIGdldGNoYWluKHBhcmVudCk7DQp9DQpmdW5jdGlvbiBnZXRvYmooaWQpIHsNCiAgICBjaGFpbkFycj1bXTsNCiAgICBnZXRjaGFpbihpZCk7DQogICAgdmFyIG1haW49Y2hhaW5BcnJbMF07DQogICAgaWYoY2hhaW5BcnIubGVuZ3RoPjEpew0KICAgICAgICB2YXIgb2JqPWRhdGFUcmVlW21haW5dOw0KICAgICAgICAvLyBjb25zb2xlLmxvZyhjaGFpbkFycik7DQogICAgICAgIGZvcih2YXIgaT0xO2k8Y2hhaW5BcnIubGVuZ3RoO2krKykgew0KICAgICAgICAgICAgdmFyIGEgPSBjaGFpbkFycltpXTsNCiAgICAgICAgICAgIGZvcih2YXIgaj0wO2o8T2JqZWN0LmtleXMob2JqKS5sZW5ndGg7aisrKXsNCiAgICAgICAgICAgICAgICB2YXIgY29iaj0gb2JqW09iamVjdC5rZXlzKG9iailbal1dW2FdOw0KICAgICAgICAgICAgICAgIGlmKGNvYmopew0KICAgICAgICAgICAgICAgICAgICBvYmo9Y29iajsNCiAgICAgICAgICAgICAgICAgICAgY29udGludWUNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG9iag0KICAgIH1lbHNlew0KICAgICAgICB2YXIgb2JqPWRhdGFUcmVlW21haW5dOw0KICAgICAgICByZXR1cm4gb2JqDQogICAgfQ0KDQp9DQpmb3IodmFyIGk9MDtpPHNoYXBlLmxlbmd0aDtpKyspew0KICAgIHNoYXBlW2ldLm9uY2xpY2s9ZnVuY3Rpb24gKCkgew0KICAgICAgICB2YXIgaWQ9TnVtYmVyKHRoaXMuZ2V0QXR0cmlidXRlKCdlZDp0b2d0b3BpY2lkJykpOw0KICAgICAgICB2YXIgb2JqPWdldG9iaihpZCk7DQoNCiAgICAgICAgdmFyIHR5cGU9b2JqLnRvZ3R5cGU9PT0nbWludXMnPydwbHVzJzonbWludXMnOw0KICAgICAgICB2YXIgZGlzcGxheT1vYmoudG9ndHlwZT09PSdtaW51cyc/J25vbmUnOidibG9jayc7DQogICAgICAgIHRoaXMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3VzZScpWzBdLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsJyMnK3R5cGUpOw0KICAgICAgICBvYmoudG9ndHlwZT10eXBlOw0KICAgICAgICBjaGVja0lEPW9iajsNCg0KICAgICAgICB1dGQob2JqLGlkLGRpc3BsYXkpOw0KICAgICAgICBleHRyYVJlbGFGaW4oKTsNCiAgICB9DQp9DQpmdW5jdGlvbiB1dGQob2JqLGlkLHNob3csb2MpIHsNCg0KICAgIHZhciBwc2hvdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuc3R5bGUuZGlzcGxheSE9PSAnbm9uZSc/J2Jsb2NrJzonbm9uZSc7DQogICAgaWYgKG9iai5yZWxhZnJvbSl7DQogICAgICAgIGlmKG9iai5yZWxhZnJvbS5kaXNwbGF5IT09IHBzaG93KXsNCiAgICAgICAgICAgIHZhciByZWxhZnJvbXM9T2JqZWN0LmtleXMob2JqLnJlbGFmcm9tKTsNCiAgICAgICAgICAgIHJlbGFmcm9tcy5zcGxpY2UocmVsYWZyb21zLmluZGV4T2YoJ2Rpc3BsYXknKSwxKTsNCiAgICAgICAgICAgIGZvcih2YXIgaz0wO2s8cmVsYWZyb21zLmxlbmd0aDtrKyspew0KICAgICAgICAgICAgICAgIHZhciBkPXJlbGFmcm9tc1trXTsNCiAgICAgICAgICAgICAgICBleHRyYVJlbGFbZF0uaXNDPXRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBvYmoucmVsYWZyb20uZGlzcGxheSA9IHBzaG93Ow0KICAgICAgICB9DQogICAgfQ0KICAgIGlmIChvYmoucmVsYXRvKXsNCiAgICAgICAgaWYob2JqLnJlbGF0by5kaXNwbGF5IT09IHBzaG93KXsNCiAgICAgICAgICAgIHZhciByZWxhdG9zPU9iamVjdC5rZXlzKG9iai5yZWxhdG8pOw0KICAgICAgICAgICAgcmVsYXRvcy5zcGxpY2UocmVsYXRvcy5pbmRleE9mKCdkaXNwbGF5JyksMSk7DQogICAgICAgICAgICBmb3IodmFyIGs9MDtrPHJlbGF0b3MubGVuZ3RoO2srKyl7DQogICAgICAgICAgICAgICAgdmFyIGQ9cmVsYXRvc1trXTsNCiAgICAgICAgICAgICAgICBleHRyYVJlbGFbZF0uaXNDPXRydWU7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBvYmoucmVsYXRvLmRpc3BsYXkgPSBwc2hvdzsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZihvYmouY2FsbCl7DQogICAgICAgIHZhciBjYWxscz1PYmplY3Qua2V5cyhvYmouY2FsbCk7DQogICAgICAgIGlmKGNoZWNrSUQhPT1vYmopew0KICAgICAgICAgICAgZm9yKHZhciBpPTA7aSA8IGNhbGxzLmxlbmd0aDtpKyspew0KICAgICAgICAgICAgICAgIHZhciBhPWNhbGxzW2ldLnNsaWNlKDEpOw0KICAgICAgICAgICAgICAgIHZhciBiPW9iai5jYWxsW2NhbGxzW2ldXTsNCiAgICAgICAgICAgICAgICB2YXIgYz1iLnRvZ3R5cGU7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYSkuc3R5bGUuZGlzcGxheT1zaG93Ow0KICAgICAgICAgICAgICAgIGlmIChiLnJlbGFmcm9tJiYhYyl7DQogICAgICAgICAgICAgICAgICAgIGlmKGIucmVsYWZyb20uZGlzcGxheSE9PSBzaG93KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWxhZnJvbXM9T2JqZWN0LmtleXMoYi5yZWxhZnJvbSk7DQogICAgICAgICAgICAgICAgICAgICAgICByZWxhZnJvbXMuc3BsaWNlKHJlbGFmcm9tcy5pbmRleE9mKCdkaXNwbGF5JyksMSk7DQogICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGs9MDtrPHJlbGFmcm9tcy5sZW5ndGg7aysrKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZD1yZWxhZnJvbXNba107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFSZWxhW2RdLmlzQz10cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYi5yZWxhZnJvbS5kaXNwbGF5ID0gc2hvdzsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoYi5yZWxhdG8mJiFjKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoYi5yZWxhdG8uZGlzcGxheSE9PSBzaG93KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWxhdG9zPU9iamVjdC5rZXlzKGIucmVsYXRvKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0b3Muc3BsaWNlKHJlbGF0b3MuaW5kZXhPZignZGlzcGxheScpLDEpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBrPTA7azxyZWxhdG9zLmxlbmd0aDtrKyspew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkPXJlbGF0b3Nba107DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFSZWxhW2RdLmlzQz10cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgYi5yZWxhdG8uZGlzcGxheSA9IHNob3c7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoYyl7DQogICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImdbZWRcXDp0b2d0b3BpY2lkPSciK2ErIiddIikuc3R5bGUuZGlzcGxheT1zaG93Ow0KICAgICAgICAgICAgICAgICAgICBpZihjPT09J21pbnVzJyl7DQogICAgICAgICAgICAgICAgICAgICAgICB1dGQoYixhLHNob3cpDQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYgKChiLmNhbGx8fGIuYm91bmRhcnl8fGIuc3VtbWFyeSkmJmM9PT0ncGx1cycpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHV0ZChiLGEsc2hvdyx0cnVlKQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGIuY2FsbCYmIWMpIHsNCiAgICAgICAgICAgICAgICAgICAgdXRkKGIsYSxzaG93LHRydWUpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmIChiLnN1bW1hcnkmJiFjKSB7DQogICAgICAgICAgICAgICAgICAgIHV0ZChiLGEsc2hvdykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYgKGIuYm91bmRhcnkmJiFjKSB7DQogICAgICAgICAgICAgICAgICAgIHV0ZChiLGEsc2hvdykNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZihvYmouc3VtbWFyeSl7DQogICAgICAgIHZhciBzdW1tYXJ5cz1PYmplY3Qua2V5cyhvYmouc3VtbWFyeSk7DQogICAgICAgIGlmKChjaGVja0lEIT09b2JqJiYob2JqLnRvZ3R5cGU9PT0nbWludXMnfHwhb2JqLnRvZ3R5cGUpKXx8Y2hlY2tJRD09PW9iail7DQogICAgICAgICAgICBmb3IodmFyIGk9MDtpPHN1bW1hcnlzLmxlbmd0aDtpKyspew0KICAgICAgICAgICAgICAgIHZhciBhPXN1bW1hcnlzW2ldLnNsaWNlKDEpOw0KCQkJCXZhciBvc3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKS5nZXRBdHRyaWJ1dGUoJ2VkOnBhcmVudGlkJyk7DQogICAgICAgICAgICAgICAgaWYob3NwLm1hdGNoKC9cLC8pKXsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG9zcGEgPSBvc3Auc3BsaXQoJywnKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG9zcEw9MDsNCg0KICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGo9MDtqPG9zcGEubGVuZ3RoO2orKyl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihzaG93ID09ICdub25lJyl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob3NwYVtqXSkuc3R5bGUuZGlzcGxheSAhPSAnbm9uZScpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3NwTCsrOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKS5zdHlsZS5kaXNwbGF5ICE9ICdub25lJyl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvc3BMKys7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKG9zcEwgIT09IG9zcGEubGVuZ3RoKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZhciBiPW9iai5zdW1tYXJ5W3N1bW1hcnlzW2ldXTsNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhKTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKS5zdHlsZS5kaXNwbGF5PXNob3c7DQovLyAgICAgICAgICAgICAgICBpZihjKXsNCi8vICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJnW2VkXFw6dG9ndG9waWNpZD0nIithKyInXSIpLnN0eWxlLmRpc3BsYXk9c2hvdzsNCi8vICAgICAgICAgICAgICAgICAgICBpZihjPT09J21pbnVzJyl7DQovLyAgICAgICAgICAgICAgICAgICAgICAgIHV0ZChiLHNob3cpDQovLyAgICAgICAgICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgICAgICAgIGlmIChiLmNhbGwmJmM9PT0ncGx1cycpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgdXRkKGIsc2hvdyx0cnVlKQ0KLy8gICAgICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgIGlmKGIuY2FsbCYmIWMpIHsNCi8vICAgICAgICAgICAgICAgICAgICB1dGQoYixzaG93LHRydWUpDQovLyAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoT2JqZWN0LmtleXMoYikubGVuZ3RoIT09MCl7DQogICAgICAgICAgICAgICAgICAgIHV0ZChiLGEsc2hvdykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgaWYob2JqLmJvdW5kYXJ5KXsNCiAgICAgICAgdmFyIGJvdW5kYXJ5cz1PYmplY3Qua2V5cyhvYmouYm91bmRhcnkpOw0KICAgICAgICBpZihjaGVja0lEIT09b2JqKXsNCiAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8Ym91bmRhcnlzLmxlbmd0aDtpKyspew0KICAgICAgICAgICAgICAgIHZhciBhPWJvdW5kYXJ5c1tpXS5zbGljZSgxKTsNCiAgICAgICAgICAgICAgICB2YXIgYj1vYmouYm91bmRhcnlbYm91bmRhcnlzW2ldXTsNCiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhKTsNCiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChhKS5zdHlsZS5kaXNwbGF5PXNob3c7DQovLyAgICAgICAgICAgICAgICBpZihjKXsNCi8vICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJnW2VkXFw6dG9ndG9waWNpZD0nIithKyInXSIpLnN0eWxlLmRpc3BsYXk9c2hvdzsNCi8vICAgICAgICAgICAgICAgICAgICBpZihjPT09J21pbnVzJyl7DQovLyAgICAgICAgICAgICAgICAgICAgICAgIHV0ZChiLHNob3cpDQovLyAgICAgICAgICAgICAgICAgICAgfQ0KLy8gICAgICAgICAgICAgICAgICAgIGlmIChiLmNhbGwmJmM9PT0ncGx1cycpIHsNCi8vICAgICAgICAgICAgICAgICAgICAgICAgdXRkKGIsc2hvdyx0cnVlKQ0KLy8gICAgICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgIH0NCi8vICAgICAgICAgICAgICAgIGlmKGIuY2FsbCYmIWMpIHsNCi8vICAgICAgICAgICAgICAgICAgICB1dGQoYixzaG93LHRydWUpDQovLyAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgaWYoT2JqZWN0LmtleXMoYikubGVuZ3RoIT09MCl7DQogICAgICAgICAgICAgICAgICAgIHV0ZChiLGEsc2hvdykNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgaWYoIW9jJiZvYmouY2hpbGQpIHsNCiAgICAgICAgdmFyIGNoaWxkcyA9IE9iamVjdC5rZXlzKG9iai5jaGlsZCk7DQogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICAgICB2YXIgYSA9IGNoaWxkc1tpXS5zbGljZSgxKTsNCiAgICAgICAgICAgIHZhciBiID0gb2JqLmNoaWxkW2NoaWxkc1tpXV07DQogICAgICAgICAgICB2YXIgYyA9IGIudG9ndHlwZTsNCiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpLnN0eWxlLmRpc3BsYXkgPSBzaG93Ow0KCQkJdmFyIHRTUGF0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoInBhdGhbZWRcXDp0b3N1cGVyaWQ9JyIrYSsiJ10iKTsNCiAgICAgICAgICAgIGlmKHRTUGF0aCl7DQogICAgICAgICAgICAgICAgdFNQYXRoLnN0eWxlLmRpc3BsYXkgPSBzaG93Ow0KICAgICAgICAgICAgfQ0KCQkJdmFyIG5vdGVUaXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJnW2VkXFw6bm90ZXRvPSciK2ErIiddIik7DQogICAgICAgICAgICBpZihub3RlVGlwKXsNCiAgICAgICAgICAgICAgICBub3RlVGlwLnN0eWxlLmRpc3BsYXkgPSBzaG93Ow0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGIucmVsYWZyb20mJiFjKXsNCiAgICAgICAgICAgICAgICBpZihiLnJlbGFmcm9tLmRpc3BsYXkhPT0gc2hvdyl7DQogICAgICAgICAgICAgICAgICAgIHZhciByZWxhZnJvbXM9T2JqZWN0LmtleXMoYi5yZWxhZnJvbSk7DQogICAgICAgICAgICAgICAgICAgIHJlbGFmcm9tcy5zcGxpY2UocmVsYWZyb21zLmluZGV4T2YoJ2Rpc3BsYXknKSwxKTsNCiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBrPTA7azxyZWxhZnJvbXMubGVuZ3RoO2srKyl7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZD1yZWxhZnJvbXNba107DQogICAgICAgICAgICAgICAgICAgICAgICBleHRyYVJlbGFbZF0uaXNDPXRydWU7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgYi5yZWxhZnJvbS5kaXNwbGF5ID0gc2hvdzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoYi5yZWxhdG8mJiFjKXsNCiAgICAgICAgICAgICAgICBpZihiLnJlbGF0by5kaXNwbGF5IT09IHNob3cpew0KICAgICAgICAgICAgICAgICAgICB2YXIgcmVsYXRvcz1PYmplY3Qua2V5cyhiLnJlbGF0byk7DQogICAgICAgICAgICAgICAgICAgIHJlbGF0b3Muc3BsaWNlKHJlbGF0b3MuaW5kZXhPZignZGlzcGxheScpLDEpOw0KICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGs9MDtrPHJlbGF0b3MubGVuZ3RoO2srKyl7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZD1yZWxhdG9zW2tdOw0KICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFSZWxhW2RdLmlzQz10cnVlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGIucmVsYXRvLmRpc3BsYXkgPSBzaG93Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmIChjKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZ1tlZFxcOnRvZ3RvcGljaWQ9JyIgKyBhICsgIiddIikuc3R5bGUuZGlzcGxheSA9IHNob3c7DQogICAgICAgICAgICAgICAgaWYgKGMgPT09ICdtaW51cycpIHsNCiAgICAgICAgICAgICAgICAgICAgdXRkKGIsYSxzaG93KQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBpZiAoKGIuY2FsbHx8Yi5ib3VuZGFyeXx8Yi5zdW1tYXJ5KSYmYz09PSdwbHVzJykgew0KICAgICAgICAgICAgICAgICAgICB1dGQoYixhLHNob3csdHJ1ZSkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoYi5jYWxsJiYhYykgew0KICAgICAgICAgICAgICAgIHV0ZChiLGEsc2hvdyx0cnVlKQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKGIuc3VtbWFyeSYmIWMpIHsNCiAgICAgICAgICAgICAgICB1dGQoYixhLHNob3cpDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoYi5ib3VuZGFyeSYmIWMpIHsNCiAgICAgICAgICAgICAgICB1dGQoYixhLHNob3cpDQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9DQoNCmZ1bmN0aW9uIGV4dHJhUmVsYUZpbigpIHsNCiAgICB2YXIgZXh0cmFrZXlzPU9iamVjdC5rZXlzKGV4dHJhUmVsYSk7DQogICAgZm9yKHZhciBpPTA7aTxleHRyYWtleXMubGVuZ3RoO2krKyl7DQogICAgICAgIHZhciBleHRyYU9iaj1leHRyYVJlbGFbZXh0cmFrZXlzW2ldXTsNCiAgICAgICAgaWYoZXh0cmFPYmouaXNDID09PSB0cnVlKXsNCiAgICAgICAgICAgIHZhciBmc2hvdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChleHRyYU9iai5mcm9taWQpLnN0eWxlLmRpc3BsYXkgIT09J25vbmUnPyB0cnVlOiBmYWxzZTsNCiAgICAgICAgICAgIHZhciB0c2hvdz1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChleHRyYU9iai50b2lkKS5zdHlsZS5kaXNwbGF5ICE9PSdub25lJz8gdHJ1ZTogZmFsc2U7DQogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChleHRyYU9iai5pZCkuc3R5bGUuZGlzcGxheT1mc2hvdyAmJiB0c2hvdz8gJ2Jsb2NrJzogJ25vbmUnOw0KICAgICAgICAgICAgZXh0cmFSZWxhW2V4dHJha2V5c1tpXV0uaXNDID0gZmFsc2U7DQogICAgICAgIH0NCiAgICB9DQp9'))</script>
  </body>
</html>
]]></content>
  </entry>
  <entry>
    <title>峰会引导</title>
    <url>/2020/10/30/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E5%B3%B0%E4%BC%9A%E5%BC%95%E5%AF%BC/</url>
    <content><![CDATA[<p><a href="https://www.dams.org.cn/" target="_blank" rel="noopener">DAMS中国数据智能管理峰会</a><br><a href="https://qcon.infoq.cn/2020/beijing/" target="_blank" rel="noopener">全球软件开发大会</a><br><a href="https://www.infoq.cn/topic/ArchSummit" target="_blank" rel="noopener">全球架构师大会</a></p>
]]></content>
      <categories>
        <category>峰会</category>
      </categories>
  </entry>
  <entry>
    <title>专业认证</title>
    <url>/2020/10/30/%E6%8A%80%E6%9C%AF%E5%AD%A6%E4%B9%A0/%E4%B8%93%E4%B8%9A%E8%AE%A4%E8%AF%81/</url>
    <content><![CDATA[<p><a href="http://www.dama.org.cn/drupal620/zh-hans/node/11" target="_blank" rel="noopener">数据管理专业人士认证 CDMP</a></p>
<p><a href="http://www.dama.org.cn/CDMP.html" target="_blank" rel="noopener">CDMP考试指导</a></p>
]]></content>
      <categories>
        <category>认证</category>
      </categories>
      <tags>
        <tag>CDMP</tag>
      </tags>
  </entry>
  <entry>
    <title>mysqldump和xtrabackup备份原理说明</title>
    <url>/2020/10/29/MySQL%E5%AE%9E%E6%88%9845%E8%AE%B2/mysqldump%E5%92%8Cxtrabackup%E5%A4%87%E4%BB%BD%E5%8E%9F%E7%90%86%E8%AF%B4%E6%98%8E/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>第5章索引与算法</title>
    <url>/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<p><strong>章节目标</strong></p>
<ul>
<li>了解InnoDB存储引擎支持的索引</li>
<li>了解索引内部的机制</li>
<li>掌握哪里可以使用索引</li>
</ul>
<h1 id="5-1-InnoDB存储引擎索引概述"><a href="#5-1-InnoDB存储引擎索引概述" class="headerlink" title="5.1 InnoDB存储引擎索引概述"></a>5.1 InnoDB存储引擎索引概述</h1><p>InnoDB存储引擎支持以下几种常见的索引：</p>
<ul>
<li>B+树索引<ul>
<li>最常用和最为有效</li>
<li>类似二叉树，不代表二叉，而是代表平衡</li>
<li><strong>从最早的平衡二叉树演化而来</strong></li>
<li>能找到的只是被查找数据行所在的页</li>
</ul>
</li>
<li>全文索引</li>
<li>哈希索引<ul>
<li>自适应</li>
<li>根据表的使用情况自动为表生成哈希索引，不能认你为干预是否在一张表中生成哈希索引</li>
</ul>
</li>
</ul>
<h1 id="5-2-数据结构与算法"><a href="#5-2-数据结构与算法" class="headerlink" title="5.2 数据结构与算法"></a>5.2 数据结构与算法</h1><h2 id="5-2-1-二分查找法"><a href="#5-2-1-二分查找法" class="headerlink" title="5.2.1 二分查找法"></a>5.2.1 二分查找法</h2><p>二分查找法也称为折半查找法，用来查找一组有序的记录数组中的某一记录。</p>
<ul>
<li>将记录按有序化排列，在查找过程中采用跳跃式方式查找</li>
<li>先以有序数列的中点位置为比较对象</li>
<li>要找的元素值小于该中点元素，则将待查序列缩小为左伴部分，否则为右伴部分</li>
</ul>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/1.jpg" class="" title="This is an 1 image">



<h2 id="5-2-2-二叉查找树和平衡二叉树"><a href="#5-2-2-二叉查找树和平衡二叉树" class="headerlink" title="5.2.2 二叉查找树和平衡二叉树"></a>5.2.2 二叉查找树和平衡二叉树</h2><p><strong>二叉查找树：</strong></p>
<ul>
<li>左子树的键值总是小于根的键值</li>
<li>右子树的键值总是大于根的键值</li>
</ul>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/2.jpg" class="" title="This is an 2 image">

<ul>
<li>平均查找次数为（3+3+3+2+2+1)/6=2.3次</li>
</ul>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/3.jpg" class="" title="This is an 3 image">

<ul>
<li>平均查找次数为（1+2+3+4+5+5)/6=3.16次</li>
</ul>
<p><em>以上可以看出，若想最大性能地构造一颗二叉查找树，需要这颗二叉查找树是平衡的，从而引出了定的定义——平衡二叉树</em></p>
<p><strong>平衡二叉树：</strong>（查找性能是比较高的，接近最高性能）</p>
<ul>
<li>首先符合二叉查找树的定义</li>
<li>必须满足任何节点的两个子树的高度最大差为1</li>
</ul>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/4.jpg" class="" title="This is an 4 image">

<p><em>维护一颗平衡二叉树的代价会非常大（多用于内存结构对象中，维护的开销相对较小），需要1次或多次左旋和优选来得到插入或更新后树的平衡性</em></p>
<h1 id="5-3-B-树"><a href="#5-3-B-树" class="headerlink" title="5.3 B+树"></a>5.3 B+树</h1><p>B+树由B树和索引顺序访问方法演化而来</p>
<p><strong>B树：</strong></p>
<ul>
<li>B树是为磁盘或其他直接存取辅助设备设计的一种平衡查找树</li>
<li>B树中所有记录节点都是按键值的大小顺序存放在同一层的叶子节点上，由各叶子节点指针进行连接</li>
</ul>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/5.jpg" class="" title="This is an 5 image">

<h2 id="5-3-1-B-树的插入操作"><a href="#5-3-1-B-树的插入操作" class="headerlink" title="5.3.1 B+树的插入操作"></a>5.3.1 B+树的插入操作</h2><img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/6.jpg" class="" title="This is an 6 image">

<p>B+树总是会保持平衡。尽量减少页的拆分操作。B+树同样提供类似于平衡二叉树的旋转功能。</p>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/7.jpg" class="" title="This is an 7 image">

<ul>
<li>插入键值70，B+树并不会急于拆分叶子节点</li>
<li>左兄弟会被首先检查用来做旋转操作，去做旋转</li>
<li>同时这颗B+树的高度依然还是2</li>
</ul>
<h2 id="5-3-2-B-树的删除操作"><a href="#5-3-2-B-树的删除操作" class="headerlink" title="5.3.2 B+树的删除操作"></a>5.3.2 B+树的删除操作</h2><p>B+树使用填充因子来控制树的删除变化，50%是填充因子可设的最小值。</p>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/8.jpg" class="" title="This is an 8 image">

<h1 id="5-4-B-树索引"><a href="#5-4-B-树索引" class="headerlink" title="5.4 B+树索引"></a>5.4 B+树索引</h1><p>本质是B+树在数据库中的实现。特点<strong>高扇出性</strong>，一般都在2~4层。</p>
<ul>
<li>聚集索引</li>
<li>辅助索引</li>
</ul>
<h2 id="5-4-1-聚集索引"><a href="#5-4-1-聚集索引" class="headerlink" title="5.4.1 聚集索引"></a>5.4.1 聚集索引</h2><p>聚集索引按照每张表的主键构造一棵B+树，同时叶子节点中存放的即为整张表的行记录数据，也将聚集索引的叶子节点称为数据页。</p>
<ul>
<li><p><strong>聚集索引能够在B+树索引的叶子节点上直接找到数据</strong></p>
</li>
<li><p>并不是物理上连续而是逻辑上连续的</p>
<ul>
<li>也通过双向链表链接，页按照主键的顺序排序</li>
<li>每个页中的记录也是通过双向链表进行维护的，物理存储上可以同样不按照逐渐存储</li>
</ul>
</li>
</ul>
<h2 id="5-4-2-辅助索引"><a href="#5-4-2-辅助索引" class="headerlink" title="5.4.2 辅助索引"></a>5.4.2 辅助索引</h2><p>叶子节点并不包含行记录的全部数据。</p>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/9.jpg" class="" title="This is an 9 image">

<h2 id="5-4-3B-树索引的分裂"><a href="#5-4-3B-树索引的分裂" class="headerlink" title="5.4.3B+树索引的分裂"></a>5.4.3B+树索引的分裂</h2><p>没理解，待完善</p>
<h2 id="5-4-4-B-树索引的管理"><a href="#5-4-4-B-树索引的管理" class="headerlink" title="5.4.4 B+树索引的管理"></a>5.4.4 B+树索引的管理</h2><p>1.索引管理</p>
<ul>
<li>ALTER INDEX</li>
</ul>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/10.jpg" class="" title="This is an 10 image">

<ul>
<li>CREATE DROP INDEX</li>
</ul>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/11.jpg" class="" title="This is an 11 image">

<ul>
<li>SHOW INDEX<ul>
<li>Table：索引所在的表名</li>
<li>Non_unique：非唯一的索引，primary key 是0，因为必须是唯一的。</li>
<li>Key_name：索引的名字</li>
<li>Sql_in_index：索引中该列的位置</li>
<li>Column_name：索引列的名字</li>
<li>Collation：列以什么方式存储在索引中</li>
<li>Cardinality：唯一值的数目估计值，尽可能接近1，如果非常小考虑删除此索引</li>
<li>Sub_part：是否是咧的部分被索引</li>
<li>Packed：关键字如何被压缩</li>
<li>Null：是否索引的列含有Null值</li>
<li>Index_type：索引的类型</li>
<li>Comment：注释</li>
</ul>
</li>
</ul>
<p>2.Fast Index Creation</p>
<p>InnoDB1.0.x版本开始支持</p>
<ul>
<li><p>FIC方式只限定于辅助索引，对于主键的创建和删除同样需要重建一张表</p>
</li>
<li><p>会对创建索引的表加上一个S锁，表只读</p>
</li>
<li><p>删除辅助索引只需更新内部视图，标记辅助索引的空间可用，删除内部视图上对该表的索引定义</p>
</li>
</ul>
<p>3.Online Schema Change（在线架构改变）</p>
<p>实现OSC步骤：</p>
<ul>
<li>init，初始化阶段，会对创建的表做一些验证工作，如检查表是否由主键，是否存在触发器或者外键等</li>
<li>createCopyTable：创建和原始表结构一样的新表</li>
<li>alterCopyTable：对创建的新表进行Alter Table操作，如添加索引或列等</li>
<li>createDeltasTable：创建deltas表，该表的作用式为下一步创建的触发器所使用</li>
<li>createTriggers：对原表创建INSERT、UPDATE、DELETE操作的触发器。触发器操作产生的记录被写入到deltas表。</li>
<li>startSnpshotXact：开始OSC操作的事务</li>
<li>selectTableIntoOutfile：将原表中的数据写入到新表。</li>
<li>dropNCindexs：在导入新表前，删除新表中所有的辅助索引</li>
<li>loadCopyTable：将导出的分片文件导入到新表</li>
<li>replayChanges：将OSC过程中原表DML操作的记录应用到新表中，这些记录被保存在deltas表中</li>
<li>recreateNCIndexes：重新创建辅助索引</li>
<li>relayChanges：再次进行DML日志的回访操作，这些日志是在上述创建辅助索引过程中新产生的日志。</li>
<li>swapTables：将原表和新表交换名字，整个操作需要锁定2张表，不允许新的数据产生。</li>
</ul>
<p>4.Online DDL</p>
<p>5.6版本开始支持</p>
<ul>
<li>辅助索引的创建和删除</li>
<li>改变自增长值</li>
<li>添加或删除外键约束</li>
<li>列的重命名</li>
</ul>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/12.jpg" class="" title="This is an 12 image">

<h1 id="5-5-Cardinality值"><a href="#5-5-Cardinality值" class="headerlink" title="5.5 Cardinality值"></a>5.5 Cardinality值</h1><h2 id="5-5-1-什么是Cardinality"><a href="#5-5-1-什么是Cardinality" class="headerlink" title="5.5.1 什么是Cardinality"></a>5.5.1 什么是Cardinality</h2><p><strong>表示索引中不重复记录数量的预估值。</strong></p>
<p>故在访问高选择性属性的字段并从表中取出很少一部分数据时，对这个字段添加B+树索引是非常有必要的。</p>
<h2 id="5-5-2-InnoDB存储引擎的Cardinality统计"><a href="#5-5-2-InnoDB存储引擎的Cardinality统计" class="headerlink" title="5.5.2 InnoDB存储引擎的Cardinality统计"></a>5.5.2 InnoDB存储引擎的Cardinality统计</h2><p><strong>Where</strong></p>
<ul>
<li>放在存储引擎层进行的</li>
</ul>
<p><strong>When</strong></p>
<ul>
<li>表中1/16的数据已发生过变化<ul>
<li>自从上次统计cardinality信息后，表中1/16的数据已经发生过变化</li>
</ul>
</li>
<li>stat_modified_counter&gt;2000 000 000<ul>
<li>发生变化的次数</li>
</ul>
</li>
</ul>
<p><strong>How</strong></p>
<p>默认Innodb存储引擎对8个叶子节点进行采用</p>
<ul>
<li>取得B+树索引中叶子节点的数量，记为A</li>
<li>随机取得B+树索引中的8个叶子节点。统计每个页不同记录的个数，即为P1，P2，。。。P8.</li>
<li>根据采样信息给出Cardinality预估值：Cardinality=（P1+P2+。。。+P8）/*A/8</li>
</ul>
<p>由于每次随机取得8个叶子节点，每次得到的值可能是不同的。</p>
<p><em>执行以下SQL语句会导致InnoDB存储引擎去重新计算索引的Cardinality的值：</em></p>
<ul>
<li>ANALYZE TABLE</li>
<li>SHOW TABLE STATUS</li>
<li>SHOW INDEX</li>
<li>INFORMATION_SCHEMA架构下的表TABLES和STATISTICS</li>
</ul>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/13.jpg" class="" title="This is an 13 image">

<h1 id="5-6-B-树索引的作用"><a href="#5-6-B-树索引的作用" class="headerlink" title="5.6 B+树索引的作用"></a>5.6 B+树索引的作用</h1><h2 id="5-6-1-不同应用中B-树索引的作用"><a href="#5-6-1-不同应用中B-树索引的作用" class="headerlink" title="5.6.1 不同应用中B+树索引的作用"></a>5.6.1 不同应用中B+树索引的作用</h2><p>OLTP：B+树索引建立后，对该索引的使用应该只是通过该索引取得表中少部分的数据。</p>
<p>OLAP：宏观的信息，通常会对时间字段进行索引。</p>
<h2 id="5-6-2-联合索引"><a href="#5-6-2-联合索引" class="headerlink" title="5.6.2 联合索引"></a>5.6.2 联合索引</h2><p>联合索引是指对表上的多个列进行索引。</p>
<p>键值都是排序的，通过叶子节点可以逻辑上顺序地读出索引数据。</p>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/14.jpg" class="" title="This is an 14 image">

<h2 id="5-6-3-覆盖索引"><a href="#5-6-3-覆盖索引" class="headerlink" title="5.6.3 覆盖索引"></a>5.6.3 覆盖索引</h2><ul>
<li><p>从辅助索引中就可以得到查询的记录，而不需要查询聚集索引中的记录。</p>
</li>
<li><p>不包含整行记录的所有信息，故其大小要远小于聚集索引，因此可以减少大量的IO操作。</p>
</li>
</ul>
<p><em>详情案例不记录，查看详情到原文件中</em></p>
<h2 id="5-6-4-优化器选择不适用索引的情况"><a href="#5-6-4-优化器选择不适用索引的情况" class="headerlink" title="5.6.4 优化器选择不适用索引的情况"></a>5.6.4 优化器选择不适用索引的情况</h2><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> orderdetails <span class="keyword">where</span> orderid&gt;<span class="number">10000</span> <span class="keyword">and</span> orderid&lt;<span class="number">102000</span></span><br></pre></td></tr></table></figure>

<ul>
<li>orderdetails有（orderid，productid）联合主键，orderid 单个索引</li>
<li>explain查看没有使用orderid上的索引来查找数据</li>
</ul>
<p><em>Why</em></p>
<ul>
<li><p>用户要取的是整行信息，orderid索引不能覆盖到我们要查询的信息。</p>
</li>
<li><p>orderid查询到指定数据后，还需要再一次书签访问来查找整行数据的信息。</p>
</li>
<li><p>再一次书签查找的数据则是无序的，变成了磁盘上的离散读操作</p>
</li>
<li><p>访问的数据占整个表中数据的蛮大一部分（一般20%左右），优化器会选择通过聚集索引来查找数据</p>
</li>
</ul>
<p>优化器选择辅助索引的情况是：</p>
<ul>
<li>通过辅助索引查找的数据是少量的。</li>
</ul>
<h2 id="5-6-5-索引提示"><a href="#5-6-5-索引提示" class="headerlink" title="5.6.5 索引提示"></a>5.6.5 索引提示</h2><p>use index只是告诉优化器可以选择某索引，实际上优化器还是会再根据自己的判断进行选择。</p>
<h2 id="5-6-6-Multi-Range-Read优化"><a href="#5-6-6-Multi-Range-Read优化" class="headerlink" title="5.6.6 Multi-Range Read优化"></a>5.6.6 Multi-Range Read优化</h2><p>适用于<code>range</code>,<code>ref</code>,<code>eq_ref</code></p>
<ul>
<li>数据访问变得较为顺序</li>
<li>减少缓冲池中页被替换的次数</li>
<li>批量处理对键值的查询操作</li>
</ul>
<p><em>详情案例不记录，查看详情到原文件中</em></p>
<p>范围查询和Join查询操作，MRR的工作方式：</p>
<ul>
<li><p>将查询得到的辅助索引键值存放于一个缓冲中，根据辅助索引键值排序的</p>
</li>
<li><p>将缓存中的键值根据RowID进行排序</p>
</li>
<li><p>根据RowID的排序顺序来访问实际的数据文件</p>
</li>
</ul>
<p>开启操作：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">set</span> @@optimizer_switch=<span class="string">'mrr=on,mrr_cost_based=off'</span></span><br></pre></td></tr></table></figure>

<ul>
<li>read_rmd_buffer_size 用于控制键值的缓冲区大小</li>
</ul>
<h2 id="5-6-7-Index-Condition-Pushdown-ICP-优化"><a href="#5-6-7-Index-Condition-Pushdown-ICP-优化" class="headerlink" title="5.6.7 Index Condition Pushdown(ICP)优化"></a>5.6.7 Index Condition Pushdown(ICP)优化</h2><ul>
<li><p>会在取出索引的同时，判断是否可以进行WHERE条件的过滤</p>
</li>
<li><p>WHERE的部分过滤操作放在了存储引擎层</p>
</li>
</ul>
<p>支持<code>range</code>,<code>ref</code>,<code>eq_ref</code>,<code>ref_or_null</code></p>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/15.jpg" class="" title="This is an 15 image">

<h1 id="5-7-哈希算法"><a href="#5-7-哈希算法" class="headerlink" title="5.7 哈希算法"></a>5.7 哈希算法</h1><h2 id="5-7-1-哈希表"><a href="#5-7-1-哈希表" class="headerlink" title="5.7.1 哈希表"></a>5.7.1 哈希表</h2><p>没有理解，待完善</p>
<h2 id="5-7-2-InnoDB存储引擎中的哈希算法"><a href="#5-7-2-InnoDB存储引擎中的哈希算法" class="headerlink" title="5.7.2 InnoDB存储引擎中的哈希算法"></a>5.7.2 InnoDB存储引擎中的哈希算法</h2><p>没有理解，待完善</p>
<h2 id="5-7-3-自适应哈希索引"><a href="#5-7-3-自适应哈希索引" class="headerlink" title="5.7.3 自适应哈希索引"></a>5.7.3 自适应哈希索引</h2><p>数据库自身创建并使用的。</p>
<h1 id="5-8-全文索引"><a href="#5-8-全文索引" class="headerlink" title="5.8 全文索引"></a>5.8 全文索引</h1><p><strong>是将存储于数据库中的整本书或整篇文章中的任意内容信息查找出来的技术</strong></p>
<p>InnoDB1.2.x版本开始支持</p>
<h2 id="5-8-2-倒排索引"><a href="#5-8-2-倒排索引" class="headerlink" title="5.8.2 倒排索引"></a>5.8.2 倒排索引</h2><p>它在辅助表中存储了单词与单词自身在一个或多个文档中所在位置之间的映射。</p>
<ul>
<li>inverted file index {单词，单词所在文档的ID}</li>
<li>full inverted index {单词，（单词所在文档的ID，在具体文档中的位置）}</li>
</ul>
<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/16.jpg" class="" title="This is an 16 image">

<img src="/2020/10/27/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC5%E7%AB%A0%E7%B4%A2%E5%BC%95%E4%B8%8E%E7%AE%97%E6%B3%95/17.jpg" class="" title="This is an 17 image">

<h2 id="5-8-3-InnoDB全文索引"><a href="#5-8-3-InnoDB全文索引" class="headerlink" title="5.8.3 InnoDB全文索引"></a>5.8.3 InnoDB全文索引</h2><ul>
<li>每张表只能有一个全文检索的索引</li>
<li>由多列组合而成的全文检索的索引列必须使用相同的字符集与排序规则</li>
<li>不支持没有单词界定符的语言，如中文、日语、韩语等</li>
</ul>
<h2 id="5-8-4-全文检索"><a href="#5-8-4-全文检索" class="headerlink" title="5.8.4 全文检索"></a>5.8.4 全文检索</h2><p>1.Natural Language</p>
<p>2.Boolean</p>
<p>3.Query Expansion</p>
]]></content>
      <categories>
        <category>MySQL技术内幕</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>第7章事务</title>
    <url>/2020/10/24/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC7%E7%AB%A0%E4%BA%8B%E5%8A%A1/</url>
    <content><![CDATA[<h1 id="7-2-事务的实现"><a href="#7-2-事务的实现" class="headerlink" title="7.2 事务的实现"></a>7.2 事务的实现</h1><p>redo log ：保证事务的原子性和持久性</p>
<ul>
<li>恢复提交事务修改的页操作</li>
<li>物理日志，记录的是页的物理修改操作</li>
</ul>
<p>undo log：保证事务的一致性</p>
<ul>
<li>undo回滚行记录到某个特定版本</li>
<li>逻辑日志，根据每行记录进行记录</li>
</ul>
<h2 id="7-2-1-redo"><a href="#7-2-1-redo" class="headerlink" title="7.2.1 redo"></a>7.2.1 redo</h2><p>1.基本概念</p>
<p>重做日志用来实现事务的持久性，由两部分组成：</p>
<p>一是内存中的重做日志缓冲，其是易失的；</p>
<p>二是重做日志文件，其是持久的。</p>
<h2 id="7-2-2-undo"><a href="#7-2-2-undo" class="headerlink" title="7.2.2 undo"></a>7.2.2 undo</h2><p>1.基本概念</p>
<p>重做日志记录了事务的行为，可以很好地通过对页进行“重做”。但是事务有时还需要进行回滚操作，这是就需undo。</p>
<p>2.undo存储管理</p>
<ul>
<li><p>innodb_undo_directory</p>
<ul>
<li>设置rollback segment文件所在的路径。</li>
</ul>
</li>
<li><p>innodb_undo_logs</p>
<ul>
<li>设置rollback segment的个数，默认值128</li>
</ul>
</li>
<li><p>innodb_undo_tablespaces</p>
<ul>
<li>设置构成rollback segment文件的数量</li>
</ul>
</li>
</ul>
<p>  <strong>当事务提交时，InnoDB存储引擎会做两件事情：</strong></p>
<ul>
<li>将undo log放入列表中，以供之后的purge操作</li>
<li>判断undo log 所在的页是否可以重用，若可以分配给下格事务使用</li>
</ul>
<p>  3.undo log格式</p>
<p>  undo log分为：</p>
<ul>
<li>insert undo log<ul>
<li>insert操作产生的undo log，只对事务本身可见，对其他事务不可见，该undo log可以在事务提交后直接删除。</li>
</ul>
</li>
<li>update undo log<ul>
<li>delete和update操作产生的undo log。需要提供MVCC机制，不能在十五提交时就进行删除。</li>
</ul>
</li>
</ul>
<p>  4.查看undo信息</p>
]]></content>
      <categories>
        <category>MySQL技术内幕</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>innodb状态解说</title>
    <url>/2020/10/22/MySQL/innodb%E7%8A%B6%E6%80%81%E8%A7%A3%E8%AF%B4/</url>
    <content><![CDATA[<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">root@MySQL-01 17:58:  [(none)]&gt; show engine innodb status\G;</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">  Type: InnoDB</span><br><span class="line">  Name: </span><br><span class="line">Status: </span><br><span class="line">=====================================</span><br><span class="line">2020-10-21 18:03:37 0x7f17f0110700 INNODB MONITOR OUTPUT</span><br><span class="line">=====================================</span><br><span class="line">Per second averages calculated from the last 15 seconds</span><br><span class="line"><span class="comment">-----------------</span></span><br><span class="line">BACKGROUND THREAD</span><br><span class="line"><span class="comment">-----------------</span></span><br><span class="line">srv_master_thread loops: 110 srv_active, 0 srv_shutdown, 2345383 srv_idle</span><br><span class="line">srv_master_thread log <span class="keyword">flush</span> <span class="keyword">and</span> writes: <span class="number">2345493</span></span><br><span class="line"><span class="comment">----------</span></span><br><span class="line">SEMAPHORES</span><br><span class="line"><span class="comment">----------</span></span><br><span class="line">OS <span class="keyword">WAIT</span> <span class="built_in">ARRAY</span> INFO: reservation <span class="keyword">count</span> <span class="number">353</span></span><br><span class="line">OS <span class="keyword">WAIT</span> <span class="built_in">ARRAY</span> INFO: signal <span class="keyword">count</span> <span class="number">305</span></span><br><span class="line">RW-<span class="keyword">shared</span> spins <span class="number">0</span>, rounds <span class="number">7763</span>, OS waits <span class="number">293</span></span><br><span class="line">RW-excl spins <span class="number">0</span>, rounds <span class="number">965</span>, OS waits <span class="number">14</span></span><br><span class="line">RW-sx spins <span class="number">3</span>, rounds <span class="number">207</span>, OS waits <span class="number">2</span></span><br><span class="line">Spin rounds per <span class="keyword">wait</span>: <span class="number">7763.00</span> RW-<span class="keyword">shared</span>, <span class="number">965.00</span> RW-excl, <span class="number">69.00</span> RW-sx</span><br><span class="line"><span class="comment">------------------------</span></span><br><span class="line">LATEST DETECTED DEADLOCK</span><br><span class="line"><span class="comment">------------------------</span></span><br><span class="line"><span class="number">2020</span><span class="number">-10</span><span class="number">-21</span> <span class="number">14</span>:<span class="number">00</span>:<span class="number">46</span> <span class="number">0x7f17ff08f700</span></span><br><span class="line">*** (<span class="number">1</span>) <span class="keyword">TRANSACTION</span>:</span><br><span class="line"><span class="keyword">TRANSACTION</span> <span class="number">42089766</span>, ACTIVE <span class="number">3</span> sec inserting</span><br><span class="line">mysql <span class="keyword">tables</span> <span class="keyword">in</span> <span class="keyword">use</span> <span class="number">1</span>, <span class="keyword">locked</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">LOCK</span> <span class="keyword">WAIT</span> <span class="number">3</span> <span class="keyword">lock</span> <span class="keyword">struct</span>(s), <span class="keyword">heap</span> <span class="keyword">size</span> <span class="number">1136</span>, <span class="number">2</span> <span class="keyword">row</span> <span class="keyword">lock</span>(s), <span class="keyword">undo</span> <span class="keyword">log</span> entries <span class="number">1</span></span><br><span class="line">MySQL <span class="keyword">thread</span> <span class="keyword">id</span> <span class="number">77</span>, OS <span class="keyword">thread</span> handle <span class="number">139740656969472</span>, <span class="keyword">query</span> <span class="keyword">id</span> <span class="number">658</span> localhost root executing</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> z <span class="keyword">select</span> <span class="number">4</span>,<span class="number">4</span></span><br><span class="line">*** (<span class="number">1</span>) WAITING <span class="keyword">FOR</span> THIS <span class="keyword">LOCK</span> <span class="keyword">TO</span> BE GRANTED:</span><br><span class="line"><span class="built_in">RECORD</span> LOCKS <span class="keyword">space</span> <span class="keyword">id</span> <span class="number">577</span> page <span class="keyword">no</span> <span class="number">4</span> n bits <span class="number">72</span> <span class="keyword">index</span> b <span class="keyword">of</span> <span class="keyword">table</span> <span class="string">`qinxi`</span>.<span class="string">`z`</span> trx <span class="keyword">id</span> <span class="number">42089766</span> lock_mode X locks gap <span class="keyword">before</span> rec <span class="keyword">insert</span> intention waiting</span><br><span class="line"><span class="built_in">Record</span> <span class="keyword">lock</span>, <span class="keyword">heap</span> <span class="keyword">no</span> <span class="number">5</span> <span class="keyword">PHYSICAL</span> <span class="built_in">RECORD</span>: n_fields <span class="number">2</span>; compact format; info bits 0</span><br><span class="line"> 0: len 4; hex 80000006; asc     ;;</span><br><span class="line"> 1: len 4; hex 80000007; asc     ;;</span><br><span class="line"></span><br><span class="line">*** (2) TRANSACTION:</span><br><span class="line">TRANSACTION 42089767, ACTIVE 158 sec inserting</span><br><span class="line">mysql tables in <span class="keyword">use</span> <span class="number">1</span>, <span class="keyword">locked</span> <span class="number">1</span></span><br><span class="line"><span class="number">4</span> <span class="keyword">lock</span> <span class="keyword">struct</span>(s), <span class="keyword">heap</span> <span class="keyword">size</span> <span class="number">1136</span>, <span class="number">2</span> <span class="keyword">row</span> <span class="keyword">lock</span>(s)</span><br><span class="line">MySQL <span class="keyword">thread</span> <span class="keyword">id</span> <span class="number">78</span>, OS <span class="keyword">thread</span> handle <span class="number">139741039752960</span>, <span class="keyword">query</span> <span class="keyword">id</span> <span class="number">659</span> localhost root executing</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> z <span class="keyword">select</span> <span class="number">4</span>,<span class="number">4</span></span><br><span class="line">*** (<span class="number">2</span>) HOLDS THE <span class="keyword">LOCK</span>(S):</span><br><span class="line"><span class="built_in">RECORD</span> LOCKS <span class="keyword">space</span> <span class="keyword">id</span> <span class="number">577</span> page <span class="keyword">no</span> <span class="number">4</span> n bits <span class="number">72</span> <span class="keyword">index</span> b <span class="keyword">of</span> <span class="keyword">table</span> <span class="string">`qinxi`</span>.<span class="string">`z`</span> trx <span class="keyword">id</span> <span class="number">42089767</span> <span class="keyword">lock</span> <span class="keyword">mode</span> S locks gap <span class="keyword">before</span> rec</span><br><span class="line"><span class="built_in">Record</span> <span class="keyword">lock</span>, <span class="keyword">heap</span> <span class="keyword">no</span> <span class="number">5</span> <span class="keyword">PHYSICAL</span> <span class="built_in">RECORD</span>: n_fields <span class="number">2</span>; compact format; info bits 0</span><br><span class="line"> 0: len 4; hex 80000006; asc     ;;</span><br><span class="line"> 1: len 4; hex 80000007; asc     ;;</span><br><span class="line"></span><br><span class="line">*** (2) WAITING FOR THIS LOCK TO BE GRANTED:</span><br><span class="line">RECORD LOCKS space id 577 page no 3 n bits 80 index PRIMARY of table `qinxi`.`z` trx id 42089767 <span class="keyword">lock</span> <span class="keyword">mode</span> S waiting</span><br><span class="line"><span class="built_in">Record</span> <span class="keyword">lock</span>, <span class="keyword">heap</span> <span class="keyword">no</span> <span class="number">7</span> <span class="keyword">PHYSICAL</span> <span class="built_in">RECORD</span>: n_fields <span class="number">4</span>; compact format; info bits 0</span><br><span class="line"> 0: len 4; hex 80000004; asc     ;;</span><br><span class="line"> 1: len 6; hex 000002823d26; asc     =&amp;;;</span><br><span class="line"> 2: len 7; hex d30000024e0110; asc     N  ;;</span><br><span class="line"> 3: len 4; hex 80000004; asc     ;;</span><br><span class="line"></span><br><span class="line">*** WE ROLL BACK TRANSACTION (2)</span><br><span class="line"><span class="comment">------------</span></span><br><span class="line">TRANSACTIONS</span><br><span class="line"><span class="comment">------------</span></span><br><span class="line">Trx id counter 42089796</span><br><span class="line"><span class="keyword">Purge</span> done <span class="keyword">for</span> trx<span class="string">'s n:o &lt; 42089792 undo n:o &lt; 0 state: running but idle</span></span><br><span class="line"><span class="string">History list length 2</span></span><br><span class="line"><span class="string">LIST OF TRANSACTIONS FOR EACH SESSION:</span></span><br><span class="line"><span class="string">---TRANSACTION 421218363488080, not started</span></span><br><span class="line"><span class="string">0 lock struct(s), heap size 1136, 0 row lock(s)</span></span><br><span class="line"><span class="string">--------</span></span><br><span class="line"><span class="string">FILE I/O</span></span><br><span class="line"><span class="string">--------</span></span><br><span class="line"><span class="string">I/O thread 0 state: waiting for completed aio requests (insert buffer thread)</span></span><br><span class="line"><span class="string">I/O thread 1 state: waiting for completed aio requests (log thread)</span></span><br><span class="line"><span class="string">I/O thread 2 state: waiting for completed aio requests (read thread)</span></span><br><span class="line"><span class="string">I/O thread 3 state: waiting for completed aio requests (read thread)</span></span><br><span class="line"><span class="string">I/O thread 4 state: waiting for completed aio requests (read thread)</span></span><br><span class="line"><span class="string">I/O thread 5 state: waiting for completed aio requests (read thread)</span></span><br><span class="line"><span class="string">I/O thread 6 state: waiting for completed aio requests (read thread)</span></span><br><span class="line"><span class="string">I/O thread 7 state: waiting for completed aio requests (read thread)</span></span><br><span class="line"><span class="string">I/O thread 8 state: waiting for completed aio requests (read thread)</span></span><br><span class="line"><span class="string">I/O thread 9 state: waiting for completed aio requests (read thread)</span></span><br><span class="line"><span class="string">I/O thread 10 state: waiting for completed aio requests (write thread)</span></span><br><span class="line"><span class="string">I/O thread 11 state: waiting for completed aio requests (write thread)</span></span><br><span class="line"><span class="string">I/O thread 12 state: waiting for completed aio requests (write thread)</span></span><br><span class="line"><span class="string">I/O thread 13 state: waiting for completed aio requests (write thread)</span></span><br><span class="line"><span class="string">I/O thread 14 state: waiting for completed aio requests (write thread)</span></span><br><span class="line"><span class="string">I/O thread 15 state: waiting for completed aio requests (write thread)</span></span><br><span class="line"><span class="string">I/O thread 16 state: waiting for completed aio requests (write thread)</span></span><br><span class="line"><span class="string">I/O thread 17 state: waiting for completed aio requests (write thread)</span></span><br><span class="line"><span class="string">Pending normal aio reads: [0, 0, 0, 0, 0, 0, 0, 0] , aio writes: [0, 0, 0, 0, 0, 0, 0, 0] ,</span></span><br><span class="line"><span class="string"> ibuf aio reads:, log i/o'</span>s:, <span class="keyword">sync</span> i/o<span class="string">'s:</span></span><br><span class="line"><span class="string">Pending flushes (fsync) log: 0; buffer pool: 0</span></span><br><span class="line"><span class="string">41693 OS file reads, 1833 OS file writes, 1220 OS fsyncs</span></span><br><span class="line"><span class="string">0.00 reads/s, 0 avg bytes/read, 0.00 writes/s, 0.00 fsyncs/s</span></span><br><span class="line"><span class="string">-------------------------------------</span></span><br><span class="line"><span class="string">INSERT BUFFER AND ADAPTIVE HASH INDEX</span></span><br><span class="line"><span class="string">-------------------------------------</span></span><br><span class="line"><span class="string">Ibuf: size 1, free list len 0, seg size 2, 4 merges</span></span><br><span class="line"><span class="string">merged operations:</span></span><br><span class="line"><span class="string"> insert 2, delete mark 2, delete 0</span></span><br><span class="line"><span class="string">discarded operations:</span></span><br><span class="line"><span class="string"> insert 0, delete mark 0, delete 0</span></span><br><span class="line"><span class="string">Hash table size 553193, node heap has 1 buffer(s)</span></span><br><span class="line"><span class="string">Hash table size 553193, node heap has 0 buffer(s)</span></span><br><span class="line"><span class="string">Hash table size 553193, node heap has 0 buffer(s)</span></span><br><span class="line"><span class="string">Hash table size 553193, node heap has 0 buffer(s)</span></span><br><span class="line"><span class="string">Hash table size 553193, node heap has 0 buffer(s)</span></span><br><span class="line"><span class="string">Hash table size 553193, node heap has 0 buffer(s)</span></span><br><span class="line"><span class="string">Hash table size 553193, node heap has 0 buffer(s)</span></span><br><span class="line"><span class="string">Hash table size 553193, node heap has 1 buffer(s)</span></span><br><span class="line"><span class="string">0.00 hash searches/s, 0.00 non-hash searches/s</span></span><br><span class="line"><span class="string">---</span></span><br><span class="line"><span class="string">LOG</span></span><br><span class="line"><span class="string">---</span></span><br><span class="line"><span class="string">Log sequence number 13780133802</span></span><br><span class="line"><span class="string">Log flushed up to   13780133802</span></span><br><span class="line"><span class="string">Pages flushed up to 13780133802</span></span><br><span class="line"><span class="string">Last checkpoint at  13780133793</span></span><br><span class="line"><span class="string">0 pending log flushes, 0 pending chkp writes</span></span><br><span class="line"><span class="string">551 log i/o'</span>s done, <span class="number">0.00</span> <span class="keyword">log</span> i/o<span class="string">'s/second</span></span><br><span class="line"><span class="string">----------------------</span></span><br><span class="line"><span class="string">BUFFER POOL AND MEMORY</span></span><br><span class="line"><span class="string">----------------------</span></span><br><span class="line"><span class="string">Total large memory allocated 2198863872</span></span><br><span class="line"><span class="string">Dictionary memory allocated 640362</span></span><br><span class="line"><span class="string">Buffer pool size   131056</span></span><br><span class="line"><span class="string">Free buffers       89450</span></span><br><span class="line"><span class="string">Database pages     41609</span></span><br><span class="line"><span class="string">Old database pages 15493</span></span><br><span class="line"><span class="string">Modified db pages  0</span></span><br><span class="line"><span class="string">Pending reads      0</span></span><br><span class="line"><span class="string">Pending writes: LRU 0, flush list 0, single page 0</span></span><br><span class="line"><span class="string">Pages made young 0, not young 0</span></span><br><span class="line"><span class="string">0.00 youngs/s, 0.00 non-youngs/s</span></span><br><span class="line"><span class="string">Pages read 41499, created 110, written 932</span></span><br><span class="line"><span class="string">0.00 reads/s, 0.00 creates/s, 0.00 writes/s</span></span><br><span class="line"><span class="string">No buffer pool page gets since the last printout</span></span><br><span class="line"><span class="string">Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s</span></span><br><span class="line"><span class="string">LRU len: 41609, unzip_LRU len: 0</span></span><br><span class="line"><span class="string">I/O sum[0]:cur[0], unzip sum[0]:cur[0]</span></span><br><span class="line"><span class="string">----------------------</span></span><br><span class="line"><span class="string">INDIVIDUAL BUFFER POOL INFO</span></span><br><span class="line"><span class="string">----------------------</span></span><br><span class="line"><span class="string">---BUFFER POOL 0</span></span><br><span class="line"><span class="string">Buffer pool size   16382</span></span><br><span class="line"><span class="string">Free buffers       11216</span></span><br><span class="line"><span class="string">Database pages     5166</span></span><br><span class="line"><span class="string">Old database pages 1924</span></span><br><span class="line"><span class="string">Modified db pages  0</span></span><br><span class="line"><span class="string">Pending reads      0</span></span><br><span class="line"><span class="string">Pending writes: LRU 0, flush list 0, single page 0</span></span><br><span class="line"><span class="string">Pages made young 0, not young 0</span></span><br><span class="line"><span class="string">0.00 youngs/s, 0.00 non-youngs/s</span></span><br><span class="line"><span class="string">Pages read 5158, created 8, written 142</span></span><br><span class="line"><span class="string">0.00 reads/s, 0.00 creates/s, 0.00 writes/s</span></span><br><span class="line"><span class="string">No buffer pool page gets since the last printout</span></span><br><span class="line"><span class="string">Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s</span></span><br><span class="line"><span class="string">LRU len: 5166, unzip_LRU len: 0</span></span><br><span class="line"><span class="string">I/O sum[0]:cur[0], unzip sum[0]:cur[0]</span></span><br><span class="line"><span class="string">---BUFFER POOL 1</span></span><br><span class="line"><span class="string">Buffer pool size   16382</span></span><br><span class="line"><span class="string">Free buffers       11181</span></span><br><span class="line"><span class="string">Database pages     5201</span></span><br><span class="line"><span class="string">Old database pages 1934</span></span><br><span class="line"><span class="string">Modified db pages  0</span></span><br><span class="line"><span class="string">Pending reads      0</span></span><br><span class="line"><span class="string">Pending writes: LRU 0, flush list 0, single page 0</span></span><br><span class="line"><span class="string">Pages made young 0, not young 0</span></span><br><span class="line"><span class="string">0.00 youngs/s, 0.00 non-youngs/s</span></span><br><span class="line"><span class="string">Pages read 5186, created 15, written 143</span></span><br><span class="line"><span class="string">0.00 reads/s, 0.00 creates/s, 0.00 writes/s</span></span><br><span class="line"><span class="string">No buffer pool page gets since the last printout</span></span><br><span class="line"><span class="string">Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s</span></span><br><span class="line"><span class="string">LRU len: 5201, unzip_LRU len: 0</span></span><br><span class="line"><span class="string">I/O sum[0]:cur[0], unzip sum[0]:cur[0]</span></span><br><span class="line"><span class="string">---BUFFER POOL 2</span></span><br><span class="line"><span class="string">Buffer pool size   16382</span></span><br><span class="line"><span class="string">Free buffers       11187</span></span><br><span class="line"><span class="string">Database pages     5194</span></span><br><span class="line"><span class="string">Old database pages 1934</span></span><br><span class="line"><span class="string">Modified db pages  0</span></span><br><span class="line"><span class="string">Pending reads      0</span></span><br><span class="line"><span class="string">Pending writes: LRU 0, flush list 0, single page 0</span></span><br><span class="line"><span class="string">Pages made young 0, not young 0</span></span><br><span class="line"><span class="string">0.00 youngs/s, 0.00 non-youngs/s</span></span><br><span class="line"><span class="string">Pages read 5183, created 11, written 68</span></span><br><span class="line"><span class="string">0.00 reads/s, 0.00 creates/s, 0.00 writes/s</span></span><br><span class="line"><span class="string">No buffer pool page gets since the last printout</span></span><br><span class="line"><span class="string">Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s</span></span><br><span class="line"><span class="string">LRU len: 5194, unzip_LRU len: 0</span></span><br><span class="line"><span class="string">I/O sum[0]:cur[0], unzip sum[0]:cur[0]</span></span><br><span class="line"><span class="string">---BUFFER POOL 3</span></span><br><span class="line"><span class="string">Buffer pool size   16382</span></span><br><span class="line"><span class="string">Free buffers       11139</span></span><br><span class="line"><span class="string">Database pages     5242</span></span><br><span class="line"><span class="string">Old database pages 1954</span></span><br><span class="line"><span class="string">Modified db pages  0</span></span><br><span class="line"><span class="string">Pending reads      0</span></span><br><span class="line"><span class="string">Pending writes: LRU 0, flush list 0, single page 0</span></span><br><span class="line"><span class="string">Pages made young 0, not young 0</span></span><br><span class="line"><span class="string">0.00 youngs/s, 0.00 non-youngs/s</span></span><br><span class="line"><span class="string">Pages read 5203, created 39, written 204</span></span><br><span class="line"><span class="string">0.00 reads/s, 0.00 creates/s, 0.00 writes/s</span></span><br><span class="line"><span class="string">No buffer pool page gets since the last printout</span></span><br><span class="line"><span class="string">Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s</span></span><br><span class="line"><span class="string">LRU len: 5242, unzip_LRU len: 0</span></span><br><span class="line"><span class="string">I/O sum[0]:cur[0], unzip sum[0]:cur[0]</span></span><br><span class="line"><span class="string">---BUFFER POOL 4</span></span><br><span class="line"><span class="string">Buffer pool size   16382</span></span><br><span class="line"><span class="string">Free buffers       11073</span></span><br><span class="line"><span class="string">Database pages     5309</span></span><br><span class="line"><span class="string">Old database pages 1977</span></span><br><span class="line"><span class="string">Modified db pages  0</span></span><br><span class="line"><span class="string">Pending reads      0</span></span><br><span class="line"><span class="string">Pending writes: LRU 0, flush list 0, single page 0</span></span><br><span class="line"><span class="string">Pages made young 0, not young 0</span></span><br><span class="line"><span class="string">0.00 youngs/s, 0.00 non-youngs/s</span></span><br><span class="line"><span class="string">Pages read 5300, created 9, written 87</span></span><br><span class="line"><span class="string">0.00 reads/s, 0.00 creates/s, 0.00 writes/s</span></span><br><span class="line"><span class="string">No buffer pool page gets since the last printout</span></span><br><span class="line"><span class="string">Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s</span></span><br><span class="line"><span class="string">LRU len: 5309, unzip_LRU len: 0</span></span><br><span class="line"><span class="string">I/O sum[0]:cur[0], unzip sum[0]:cur[0]</span></span><br><span class="line"><span class="string">---BUFFER POOL 5</span></span><br><span class="line"><span class="string">Buffer pool size   16382</span></span><br><span class="line"><span class="string">Free buffers       11360</span></span><br><span class="line"><span class="string">Database pages     5022</span></span><br><span class="line"><span class="string">Old database pages 1870</span></span><br><span class="line"><span class="string">Modified db pages  0</span></span><br><span class="line"><span class="string">Pending reads      0</span></span><br><span class="line"><span class="string">Pending writes: LRU 0, flush list 0, single page 0</span></span><br><span class="line"><span class="string">Pages made young 0, not young 0</span></span><br><span class="line"><span class="string">0.00 youngs/s, 0.00 non-youngs/s</span></span><br><span class="line"><span class="string">Pages read 5012, created 10, written 90</span></span><br><span class="line"><span class="string">0.00 reads/s, 0.00 creates/s, 0.00 writes/s</span></span><br><span class="line"><span class="string">No buffer pool page gets since the last printout</span></span><br><span class="line"><span class="string">Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s</span></span><br><span class="line"><span class="string">LRU len: 5022, unzip_LRU len: 0</span></span><br><span class="line"><span class="string">I/O sum[0]:cur[0], unzip sum[0]:cur[0]</span></span><br><span class="line"><span class="string">---BUFFER POOL 6</span></span><br><span class="line"><span class="string">Buffer pool size   16382</span></span><br><span class="line"><span class="string">Free buffers       11146</span></span><br><span class="line"><span class="string">Database pages     5238</span></span><br><span class="line"><span class="string">Old database pages 1950</span></span><br><span class="line"><span class="string">Modified db pages  0</span></span><br><span class="line"><span class="string">Pending reads      0</span></span><br><span class="line"><span class="string">Pending writes: LRU 0, flush list 0, single page 0</span></span><br><span class="line"><span class="string">Pages made young 0, not young 0</span></span><br><span class="line"><span class="string">0.00 youngs/s, 0.00 non-youngs/s</span></span><br><span class="line"><span class="string">Pages read 5229, created 9, written 111</span></span><br><span class="line"><span class="string">0.00 reads/s, 0.00 creates/s, 0.00 writes/s</span></span><br><span class="line"><span class="string">No buffer pool page gets since the last printout</span></span><br><span class="line"><span class="string">Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s</span></span><br><span class="line"><span class="string">LRU len: 5238, unzip_LRU len: 0</span></span><br><span class="line"><span class="string">I/O sum[0]:cur[0], unzip sum[0]:cur[0]</span></span><br><span class="line"><span class="string">---BUFFER POOL 7</span></span><br><span class="line"><span class="string">Buffer pool size   16382</span></span><br><span class="line"><span class="string">Free buffers       11148</span></span><br><span class="line"><span class="string">Database pages     5237</span></span><br><span class="line"><span class="string">Old database pages 1950</span></span><br><span class="line"><span class="string">Modified db pages  0</span></span><br><span class="line"><span class="string">Pending reads      0</span></span><br><span class="line"><span class="string">Pending writes: LRU 0, flush list 0, single page 0</span></span><br><span class="line"><span class="string">Pages made young 0, not young 0</span></span><br><span class="line"><span class="string">0.00 youngs/s, 0.00 non-youngs/s</span></span><br><span class="line"><span class="string">Pages read 5228, created 9, written 87</span></span><br><span class="line"><span class="string">0.00 reads/s, 0.00 creates/s, 0.00 writes/s</span></span><br><span class="line"><span class="string">No buffer pool page gets since the last printout</span></span><br><span class="line"><span class="string">Pages read ahead 0.00/s, evicted without access 0.00/s, Random read ahead 0.00/s</span></span><br><span class="line"><span class="string">LRU len: 5237, unzip_LRU len: 0</span></span><br><span class="line"><span class="string">I/O sum[0]:cur[0], unzip sum[0]:cur[0]</span></span><br><span class="line"><span class="string">--------------</span></span><br><span class="line"><span class="string">ROW OPERATIONS</span></span><br><span class="line"><span class="string">--------------</span></span><br><span class="line"><span class="string">0 queries inside InnoDB, 0 queries in queue</span></span><br><span class="line"><span class="string">0 read views open inside InnoDB</span></span><br><span class="line"><span class="string">Process ID=22311, Main thread ID=139740711540480, state: sleeping</span></span><br><span class="line"><span class="string">Number of rows inserted 279, updated 16, deleted 0, read 910613</span></span><br><span class="line"><span class="string">0.00 inserts/s, 0.00 updates/s, 0.00 deletes/s, 0.00 reads/s</span></span><br><span class="line"><span class="string">----------------------------</span></span><br><span class="line"><span class="string">END OF INNODB MONITOR OUTPUT</span></span><br><span class="line"><span class="string">============================</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">1 row in set (0.02 sec)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">ERROR: </span></span><br><span class="line"><span class="string">No query specified</span></span><br></pre></td></tr></table></figure>

]]></content>
  </entry>
  <entry>
    <title>TiDB简介</title>
    <url>/2020/10/21/TiDB/TiDB%E7%AE%80%E4%BB%8B/</url>
    <content><![CDATA[<p><em>帮助文档：<a href="https://docs.pingcap.com/zh/tidb/v3.0/online-deployment-using-ansible" target="_blank" rel="noopener">https://docs.pingcap.com/zh/tidb/v3.0/online-deployment-using-ansible</a></em></p>
<blockquote>
<p>欢迎大家参与 TiDB 4.0 课程尝鲜，进群后辛苦将群昵称修改为：姓名@公司</p>
<p>12.9~12.14 是报名阶段，正式的追“剧”将从 12.15 正式开始，持续 21 天，复习计划详见【腾讯文档】TiDB 4.0 课程 21 天定制学习计划<br><a href="https://docs.qq.com/sheet/DUmJWRWNNY0N1eFh6" target="_blank" rel="noopener">https://docs.qq.com/sheet/DUmJWRWNNY0N1eFh6</a></p>
<p>进群的同学也可以提前抢跑。</p>
<p>打卡将从 12.15 开始，发布学习笔记到 <a href="https://asktug.com/c/pu/notes" target="_blank" rel="noopener">https://asktug.com/c/pu/notes</a> 视为打卡成功，一篇学习笔记积 10 分，被评选为优质学习笔记，可额外获得 20 分加分，累计积分可兑换 PCTA 考试限时优惠券、PingCAP 年度大会邀请函、TiDB 限量周边等；优质学习笔记，将被整合至 TiDB 4.0 学习素材库。</p>
<p>预祝大家学习愉快！</p>
</blockquote>
]]></content>
      <categories>
        <category>TiDB</category>
      </categories>
      <tags>
        <tag>TiDB入门</tag>
      </tags>
  </entry>
  <entry>
    <title>执行SQL获取行锁会话</title>
    <url>/2020/10/20/MySQL/%E6%89%A7%E8%A1%8CSQL%E8%8E%B7%E5%8F%96%E8%A1%8C%E9%94%81%E4%BC%9A%E8%AF%9D/</url>
    <content><![CDATA[<p><strong>查看innodb锁冲突</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> information_schema.innodb_lock_waits;</span><br><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> information_schema.innodb_locks;</span><br></pre></td></tr></table></figure>

<p><strong>查看innodb事务锁冲突情况</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> blocking_trx_id, <span class="keyword">count</span>(blocking_trx_id) <span class="keyword">as</span> countnum <span class="keyword">from</span> (<span class="keyword">select</span> a.trx_id,a.trx_state,b.requesting_trx_id,b.blocking_trx_id <span class="keyword">from</span> information_schema.innodb_lock_waits <span class="keyword">as</span> b <span class="keyword">left</span> <span class="keyword">join</span> information_schema.innodb_trx <span class="keyword">as</span> a <span class="keyword">on</span> a.trx_id=b.requesting_trx_id) <span class="keyword">as</span> t1 <span class="keyword">group</span> <span class="keyword">by</span> blocking_trx_id <span class="keyword">order</span> <span class="keyword">by</span> countnum <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<p><strong>获取到innodb事务锁冲突的原始id</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">id</span> <span class="keyword">from</span> information_schema.processlist,information_schema.innodb_trx <span class="keyword">where</span> trx_mysql_thread_id=<span class="keyword">id</span> <span class="keyword">and</span> trx_id <span class="keyword">in</span> (<span class="keyword">select</span> blocking_trx_id <span class="keyword">from</span> (<span class="keyword">select</span> blocking_trx_id, <span class="keyword">count</span>(blocking_trx_id) <span class="keyword">as</span> countnum <span class="keyword">from</span> (<span class="keyword">select</span> a.trx_id,a.trx_state,b.requesting_trx_id,b.blocking_trx_id <span class="keyword">from</span> information_schema.innodb_lock_waits <span class="keyword">as</span> b <span class="keyword">left</span> <span class="keyword">join</span> information_schema.innodb_trx <span class="keyword">as</span> a <span class="keyword">on</span> a.trx_id=b.requesting_trx_id) <span class="keyword">as</span> t1 <span class="keyword">group</span> <span class="keyword">by</span> blocking_trx_id <span class="keyword">order</span> <span class="keyword">by</span> countnum <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">1</span>) c) ;</span><br></pre></td></tr></table></figure>

<p><strong>获取到innodb事务锁冲突的原始id</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">concat</span>(<span class="string">'kill '</span>, <span class="keyword">id</span>, <span class="string">';'</span>) <span class="keyword">from</span> information_schema.processlist, information_schema.innodb_trx </span><br><span class="line"></span><br><span class="line"><span class="keyword">where</span> trx_mysql_thread_id= <span class="keyword">id</span> <span class="keyword">and</span> trx_id <span class="keyword">in</span>( <span class="keyword">select</span> blocking_trx_id <span class="keyword">from</span>( </span><br><span class="line"></span><br><span class="line">  <span class="keyword">select</span> blocking_trx_id, <span class="keyword">count</span>(blocking_trx_id) <span class="keyword">as</span> countnum <span class="keyword">from</span>(</span><br><span class="line"></span><br><span class="line">   <span class="keyword">select</span> a.trx_id, a.trx_state, b.requesting_trx_id, b.blocking_trx_id <span class="keyword">from</span>   information_schema.innodb_lock_waits <span class="keyword">as</span> b </span><br><span class="line"></span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> information_schema.innodb_trx <span class="keyword">as</span> a <span class="keyword">on</span> a.trx_id= b.requesting_trx_id</span><br><span class="line"></span><br><span class="line">) <span class="keyword">as</span> t1 <span class="keyword">group</span> <span class="keyword">by</span> blocking_trx_id <span class="keyword">order</span> <span class="keyword">by</span> countnum <span class="keyword">desc</span> <span class="keyword">limit</span> <span class="number">1</span>) c) ;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">--执行kill命令</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">kill</span> <span class="number">3220448</span>;</span><br></pre></td></tr></table></figure>

<p><strong>查看是否存在元锁冲突</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">processlist</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="keyword">id</span>,State,command <span class="keyword">from</span> information_schema.processlist <span class="keyword">where</span> State= <span class="string">"Waiting for table metadata lock"</span> ;</span><br></pre></td></tr></table></figure>

<p><strong>查看导致元锁冲突的会话详细</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> information_schema.innodb_trx i,</span><br><span class="line"></span><br><span class="line">  (<span class="keyword">select</span>  <span class="keyword">id</span>, <span class="built_in">time</span></span><br><span class="line"></span><br><span class="line"> <span class="keyword">from</span> information_schema.processlist</span><br><span class="line"></span><br><span class="line"> <span class="keyword">where</span> <span class="built_in">time</span> = (<span class="keyword">select</span> </span><br><span class="line"></span><br><span class="line"><span class="keyword">max</span>(<span class="built_in">time</span>) <span class="keyword">from</span></span><br><span class="line"></span><br><span class="line">information_schema.processlist</span><br><span class="line"></span><br><span class="line"><span class="keyword">where</span></span><br><span class="line"></span><br><span class="line">state = <span class="string">'Waiting for table metadata lock'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">and</span> info regexp <span class="string">'alter|optim|repai|lock|drop|creat'</span>)) p</span><br><span class="line"></span><br><span class="line">  <span class="keyword">where</span> <span class="keyword">timestampdiff</span>(<span class="keyword">second</span>, i.trx_started, <span class="keyword">now</span>()) &gt; p.time</span><br><span class="line"></span><br><span class="line">  <span class="keyword">and</span> i.trx_mysql_thread_id  <span class="keyword">not</span> <span class="keyword">in</span> (connection_id(),p.id);</span><br></pre></td></tr></table></figure>

<p><strong>查看未提交或回滚的错误事务</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> T.PROCESSLIST_ID,T.PROCESSLIST_TIME,E.SQL_TEXT </span><br><span class="line"></span><br><span class="line"><span class="keyword">FROM</span> PERFORMANCE_SCHEMA.THREADS T,</span><br><span class="line"></span><br><span class="line">PERFORMANCE_SCHEMA.EVENTS_STATEMENTS_CURRENT E </span><br><span class="line"></span><br><span class="line"><span class="keyword">WHERE</span> T.THREAD_ID=E.THREAD_ID <span class="keyword">AND</span> E.SQL_TEXT <span class="keyword">LIKE</span> ‘%T1%’;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">\<span class="comment"># SQL案例中假设是在t1表上有MDL锁，则 e.sql_text 近似匹配 t1</span></span><br><span class="line"> \<span class="comment"># 本方法5.5 5.6 5.7 都通用。</span></span><br></pre></td></tr></table></figure>







]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>锁</tag>
      </tags>
  </entry>
  <entry>
    <title>第6章锁</title>
    <url>/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/</url>
    <content><![CDATA[<p><strong>章节目标</strong></p>
<ul>
<li>了解InnoDB存储引擎对表中数据的锁定</li>
<li>了解InnoDB存储引擎会以怎样的粒度锁定数据</li>
</ul>
<p>只有当实现本身会增加开销时，行级锁才会增加开销。一个锁和多个锁的开销是相同的。</p>
<p><em><a href="https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html" target="_blank" rel="noopener">https://dev.mysql.com/doc/refman/8.0/en/innodb-locking.html</a></em></p>
<h1 id="6-1-什么是锁"><a href="#6-1-什么是锁" class="headerlink" title="6.1 什么是锁"></a>6.1 什么是锁</h1><ul>
<li>锁是数据库系统区别于文件系统的一个关键特性。</li>
<li>锁机制用于管理对共享资源的并发访问。</li>
</ul>
<h1 id="6-2-lock与latch"><a href="#6-2-lock与latch" class="headerlink" title="6.2 lock与latch"></a>6.2 lock与latch</h1><p>latch：</p>
<ul>
<li>分为mutex（互斥量）和rwlock（读写锁）</li>
<li>保证并发线程操作临界资源的正确性</li>
<li>没有死锁检测的机制</li>
</ul>
<p>lock</p>
<ul>
<li>对象是事务，用来锁定的是数据库中的对象，如表、页、行。</li>
<li>仅在事务commit或rollback后进行释放</li>
<li>有死锁机制</li>
</ul>
<img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/1.jpg" class="" title="This is an 1 image">

<h1 id="6-3-InnoDB-存储引擎中的锁"><a href="#6-3-InnoDB-存储引擎中的锁" class="headerlink" title="6.3 InnoDB 存储引擎中的锁"></a>6.3 InnoDB 存储引擎中的锁</h1><h2 id="6-3-1-锁的类型"><a href="#6-3-1-锁的类型" class="headerlink" title="6.3.1 锁的类型"></a>6.3.1 锁的类型</h2><p>InnoDB存储引擎实现了如下两种标准的<strong>行级锁</strong>：</p>
<ul>
<li>共享锁（S Lock），允许事务读一行数据</li>
<li>排他锁（X Lock），允许事务删除或更新一行数据</li>
</ul>
<img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/2.jpg" class="" title="This is an 2 image">

<p><em>S和X锁都是行锁，兼容是指对同一记录（row）锁的兼容性情况</em></p>
<p>InnoDB存储引擎支持<strong>多粒度（granular）锁定</strong>：</p>
<ul>
<li>这种锁定允许事务在行级上的锁和表级上的锁同时存在</li>
</ul>
<p>为了支持在不同粒度上进行加锁：</p>
<ul>
<li>支持一种额外的锁方式，称之为<strong>意向锁</strong>。<ul>
<li>意向锁即为表级别的锁</li>
<li>目标是为了在一个事务中揭示下一行将被请求的所类型</li>
</ul>
</li>
</ul>
<img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/3.jpg" class="" title="This is an 3 image">
<ul>
<li><p>支持两种意向锁：</p>
<ul>
<li><p>意向共享锁（IS Lock），事务想要获得一张表中某几行的共享锁</p>
</li>
<li><p>意向排他锁（IX Lock），事务想要获得一张表中某几行的排他锁</p>
</li>
</ul>
</li>
</ul>
<img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/4.jpg" class="" title="This is an 4 image">

<p>监控当前事务并分析可能存在的所问题：</p>
<img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/5.jpg" class="" title="This is an 5 image">

<img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/6.jpg" class="" title="This is an 6 image">

<img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/7.jpg" class="" title="This is an 7 image">

<h2 id="6-3-2-一致性非锁定读"><a href="#6-3-2-一致性非锁定读" class="headerlink" title="6.3.2 一致性非锁定读"></a>6.3.2 一致性非锁定读</h2><p><strong>InnoDB存储引擎通过行多版本控制的方式来读取当前执行时间数据库中行的数据</strong></p>
<img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/8.jpg" class="" title="This is an 8 image">

<ul>
<li><p>快照数据是指该行的之前版本的数据，该实现是通过undo段来完成。</p>
</li>
<li><p>RC事务隔离级别下，对于快照数据，非一致性读总是读取被锁定行的最新一份快照数据。</p>
</li>
<li><p>RR事务隔离级别下，对于快照数据，非一致性读总是读取事务开始时的行数据版本。</p>
</li>
</ul>
<img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/9.jpg" class="" title="This is an 9 image">

<h2 id="6-3-3-一致性锁定读"><a href="#6-3-3-一致性锁定读" class="headerlink" title="6.3.3 一致性锁定读"></a>6.3.3 一致性锁定读</h2><ul>
<li><input checked="" disabled="" type="checkbox"> <p>SELECT…FOR UPDATE</p>
<ul>
<li>对读取的行记录加一个X锁，其他事务不能对已锁定的行加上任何锁</li>
<li>对于非一致性非锁定读，已经被执行了SELECT…FOR UPDATE,课是可以被读取的。</li>
</ul>
</li>
<li><input checked="" disabled="" type="checkbox"> <p>SELECT…LOCK IN SHARE MODE</p>
<ul>
<li>对记录的行加一个S锁，再加X锁，会阻塞</li>
</ul>
<p>以上两句必须在一个事务中，当事务提交了，锁也就释放了。</p>
</li>
</ul>
<h2 id="6-3-4-自增长与锁"><a href="#6-3-4-自增长与锁" class="headerlink" title="6.3.4 自增长与锁"></a>6.3.4 自增长与锁</h2><p><strong>插入操作会根据这个自增长的计数器值加1赋予自增长列。这个实现方式称做 AUTO-INC Locking</strong></p>
<h2 id="6-3-5-外键和锁"><a href="#6-3-5-外键和锁" class="headerlink" title="6.3.5 外键和锁"></a>6.3.5 外键和锁</h2><ul>
<li>外键值的插入或更新，首先需要查询父表中的记录</li>
<li>对于父表的select操作，不是使用一致性非锁定读</li>
</ul>
<img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/18.jpg" class="" title="This is an 18 image">

<h1 id="6-4-锁的算法"><a href="#6-4-锁的算法" class="headerlink" title="6.4 锁的算法"></a>6.4 锁的算法</h1><h2 id="6-4-1-行锁的3中算法"><a href="#6-4-1-行锁的3中算法" class="headerlink" title="6.4.1 行锁的3中算法"></a>6.4.1 行锁的3中算法</h2><ul>
<li><p>Record Lock：单个行记录上的锁</p>
<ul>
<li>总会锁住索引记录</li>
<li>没有显示索引，会使用隐式的主键来进行锁定</li>
</ul>
</li>
<li><p>Gap Lock：间隙锁，锁定一个范围，但不包含记录本身</p>
</li>
<li><p>Next-Key Lock ：Gap Lock+Record Lock，锁定一个范围，并且锁定记录本身</p>
<ul>
<li>一个索引有10，11，13，20这四个值</li>
<li>（-∞，10）（10，11],(11,13],(13,20],(20,+∞)</li>
<li>当查询的索引含有唯一属性，会降级为Record Lock</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> t;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t (a <span class="built_in">int</span> primary <span class="keyword">key</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t <span class="keyword">select</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t <span class="keyword">select</span> <span class="number">2</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t <span class="keyword">select</span> <span class="number">5</span>;</span><br></pre></td></tr></table></figure>

<img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/10.jpg" class="" title="This is an 10 image">

<ul>
<li>当查询的索引是辅助索引时：</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> <span class="keyword">if</span> <span class="keyword">exists</span> z;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> z (a <span class="built_in">int</span> ,b <span class="built_in">int</span>,primary <span class="keyword">key</span>(a),<span class="keyword">key</span>(b));</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> z <span class="keyword">select</span> <span class="number">1</span>,<span class="number">1</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> z <span class="keyword">select</span> <span class="number">3</span>,<span class="number">1</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> z <span class="keyword">select</span> <span class="number">5</span>,<span class="number">3</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> z <span class="keyword">select</span> <span class="number">7</span>,<span class="number">6</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> z <span class="keyword">select</span> <span class="number">10</span>,<span class="number">8</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">  </span><br><span class="line">会话A：</span><br><span class="line">  </span><br><span class="line">  &#96;&#96;&#96;sql</span><br><span class="line">  select * from z where b&#x3D;3 for update;</span><br></pre></td></tr></table></figure>
<ul>
<li>对于聚集索引，其仅对列a等于5的索引加上Record Lock。</li>
</ul>
</li>
<li><p>对于辅助索引，其加上的时Next-Key Lock，锁定的范围是（1，3），下一个键值加上gap lock，还有一个辅助索引范围为（3，6）的锁。</p>
</li>
</ul>
<p>会话B：</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> z <span class="keyword">where</span> a=<span class="number">5</span> <span class="keyword">LOCK</span> <span class="keyword">IN</span> <span class="keyword">SHARE</span> <span class="keyword">MODE</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> z <span class="keyword">select</span> <span class="number">4</span>,<span class="number">2</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> z <span class="keyword">select</span> <span class="number">6</span>,<span class="number">5</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>第一个不能执行，会话A=5的值加上X锁，执行会被阻塞</li>
<li>第二个，主键插入4没问题，插入的辅助索引值2在锁定的范围（1，3），会被阻塞<ul>
<li>第三个，主键6没有锁定，5也不在范围（1，3），当时在另一个范围（3，6），会被阻塞</li>
</ul>
</li>
</ul>
<p>可以立即执行：</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> z <span class="keyword">select</span> <span class="number">8</span>,<span class="number">6</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> z <span class="keyword">select</span> <span class="number">2</span>,<span class="number">0</span>;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> z <span class="keyword">select</span> <span class="number">6</span>,<span class="number">7</span>;</span><br></pre></td></tr></table></figure>

<p><strong>会检查插入记录的下一条记录是否被锁定</strong></p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> z <span class="keyword">select</span> <span class="number">2</span>,<span class="number">2</span></span><br></pre></td></tr></table></figure>

<ul>
<li>会阻塞，因为在辅助索引列b上插入值为2的记录是，会监测到下一个记录3已经被索引</li>
</ul>
<p>关闭Gap Lock：</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> 事务隔离级别设置为READ COMMITTED<ul>
<li><input disabled="" type="checkbox"> innodb_locks_unsafe_for_binlog设置为1</li>
</ul>
</li>
</ul>
<p><strong>若唯一索引由多个列组成，查询使用其中一个，属于rang类型查询，依然使用Next-Key Lock，不会降级</strong></p>
<h2 id="6-4-2-解决Phantom-Problem（幻读）"><a href="#6-4-2-解决Phantom-Problem（幻读）" class="headerlink" title="6.4.2 解决Phantom Problem（幻读）"></a>6.4.2 解决Phantom Problem（幻读）</h2><p>Phantom Problem是指在同一个事务下，连续执行两次同样的SQL语句可能导致不同的结果，第二次的SQL语句可能会返回之前不存在的行。</p>
  <figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">root@MySQL-01 13:30:  [qinxi]&gt; select @@tx_isolation;</span><br><span class="line">+<span class="comment">-----------------+</span></span><br><span class="line">| @@tx_isolation  |</span><br><span class="line">+<span class="comment">-----------------+</span></span><br><span class="line">| REPEATABLE-READ |</span><br><span class="line">+<span class="comment">-----------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line"></span><br><span class="line">root@MySQL<span class="number">-01</span> <span class="number">13</span>:<span class="number">43</span>:  [qinxi]&gt; <span class="keyword">select</span> * <span class="keyword">from</span> t <span class="keyword">where</span> a&gt;<span class="number">2</span> <span class="keyword">for</span> <span class="keyword">update</span>;</span><br><span class="line">+<span class="comment">---+</span></span><br><span class="line">| a |</span><br><span class="line">+<span class="comment">---+</span></span><br><span class="line">| 5 |</span><br><span class="line">+<span class="comment">---+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<p><strong>锁住的不是5这单个值，而是对（2，-∞）这个范围加了X锁</strong></p>
<img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/11.jpg" class="" title="This is an 11 image">

<p><em>第4步时，显示以下内容：</em></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">  root@MySQL-01 14:08:  [information_schema]&gt; select * from innodb_trx\G;</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">                      trx_id: 42089795</span><br><span class="line">                   trx_state: <span class="keyword">LOCK</span> <span class="keyword">WAIT</span></span><br><span class="line">                 trx_started: <span class="number">2020</span><span class="number">-10</span><span class="number">-21</span> <span class="number">14</span>:<span class="number">08</span>:<span class="number">53</span></span><br><span class="line">       trx_requested_lock_id: <span class="number">42089795</span>:<span class="number">578</span>:<span class="number">4</span>:<span class="number">5</span></span><br><span class="line">            trx_wait_started: <span class="number">2020</span><span class="number">-10</span><span class="number">-21</span> <span class="number">14</span>:<span class="number">08</span>:<span class="number">53</span></span><br><span class="line">                  trx_weight: <span class="number">3</span></span><br><span class="line">         trx_mysql_thread_id: <span class="number">77</span></span><br><span class="line">                   trx_query: <span class="keyword">insert</span> <span class="keyword">into</span> z <span class="keyword">select</span> <span class="number">4</span>,<span class="number">4</span></span><br><span class="line">         trx_operation_state: inserting</span><br><span class="line">           trx_tables_in_use: <span class="number">1</span></span><br><span class="line">           trx_tables_locked: <span class="number">1</span></span><br><span class="line">            trx_lock_structs: <span class="number">2</span></span><br><span class="line">       trx_lock_memory_bytes: <span class="number">1136</span></span><br><span class="line">             trx_rows_locked: <span class="number">1</span></span><br><span class="line">           trx_rows_modified: <span class="number">1</span></span><br><span class="line">     trx_concurrency_tickets: <span class="number">0</span></span><br><span class="line">         trx_isolation_level: REPEATABLE <span class="keyword">READ</span></span><br><span class="line">           trx_unique_checks: <span class="number">1</span></span><br><span class="line">      trx_foreign_key_checks: <span class="number">1</span></span><br><span class="line">  trx_last_foreign_key_error: <span class="literal">NULL</span></span><br><span class="line">   trx_adaptive_hash_latched: <span class="number">0</span></span><br><span class="line">   trx_adaptive_hash_timeout: <span class="number">0</span></span><br><span class="line">            trx_is_read_only: <span class="number">0</span></span><br><span class="line">  trx_autocommit_non_locking: <span class="number">0</span></span><br><span class="line">  *************************** <span class="number">2.</span> <span class="keyword">row</span> ***************************</span><br><span class="line">                      trx_id: <span class="number">421218363488992</span></span><br><span class="line">                   trx_state: RUNNING</span><br><span class="line">                 trx_started: <span class="number">2020</span><span class="number">-10</span><span class="number">-21</span> <span class="number">14</span>:<span class="number">06</span>:<span class="number">52</span></span><br><span class="line">       trx_requested_lock_id: <span class="literal">NULL</span></span><br><span class="line">            trx_wait_started: <span class="literal">NULL</span></span><br><span class="line">                  trx_weight: <span class="number">2</span></span><br><span class="line">         trx_mysql_thread_id: <span class="number">78</span></span><br><span class="line">                   trx_query: <span class="literal">NULL</span></span><br><span class="line">         trx_operation_state: <span class="literal">NULL</span></span><br><span class="line">           trx_tables_in_use: <span class="number">0</span></span><br><span class="line">           trx_tables_locked: <span class="number">1</span></span><br><span class="line">            trx_lock_structs: <span class="number">2</span></span><br><span class="line">       trx_lock_memory_bytes: <span class="number">1136</span></span><br><span class="line">             trx_rows_locked: <span class="number">1</span></span><br><span class="line">           trx_rows_modified: <span class="number">0</span></span><br><span class="line">     trx_concurrency_tickets: <span class="number">0</span></span><br><span class="line">         trx_isolation_level: REPEATABLE <span class="keyword">READ</span></span><br><span class="line">           trx_unique_checks: <span class="number">1</span></span><br><span class="line">      trx_foreign_key_checks: <span class="number">1</span></span><br><span class="line">  trx_last_foreign_key_error: <span class="literal">NULL</span></span><br><span class="line">   trx_adaptive_hash_latched: <span class="number">0</span></span><br><span class="line">   trx_adaptive_hash_timeout: <span class="number">0</span></span><br><span class="line">            trx_is_read_only: <span class="number">0</span></span><br><span class="line">  trx_autocommit_non_locking: <span class="number">0</span></span><br><span class="line">  <span class="number">2</span> <span class="keyword">rows</span> <span class="keyword">in</span> <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">ERROR</span>: </span><br><span class="line">  <span class="keyword">No</span> <span class="keyword">query</span> specified</span><br><span class="line">  </span><br><span class="line">  root@MySQL<span class="number">-01</span> <span class="number">14</span>:<span class="number">08</span>:  [information_schema]&gt; <span class="keyword">select</span> * <span class="keyword">from</span> innodb_locks\G;</span><br><span class="line">  *************************** 1. row ***************************</span><br><span class="line">      lock_id: 42089795:578:4:5</span><br><span class="line">  lock_trx_id: 42089795</span><br><span class="line">    lock_mode: X,GAP</span><br><span class="line">    lock_type: RECORD</span><br><span class="line">   lock_table: `qinxi`.`z`</span><br><span class="line">   lock_index: b</span><br><span class="line">   lock_space: 578</span><br><span class="line">    lock_page: 4</span><br><span class="line">     lock_rec: 5</span><br><span class="line">    lock_data: 6, 7</span><br><span class="line">  *************************** 2. row ***************************</span><br><span class="line">      lock_id: 421218363488992:578:4:5</span><br><span class="line">  lock_trx_id: 421218363488992</span><br><span class="line">    lock_mode: S,GAP</span><br><span class="line">    lock_type: RECORD</span><br><span class="line">   lock_table: `qinxi`.`z`</span><br><span class="line">   lock_index: b</span><br><span class="line">   lock_space: 578</span><br><span class="line">    lock_page: 4</span><br><span class="line">     lock_rec: 5</span><br><span class="line">    lock_data: 6, 7</span><br><span class="line">  2 rows in <span class="keyword">set</span>, <span class="number">1</span> <span class="keyword">warning</span> (<span class="number">0.00</span> sec)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">ERROR</span>: </span><br><span class="line">  <span class="keyword">No</span> <span class="keyword">query</span> specified</span><br><span class="line">  </span><br><span class="line">  root@MySQL<span class="number">-01</span> <span class="number">14</span>:<span class="number">08</span>:  [information_schema]&gt; <span class="keyword">select</span> * <span class="keyword">from</span> innodb_lock_waits\G;</span><br><span class="line">  *************************** 1. row ***************************</span><br><span class="line">  requesting_trx_id: 42089795</span><br><span class="line">  requested_lock_id: 42089795:578:4:5</span><br><span class="line">    blocking_trx_id: 421218363488992</span><br><span class="line">   blocking_lock_id: 421218363488992:578:4:5</span><br><span class="line">  1 row in <span class="keyword">set</span>, <span class="number">1</span> <span class="keyword">warning</span> (<span class="number">0.00</span> sec)</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">ERROR</span>: </span><br><span class="line">  <span class="keyword">No</span> <span class="keyword">query</span> specified</span><br></pre></td></tr></table></figure>

<h1 id="6-5-锁问题"><a href="#6-5-锁问题" class="headerlink" title="6.5 锁问题"></a>6.5 锁问题</h1><p>  <strong>锁带来的问题：</strong></p>
<ul>
<li>脏读</li>
<li>不可重复读</li>
<li>丢失更新</li>
</ul>
<h2 id="6-5-1-脏读"><a href="#6-5-1-脏读" class="headerlink" title="6.5.1 脏读"></a>6.5.1 脏读</h2><p>  脏页和脏数据是不同的概念。</p>
<ul>
<li><p><strong>脏页</strong>指的是缓冲池中已经被修改的页，但是还没有刷新到新的磁盘中，数据库实例内存中的页和磁盘中的页的数据是不一致的，当然在刷新到磁盘之前，日志都已经被写入到了重做日志文件中。</p>
</li>
<li><p><strong>脏数据</strong>是指事务对缓冲池中行记录的修改，并且还没有被提交。</p>
<p>脏读指的就是在不同的事务下，当前事务可以读到另外事务未提交的数据。</p>
<img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/12.jpg" class="" title="This is an 12 image">

<img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/13.jpg" class="" title="This is an 13 image">

</li>
</ul>
<h2 id="6-5-2-不可重复读"><a href="#6-5-2-不可重复读" class="headerlink" title="6.5.2 不可重复读"></a>6.5.2 不可重复读</h2><p>  <strong>一个事务内两次读到的数据不一样</strong></p>
<p>  脏读是读到未提交的数据，而不可重复读督导的却是已经提交的数据</p>
  <img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/14.jpg" class="" title="This is an 14 image">

<h2 id="6-5-3-丢失更新"><a href="#6-5-3-丢失更新" class="headerlink" title="6.5.3 丢失更新"></a>6.5.3 丢失更新</h2><p>  <strong>一个事务的更新操作会被另一个事务的更新操作所覆盖，从而导致数据的不一致</strong></p>
  <img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/15.jpg" class="" title="This is an 15 image">

<h1 id="6-6-阻塞"><a href="#6-6-阻塞" class="headerlink" title="6.6 阻塞"></a>6.6 阻塞</h1><p>  <strong>一个事务中的锁需要等待另一个事务中的锁释放它所占用的资源，这就是阻塞，主要为了确保事务可以并发且则正常的运行</strong></p>
<ul>
<li>innodb_lock_wait_timeout （动态）用来控制等待的时间（默认是50S）</li>
<li>innodb_rollback_on_timeout （惊呆）是否等待超时时对进行中的事务进行回滚操作（默认是OFF，代表不回滚）</li>
</ul>
<h1 id="6-7-死锁"><a href="#6-7-死锁" class="headerlink" title="6.7 死锁"></a>6.7 死锁</h1><h2 id="6-7-1-死锁的概念"><a href="#6-7-1-死锁的概念" class="headerlink" title="6.7.1 死锁的概念"></a>6.7.1 死锁的概念</h2><p>  <strong>死锁是指两个或两个以上的事务在执行过程中，因争夺锁资源而造成的一种互相等待的现象</strong></p>
<p>  解决死锁：</p>
<ul>
<li>超时，两个事务互相等待时，一个等待时间超过设置的某一阈值时，其中一个事务回滚，另一个等待的事务就能继续进行</li>
<li>wait-for graph ⭐进行死锁检测<ul>
<li>锁的信息链表</li>
<li>事务等待链表</li>
</ul>
</li>
</ul>
<h2 id="6-7-2-死锁概率"><a href="#6-7-2-死锁概率" class="headerlink" title="6.7.2 死锁概率"></a>6.7.2 死锁概率</h2><ul>
<li>系统中事务的数量越多发生死锁的概率越大</li>
<li>每个事务操作的数量越多发生死锁的概率越大</li>
<li>操作数据的集合，越小发生死锁的概率越大</li>
</ul>
<h2 id="6-7-3-死锁的示例"><a href="#6-7-3-死锁的示例" class="headerlink" title="6.7.3 死锁的示例"></a>6.7.3 死锁的示例</h2><p>  <strong>死锁只存在于并发的情况</strong></p>
<p>  死锁错误提示：1213</p>
  <img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/16.jpg" class="" title="This is an 16 image">

  <img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC6%E7%AB%A0%E9%94%81/17.jpg" class="" title="This is an 17 image">

<h2 id="6-7-4-锁升级"><a href="#6-7-4-锁升级" class="headerlink" title="6.7.4 锁升级"></a>6.7.4 锁升级</h2><p>  <strong>锁升级是指当前锁的粒度降低</strong></p>
<p>  InnoDB根据每个事务访问的每个页对所进行管理的，采用的是位图的方式。</p>
]]></content>
      <categories>
        <category>MySQL技术内幕</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>第1章MySQL体系结构和存储引擎</title>
    <url>/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC1%E7%AB%A0MySQL%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%92%8C%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/</url>
    <content><![CDATA[<h1 id="1-1-定义数据库和实例"><a href="#1-1-定义数据库和实例" class="headerlink" title="1.1 定义数据库和实例"></a>1.1 定义数据库和实例</h1><ul>
<li>数据库是物理操作系统文件或其他形式文件类型的集合<ul>
<li>依照某种数据模型组织起来并存放于二级存储器中的数据集合</li>
</ul>
</li>
<li>实例是MySQL数据库由后台线程以及一个共享内存区组成<ul>
<li>是程序，位于用户与操作系统之间的一层数据库管理软件，用户对数据库数据的任何操作，包括数据库定义、数据查询、数据维护、数据库运行控制等都是在数据库实例下进行的，应用程序只有通过数据库实例才能和数据库打交道。</li>
</ul>
</li>
<li>MySQL数据库实例在系统上的表先就是一个进程</li>
<li>MySQL配置文件使用顺序<ul>
<li>配置文件中都有同一个参数，会以读取到的最后一个配置文件中的参数为准</li>
</ul>
</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mysql --help | grep my.cnf</span><br><span class="line">/etc/my.cnf /etc/mysql/my.cnf /usr/local/mysql/etc/my.cnf ~/.my.cnf</span><br></pre></td></tr></table></figure>

<h1 id="1-2-MySQL体系结构"><a href="#1-2-MySQL体系结构" class="headerlink" title="1.2 MySQL体系结构"></a>1.2 MySQL体系结构</h1><img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC1%E7%AB%A0MySQL%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%92%8C%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/1.jpg" class="" title="This is an 1 image">

<p>MySQL由以下几部分组成：</p>
<ul>
<li>连接池组件</li>
<li>管理服务和工具组件</li>
<li>SQL接口组件</li>
<li>查询分析器组件</li>
<li>优化器组件</li>
<li>缓冲组件</li>
<li>插件式存储引擎</li>
<li>物理文件</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">MySQL数据库区别于其他数据库的最重要的一个特点就是其插件式的表存储引擎</span><br><span class="line">存储引擎式基于表的，而不是数据库。</span><br></pre></td></tr></table></figure>

<h1 id="1-3-MySQL存储引擎"><a href="#1-3-MySQL存储引擎" class="headerlink" title="1.3 MySQL存储引擎"></a>1.3 MySQL存储引擎</h1><ul>
<li>用户可以根据MySQL预定义的存储引擎接口编写自己的存储引擎</li>
<li>MySQL官方手册的第16章给出了编写自定义存储引擎的过程</li>
</ul>
<h2 id="1-3-1-Innodb存储引擎"><a href="#1-3-1-Innodb存储引擎" class="headerlink" title="1.3.1 Innodb存储引擎"></a>1.3.1 Innodb存储引擎</h2><ul>
<li>主要面向在线事务处理（OLTP）的应用；</li>
<li>特点是行锁设计、支持外键，支持非锁定读，默认读取操作不会产生锁；</li>
<li>数据库5.5.8版本开始，为默认的存储引擎；</li>
<li>数据放在一个逻辑的表空间中，自身进行管理；</li>
<li>使用多版本并发控制（MVCC）来获得高并发性，实现SQL标准的4种隔离级别，默认为REPEATABLE级别；</li>
<li>使用next-key locking 的策略来避免幻读（phantom）；</li>
<li>提供插入缓冲（insert buffer），二次写（double write）、自适应哈希索引（adaptive hash index）、预读（read ahead）</li>
<li>表中数据的存储，采用了聚集（clustered）的方式，每张表的存储都是按主键的顺序进行存放。表定义时没有指定注定，会为每一行生成一个6字节的ROWID，并以此做为主键。</li>
</ul>
<h2 id="1-3-2-MyISAM存储引擎"><a href="#1-3-2-MyISAM存储引擎" class="headerlink" title="1.3.2 MyISAM存储引擎"></a>1.3.2 MyISAM存储引擎</h2><ul>
<li>不支持事务、表锁设计、支持全文索引</li>
<li>缓冲池只缓冲索引文件、而不缓冲数据文件</li>
</ul>
<h2 id="1-3-3-NDB存储引擎"><a href="#1-3-3-NDB存储引擎" class="headerlink" title="1.3.3 NDB存储引擎"></a>1.3.3 NDB存储引擎</h2><ul>
<li>集群存储引擎，结构式share nothing的集群架构，因此能提供更高的可用性</li>
<li>特点是数据全部放在内存中</li>
<li>连接操作（JOIN）是在MySQL数据库层完成的。复杂的连接操作需要巨大的网络开销，因此查询速度很慢。</li>
</ul>
<h2 id="1-3-4-Memory存储引擎"><a href="#1-3-4-Memory存储引擎" class="headerlink" title="1.3.4 Memory存储引擎"></a>1.3.4 Memory存储引擎</h2><ul>
<li>表中的数据存放在内存中，如果数据库重启或发生崩溃，表中的数据都将消失</li>
<li>默认使用哈希索引</li>
<li>适用于存储临时数据的临时表和数据仓库中的纬度表</li>
<li>默认使用哈希索引</li>
</ul>
<h2 id="1-3-5-Archive存储引擎"><a href="#1-3-5-Archive存储引擎" class="headerlink" title="1.3.5 Archive存储引擎"></a>1.3.5 Archive存储引擎</h2><ul>
<li>只支持INSERT和SELECT操作</li>
<li>适合存储归档数据：如日志信息</li>
<li>使用行锁实现高并发的插入操作</li>
<li>设计目标主要是提供高速的插入和压缩功能</li>
</ul>
<h1 id="1-4-各存储引擎之间的比较"><a href="#1-4-各存储引擎之间的比较" class="headerlink" title="1.4 各存储引擎之间的比较"></a>1.4 各存储引擎之间的比较</h1><img src="/2020/10/20/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC1%E7%AB%A0MySQL%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84%E5%92%8C%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/2.jpg" class="" title="This is an 2 image">

<h1 id="1-5-连接MySQL"><a href="#1-5-连接MySQL" class="headerlink" title="1.5 连接MySQL"></a>1.5 连接MySQL</h1><ul>
<li>TCP/IP<ul>
<li>任何平台下都提供的连接方式</li>
</ul>
</li>
<li>命名管道和共享内存</li>
<li>UNIX域套接字</li>
</ul>
<h1 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h1><p>为什么MySQL数据库不支持全文索引?</p>
<ul>
<li>不！MySQL支持，MyISAM，InnoDB（1.2版本）和Sphinx存储引擎都支持全文索引</li>
</ul>
<p>MySQL数据库速度快是因为不支持事务？</p>
<ul>
<li>错！虽然MySQL的MyISAM存储引擎不支持事务，但是InnoDB支持。</li>
</ul>
<p>当表的数据量大于1000万时MySQL的性能会急剧下降吗？</p>
<ul>
<li>不！MySQL数据库，不是文件，随着数据行数的增加，性能当然会有所下降，但是这些下降不是线性的，如果用户选择了正确的存储引擎，以及正确的配置，再多的数据量MySQL也能承受。</li>
</ul>
]]></content>
      <categories>
        <category>MySQL技术内幕</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>第2章InnoDB存储引擎</title>
    <url>/2020/10/19/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC2%E7%AB%A0InnoDB%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/</url>
    <content><![CDATA[<p><strong>章节目标</strong></p>
<ul>
<li>了解InnoDB存储引擎的历史</li>
<li>了解InnoDB存储引擎的体系结构（包括后台线程和内存结构）</li>
<li>了解InnoDB存储引擎的关键特性</li>
<li>了解启动和关闭MySQL时一些文职文件参数对InnoDB存储引擎的影响</li>
</ul>
<h1 id="2-1-InnoDB存储引擎概述"><a href="#2-1-InnoDB存储引擎概述" class="headerlink" title="2.1 InnoDB存储引擎概述"></a>2.1 InnoDB存储引擎概述</h1><ul>
<li>第一个完整支持ACID事务的MySQL存储引擎</li>
<li>特点式行锁设计、支持MVCC、支持外键、提供一致性非锁定读</li>
<li>高性能、高可用、高可扩展的存储引擎</li>
</ul>
<h1 id="2-2-InnoDB存储引擎的版本"><a href="#2-2-InnoDB存储引擎的版本" class="headerlink" title="2.2 InnoDB存储引擎的版本"></a>2.2 InnoDB存储引擎的版本</h1><img src="/2020/10/19/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC2%E7%AB%A0InnoDB%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/1.jpg" class="" title="This is an 1 image">

<h1 id="2-3-InnoDB体系架构"><a href="#2-3-InnoDB体系架构" class="headerlink" title="2.3 InnoDB体系架构"></a>2.3 InnoDB体系架构</h1><p><em>InnoDB的存储引擎的体系架构：</em></p>
<img src="/2020/10/19/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC2%E7%AB%A0InnoDB%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/2.jpg" class="" title="This is an 2 image">

<ul>
<li>多个内存块组成了一个大的内存池负责以下工作：<ul>
<li>维护所有进程/线程需要访问的多个内存数据结构</li>
<li>缓存磁盘上的数据，方便快速地获取，同时在对磁盘文件的数据修改之前在这里缓存</li>
<li>重做日志缓冲</li>
</ul>
</li>
<li>后台线程负责以下工作：<ul>
<li>刷新内存池中的数据</li>
<li>保证缓冲池中的内存缓存的是最近的数据</li>
<li>将已修改的数据文件刷新到磁盘文件</li>
<li>保证在数据库发生异常的情况下InnoDB能恢复到正常运行状态</li>
</ul>
</li>
</ul>
<h2 id="2-3-1-后台线程"><a href="#2-3-1-后台线程" class="headerlink" title="2.3.1 后台线程"></a>2.3.1 后台线程</h2><p>InnoDB存储引擎是多线程的模型，后台有多个不同的后台线程。</p>
<p>1.Master Thread</p>
<ul>
<li>主要负责将缓冲池中的数据异步刷新到磁盘，保证数据的一致性。</li>
<li>脏页的刷新、合并插入缓冲、UNDO页的回收等。</li>
</ul>
<p>2.IO Thread</p>
<ul>
<li>主要负责IO请求的回调处理。（InnoDB存储引擎中大量使用了AIO来处理IO请求）</li>
<li>共有4种IO Thread，分别是write、read、insert buffer和log IO thread。<ul>
<li>1.0版本共有4个，1.0.x版本开始write、read分别增大到了4个</li>
<li>读线程的ID总是小于写线程</li>
</ul>
</li>
</ul>
<p>3.Purge Thread</p>
<ul>
<li>回收已经使用并分配的undo页<ul>
<li>1.1版本之前，purge操作仅在InnoDB存储引擎的Master Thread来完成。</li>
<li>1.1版本开始，purge操作可以独立到单独的线程中进行，减轻Master Thread的工作，从而提高CPU的使用率以及提升存储引擎的性能。</li>
<li>1.2版本开始，InnoDB支持多个Purge Thread，这样做的目的是为了进一步加快undo页的回收。<ul>
<li>离散地去读undo页，利用磁盘的随机读取性能。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>4.Page cleaner Thread</p>
<ul>
<li>将之前版本中的脏页刷新操作都放入到单独的线程中完成</li>
<li>减轻原Master Thread的工作及对于用户查询线程的阻塞</li>
</ul>
<h2 id="2-3-2-内存"><a href="#2-3-2-内存" class="headerlink" title="2.3.2 内存"></a>2.3.2 内存</h2><p>1.缓冲池</p>
<p>InnoDB存储引擎是基于磁盘存储的，并将其中的记录按照页的方式进行管理。</p>
<p>缓冲池就是一块内存区域，通过内存的速度来民不磁盘速度较慢对数据库性能的影响。</p>
<ul>
<li>在数据库中进行读取页的操作<ul>
<li>首先将从磁盘读到的页存放在缓冲池中</li>
<li>下一次再读相同的页时，首先判断该页是否在缓冲池中。</li>
<li>若再缓冲池中，称该页再缓冲池中被命中，直接读取该页。否则，读取磁盘上的页。</li>
</ul>
</li>
<li>在数据库中页的修改操作<ul>
<li>首先修改在缓冲池中的页</li>
<li>再以一定的频率刷新到磁盘上</li>
<li>页从缓冲池刷新回磁盘的操作并不是在每次页发生更新时触发，而是通过一种称为Checkpoint的机制刷新回磁盘。</li>
</ul>
</li>
</ul>
<p><strong>缓冲池的大小直接影响这数据库的整体性能。</strong></p>
<img src="/2020/10/19/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC2%E7%AB%A0InnoDB%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/3.jpg" class="" title="This is an 3 image">

<p>缓冲池中缓存的数据页类型有：</p>
<ul>
<li>索引页</li>
<li>数据页</li>
<li>undo页</li>
<li>插入缓冲</li>
<li>自适应哈希索引</li>
<li>InnoDB存储的锁信息</li>
<li>数据字典信息</li>
</ul>
<p>2.LRU List、Free List和Flush List</p>
<p>数据库中的缓冲池是通过LRU（Latest Recent Used，最近最少使用）算法来进行管理的。</p>
<p>最频繁使用的页在LRU列表的前端，而最少使用的页在LRU列表的尾端。</p>
<ul>
<li>InnoDB对传统的LRU算法做了一些优化<ul>
<li>加入了midpoint位置，该位置在LRU列表长度的5/8处</li>
<li>新读取的页插入到LRU列表尾端的37%的位置（innodb_old_blocks_pct）</li>
<li>midpoint之后的列表称为old列表，之前的列表称为new列表</li>
<li>页读取到mid位置后需要等待多久才会被加入到LRU列表的热端（innodb_old_blocks_time）</li>
</ul>
</li>
</ul>
<p>3.重做日志缓冲</p>
<p><strong>InnoDB存储引擎：</strong></p>
<ul>
<li>首先将重做日志信息先放入到缓冲区</li>
<li>按一定频率将其刷新到重做日志文件</li>
<li>一般情况下每一秒钟会将重做日志缓冲刷新到日志文件</li>
<li>只需要保证每秒产生的事务量在这个缓冲大小之内即可</li>
</ul>
<p><strong>重做日志缓冲中的内容刷新到外部磁盘的重做日志文件中：</strong></p>
<ul>
<li>Master Thread 每一秒将重做日志缓冲刷新到重做日志文件</li>
<li>每个事务提交时会将重做日志缓冲刷新到重做日志文件</li>
<li>当重做日志缓冲池剩余空间小于1/2时，重做日志缓冲刷新到重做日志文件</li>
</ul>
<p>4.额外的内存池</p>
<p>申请了很大的Innodb缓冲池时，也应考虑相应地增加这个值。</p>
<h1 id="2-4-Checkpoint技术"><a href="#2-4-Checkpoint技术" class="headerlink" title="2.4 Checkpoint技术"></a>2.4 Checkpoint技术</h1><p><strong>Checkpoint技术的目的时解决以下几个问题：</strong></p>
<ul>
<li>缩短数据库的恢复时间</li>
<li>缓冲池不够用时，将脏页刷新到磁盘</li>
<li>重做日志不可用时，刷新脏页</li>
</ul>
<p><strong>两种Checkpoint：</strong></p>
<ul>
<li><p>Sharp Checkpoint</p>
<ul>
<li>发生数据库关闭时将所有的脏页都刷新回磁盘，innodb_fast_shutdown=1</li>
<li>数据库运行时使用，数据库可用性会收到很大的影响</li>
</ul>
</li>
<li><p>Fuzzy Checkpoint</p>
<ul>
<li>刷新一部分脏页</li>
<li>Master Thread Checkpoint</li>
<li>FLUSH_LRU_LIST Checkpoint</li>
<li>Async/Sync Flush Checkpoint</li>
<li>Dirty Page too much Checkpoint</li>
</ul>
</li>
</ul>
<h1 id="2-5-Master-Thread-工作方式"><a href="#2-5-Master-Thread-工作方式" class="headerlink" title="2.5 Master Thread 工作方式"></a>2.5 Master Thread 工作方式</h1><h2 id="2-5-1-InnoDB1-0-X-版本之前的Master-Thread"><a href="#2-5-1-InnoDB1-0-X-版本之前的Master-Thread" class="headerlink" title="2.5.1 InnoDB1.0.X 版本之前的Master Thread"></a>2.5.1 InnoDB1.0.X 版本之前的Master Thread</h2><p>  Master Thread具有最高的线程优先级别</p>
<p>  其内部由多个循环（loop）组成：主循环（loop）、后台循环（backgroup loop）、刷新循环（flush loop）、暂停循环（suspend loop）</p>
<p><em>主循环（loop）</em></p>
<p>  <strong>每秒一次的操作包括</strong></p>
<ul>
<li>日志缓冲刷新到磁盘，及时这个事务还没有提交（总是）</li>
<li>合并插入缓冲（可能）</li>
<li>至多刷新100个InnoDB的缓冲池中的脏页到磁盘（可能）</li>
<li>如果当前没有用户活动，则切换到backgroup loop（可能）</li>
</ul>
<p>  <strong>即使某个事务还没有提交，InnoDB存储引擎仍然每秒会将重做日志缓冲中的内容刷新到重做日志文件。</strong></p>
<p>  合并插入缓冲并不是每秒都会发生的。会判断当前一秒内发生的IO次数是否小于5次，如果小于5次，InnoDB认为当前的IO压力很小，可以执行合并插入缓冲的操作。</p>
<p>  <strong>每10秒的操作包括</strong></p>
<ul>
<li>刷新100个脏页到磁盘（可能的情况下）</li>
<li>合并至多5个插入缓冲（总是）</li>
<li>将日志缓冲刷新到磁盘（总是）</li>
<li>删除无用的Undo页（总是）</li>
<li>刷新100个或者10个脏页到磁盘（总是）<ul>
<li>超过70%的脏页，刷新100个脏页到磁盘</li>
<li>小于70%，只需刷新10%的脏页到磁盘</li>
</ul>
</li>
</ul>
<p>  <strong>会判断过去10秒之内磁盘的IO操作是否小于200次，如果是，认为有足够磁盘IO操作能力，因此将100个脏页刷新到磁盘。接着，InnoDB存储引擎会合并插入缓冲</strong></p>
<p><em>后台循环（backgroup loop）</em></p>
<p><strong>若当前没有用户活动（数据库空闲时）或者数据库关闭（shutdown），就会切换到这个循环</strong></p>
<ul>
<li>删除无用的undo也（总是）</li>
<li>合并20个插入缓冲（总是）</li>
<li>跳回到主循环（总是）</li>
<li>不断刷新100个页直到符合条件（可能，跳转到flush loop中完成）</li>
</ul>
<h2 id="2-5-2-InnoDB1-2-x版本之前的Master-Thread"><a href="#2-5-2-InnoDB1-2-x版本之前的Master-Thread" class="headerlink" title="2.5.2 InnoDB1.2.x版本之前的Master Thread"></a>2.5.2 InnoDB1.2.x版本之前的Master Thread</h2><ul>
<li>innodb_io_capacity，表示磁盘IO的吞吐量，默认值为200</li>
<li>刷新到磁盘页的数量，会按照innodb_io_capacity的百分比来进行控制<ul>
<li>在合并插入缓冲时，合并插入缓冲的数量为innodb_io_capacity值的5%</li>
<li>在从缓冲区刷新脏页时，刷新脏页的数量为innodb_io_capacity</li>
</ul>
</li>
<li>innodb_adaptive_flushing(自适应刷新)<ul>
<li>通过判断产生重做日志（redo log）的速度来决定最合适的刷新脏页数量。</li>
</ul>
</li>
<li>innodb_purge_batch_size(动态)，控制最多回收undo页数量</li>
</ul>
<h2 id="2-5-3-InnoDB1-2-x版本的Master-Thread"><a href="#2-5-3-InnoDB1-2-x版本的Master-Thread" class="headerlink" title="2.5.3 InnoDB1.2.x版本的Master Thread"></a>2.5.3 InnoDB1.2.x版本的Master Thread</h2><p>刷新脏页的操作，从Master Thread线程分离到一个单独的Page Cleaner Thread，提高了系统的并发性。</p>
<h1 id="2-6-InnoDB关键特性"><a href="#2-6-InnoDB关键特性" class="headerlink" title="2.6 InnoDB关键特性"></a>2.6 InnoDB关键特性</h1><ul>
<li>插入缓冲（Insert Buffer）</li>
<li>两次写（Double Wirte）</li>
<li>自适应哈希索引（Adaptive Hash Index）</li>
<li>异步IO（Async IO）</li>
<li>刷新邻接页（Flush Neighbor Page）</li>
</ul>
<h2 id="2-6-1-插入缓冲"><a href="#2-6-1-插入缓冲" class="headerlink" title="2.6.1 插入缓冲"></a>2.6.1 插入缓冲</h2><p>1.Insert Buffer</p>
<ul>
<li>索引是辅助索引（secondary index）</li>
<li>索引不是唯一（unique）的</li>
</ul>
<p>2.Change Buffer</p>
<p>对一条记录进行update操作可能分为两个过程：</p>
<ul>
<li>将记录标记为已删除</li>
<li>真正将记录删除</li>
</ul>
<p>3.Insert Buffer的内部实现</p>
<p>【待完善，没弄明白】</p>
<p>4.Merge Insert Buffer</p>
<ul>
<li>辅助索引页被读取到缓冲池时</li>
<li>Insert Buffer Bitmap页最总到该辅助索引页已无可用空间时</li>
<li>Master Thread</li>
</ul>
<h2 id="2-6-2-两次写"><a href="#2-6-2-两次写" class="headerlink" title="2.6.2 两次写"></a>2.6.2 两次写</h2><img src="/2020/10/19/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E7%AC%AC2%E7%AB%A0InnoDB%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E/4.jpg" class="" title="This is an 4 image">

<p><em>在应用重做日志前，用户需要一个页的副本，当写入失效发生时，先通过页的副本来还原该页，再进行重做，这就是doublewrite</em></p>
<ul>
<li>innodb_dblwr_pages_written 统计生产环境写入的量</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">root@MySQL-01 17:58:  [(none)]&gt; show global status like 'innodb_dblwr%'\G;</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">Variable_name: Innodb_dblwr_pages_written</span><br><span class="line">        Value: 831</span><br><span class="line">*************************** 2. row ***************************</span><br><span class="line">Variable_name: Innodb_dblwr_writes</span><br><span class="line">        Value: 294</span><br><span class="line">2 rows in <span class="keyword">set</span> (<span class="number">0.18</span> sec)</span><br><span class="line"></span><br><span class="line"><span class="comment">--Innodb_dblwr_pages_written:Innodb_dblwr_writes远小于64：1，说明系统写入压力并不是很高。</span></span><br></pre></td></tr></table></figure>

<h2 id="2-6-3-自适应哈希索引"><a href="#2-6-3-自适应哈希索引" class="headerlink" title="2.6.3 自适应哈希索引"></a>2.6.3 自适应哈希索引</h2><p>B+树的高度一般为3<del>4层，故需要3</del>4次的查询</p>
<h2 id="2-6-4-异步IO"><a href="#2-6-4-异步IO" class="headerlink" title="2.6.4 异步IO"></a>2.6.4 异步IO</h2><ul>
<li>innodb_use_native_aio控制Native AIO是否启用</li>
<li>Mac OSX系统不提供Native AIO</li>
<li>内核级别AIO的支持，需要libaio库的支持</li>
</ul>
<h2 id="2-6-5-刷新邻接页"><a href="#2-6-5-刷新邻接页" class="headerlink" title="2.6.5 刷新邻接页"></a>2.6.5 刷新邻接页</h2><ul>
<li>当刷新一个脏页时，InnoDB存储引擎会检测该页所在区（extent）的所有页，如果时脏页，那么一起进行刷新。</li>
<li>innodb_flush_neighbors 控制是否启用该特性</li>
<li>固态硬盘超高IOPS性能，建议<strong>关闭</strong>此特性</li>
</ul>
<h1 id="2-7-启动、关闭与恢复"><a href="#2-7-启动、关闭与恢复" class="headerlink" title="2.7 启动、关闭与恢复"></a>2.7 启动、关闭与恢复</h1><ul>
<li>innodb_fast_shutdown<ul>
<li>0表示完成所有的full purge 和merge insert buffer，并且将所有的脏页刷新回磁盘。</li>
<li>1默认值，不需要完成full purge 和merge insert buffer，一些数据脏页还是会刷新回磁盘</li>
<li>2不完成full purge 和merge insert buffer，不将数据脏页还是回刷新回磁盘，而是将日志写入日志文件，下次启动时会进行恢复操作</li>
</ul>
</li>
<li>innodb_force_recovery<ul>
<li>大于0后，用户可以对表进行select、create、drop操作，但是insert、update、delete这类DML操作不允许</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>MySQL技术内幕</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>为什么我要读这本书</title>
    <url>/2020/10/16/MySQL%E6%8A%80%E6%9C%AF%E5%86%85%E5%B9%95/%E4%B8%BA%E4%BB%80%E4%B9%88%E6%88%91%E8%A6%81%E8%AF%BB%E8%BF%99%E6%9C%AC%E4%B9%A6/</url>
    <content><![CDATA[<div class="note info">
            <p>当处理问题时，想知道背后的原因。只有真正理解了内部实现原理、体系结构，才能更好地使用。任何时候Why都比What重要。</p>
          </div>

<div class="note info">
            <p>不要相信任何的“神话”，学会自己思考；<br>不要墨守成规，大部分人都指导的事情可能是错误的；<br>不要相信网上的传言，去测试，根据自己的实践做出决定；<br>花时间充分地思考，敢于提出质疑。</p>
          </div>

<div class="note info">
            <p>看完本书，我将知道InnoDB存储引擎时如何工作的，它的关键特性的功能核作用是什么，以及如何正确配置和使用这些特性。</p>
          </div>

<p><strong>目录章节</strong></p>
<div class="note info">
            <p>第1章 MySQL体系结构和存储引擎 ★★★<br>第2章 InnoDB存储引擎 ★★★<br>第3章 文件 ★★<br>第4章 表 ★★<br>第5章 索引与算法 ★★★<br>第6章 锁 ★★★<br>第7章 事务 ★★★<br>第8藏 备份与恢复 ★<br>第9章 性能调优 ★<br>第10章 InnoDB存储引擎源代码的编译和调试</p>
          </div>








]]></content>
      <categories>
        <category>MySQL技术内幕</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Oracle时间函数详解</title>
    <url>/2020/09/27/Oracle/Oracle%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/</url>
    <content><![CDATA[<table>
<thead>
<tr>
<th>函数名</th>
<th>函数详解</th>
</tr>
</thead>
<tbody><tr>
<td>current_timestamp</td>
<td>返回当前会话时区中的当前日期:以timestamp with time zone数据类型</td>
</tr>
<tr>
<td>current_date</td>
<td>返回当前会话时区中的当前日期</td>
</tr>
<tr>
<td>SYSDATE</td>
<td>函数可以得到目前系统的时间</td>
</tr>
<tr>
<td>localtimestamp</td>
<td>返回会话中的日期和时间</td>
</tr>
<tr>
<td>dbtimezone</td>
<td>返回时区</td>
</tr>
<tr>
<td>SESSIONTIMEZONE</td>
<td>返回会话时区</td>
</tr>
<tr>
<td>systimestamp</td>
<td></td>
</tr>
</tbody></table>
<p>测试：</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">SQL&gt; alter session set NLS_DATE_FORMAT='DD-MON-YYYY HH24:MI:SS';</span><br><span class="line"></span><br><span class="line">Session altered.</span><br><span class="line"></span><br><span class="line">SQL&gt; select current_timestamp,localtimestamp,sysdate,systimestamp from dual;</span><br><span class="line"></span><br><span class="line">CURRENT_TIMESTAMP</span><br><span class="line"><span class="comment">---------------------------------------------------------------------------</span></span><br><span class="line">LOCALTIMESTAMP</span><br><span class="line"><span class="comment">---------------------------------------------------------------------------</span></span><br><span class="line">SYSDATE</span><br><span class="line"><span class="comment">--------------------</span></span><br><span class="line">SYSTIMESTAMP</span><br><span class="line"><span class="comment">---------------------------------------------------------------------------</span></span><br><span class="line">27-SEP-20 03.42.56.895320 PM +08:00</span><br><span class="line">27-SEP-20 03.42.56.895320 PM</span><br><span class="line">27-SEP-2020 15:42:56</span><br><span class="line">27-SEP-20 03.42.56.895316 PM +08:00</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SQL&gt; alter session set time_zone='-5:00';</span><br><span class="line"></span><br><span class="line">Session altered.</span><br><span class="line"></span><br><span class="line">SQL&gt; select current_timestamp,localtimestamp,sysdate,systimestamp from dual;</span><br><span class="line"></span><br><span class="line">CURRENT_TIMESTAMP</span><br><span class="line"><span class="comment">---------------------------------------------------------------------------</span></span><br><span class="line">LOCALTIMESTAMP</span><br><span class="line"><span class="comment">---------------------------------------------------------------------------</span></span><br><span class="line">SYSDATE</span><br><span class="line"><span class="comment">--------------------</span></span><br><span class="line">SYSTIMESTAMP</span><br><span class="line"><span class="comment">---------------------------------------------------------------------------</span></span><br><span class="line">27-SEP-20 02.43.39.911368 AM -05:00</span><br><span class="line">27-SEP-20 02.43.39.911368 AM</span><br><span class="line">27-SEP-2020 15:43:39</span><br><span class="line">27-SEP-20 03.43.39.911363 PM +08:00</span><br></pre></td></tr></table></figure>



<ul>
<li>current_timestamp</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">oracle函数 current_timestamp</span><br><span class="line">【功能】：以timestamp with time zone数据类型返回当前会话时区中的当前日期</span><br><span class="line"></span><br><span class="line">【参数】：没有参数，没有括号</span><br><span class="line"></span><br><span class="line">【返回】：日期</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">SQL&gt; select current_timestamp from dual;</span><br><span class="line"></span><br><span class="line">CURRENT_TIMESTAMP</span><br><span class="line">---------------------------------------------------------------------------</span><br><span class="line">27-SEP-20 10.30.57.999511 AM +08:00</span><br></pre></td></tr></table></figure>


<ul>
<li>current_date</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">oracle函数 current_date</span><br><span class="line">【功能】：返回当前会话时区中的当前日期</span><br><span class="line"></span><br><span class="line">【参数】：没有参数，没有括号</span><br><span class="line"></span><br><span class="line">【返回】：日期</span><br><span class="line"></span><br><span class="line">SQL&gt; select current_date from dual;</span><br><span class="line"></span><br><span class="line">CURRENT_D</span><br><span class="line">---------</span><br><span class="line">27-SEP-20</span><br></pre></td></tr></table></figure>

<ul>
<li>sysdate</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">SYSDATE函数可以得到目前系统的时间，例如：</span><br><span class="line">SQL&gt; select sysdate from dual;</span><br><span class="line"></span><br><span class="line">SYSDATE</span><br><span class="line"><span class="comment">---------</span></span><br><span class="line">27-SEP-20</span><br></pre></td></tr></table></figure>

<ul>
<li>localtimestamp</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">【功能】：返回会话中的日期和时间</span><br><span class="line"></span><br><span class="line">【参数】：没有参数，没有括号</span><br><span class="line"></span><br><span class="line">【返回】：日期</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">SQL&gt; select localtimestamp from dual;</span><br><span class="line"></span><br><span class="line">LOCALTIMESTAMP</span><br><span class="line"><span class="comment">---------------------------------------------------------------------------</span></span><br><span class="line">27-SEP-20 10.42.36.829529 AM</span><br></pre></td></tr></table></figure>

<ul>
<li>dbtimezone</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">【功能】：返回时区</span><br><span class="line"></span><br><span class="line">【参数】：没有参数，没有括号</span><br><span class="line"></span><br><span class="line">【返回】：字符型</span><br><span class="line"></span><br><span class="line">SQL&gt; select dbtimezone from dual;</span><br><span class="line"></span><br><span class="line">DBTIME</span><br><span class="line"><span class="comment">------</span></span><br><span class="line">+00:00</span><br></pre></td></tr></table></figure>

<ul>
<li>sessiontimezone</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">【功能】：返回会话时区</span><br><span class="line"></span><br><span class="line">【参数】：没有参数，没有括号</span><br><span class="line"></span><br><span class="line">【返回】：字符型</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">【示例】<span class="keyword">select</span> <span class="keyword">dbtimezone</span>,SESSIONTIMEZONE <span class="keyword">from</span> dual;</span><br><span class="line"></span><br><span class="line">返回:+00:00   +08:00</span><br></pre></td></tr></table></figure>

<ul>
<li>systimestamp</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">SQL&gt; select current_timestamp,systimestamp from dual;</span><br><span class="line"></span><br><span class="line">CURRENT_TIMESTAMP</span><br><span class="line"><span class="comment">---------------------------------------------------------------------------</span></span><br><span class="line">SYSTIMESTAMP</span><br><span class="line"><span class="comment">---------------------------------------------------------------------------</span></span><br><span class="line">27-SEP-20 10.49.23.885829 AM +08:00</span><br><span class="line">27-SEP-20 10.49.23.885806 AM +08:00</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Oracle</category>
      </categories>
      <tags>
        <tag>Oracle 12C</tag>
        <tag>OCP</tag>
      </tags>
  </entry>
  <entry>
    <title>Oracle单行函数详解</title>
    <url>/2020/09/24/Oracle/Oracle%E5%8D%95%E8%A1%8C%E5%87%BD%E6%95%B0%E8%AF%A6%E8%A7%A3/</url>
    <content><![CDATA[<table>
<thead>
<tr>
<th>函数名</th>
<th>函数详解</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>FLOOR</td>
<td>返回小于等于n的最大整数值</td>
<td>floor(n)</td>
</tr>
<tr>
<td>CEIL</td>
<td>返回大于等于数值n的最小整数值</td>
<td>ceil(n)，n是字符也可以</td>
</tr>
<tr>
<td>CONCAT</td>
<td>用于将两个字符串连接在一起</td>
<td>CONCAT( string1, string2 )</td>
</tr>
<tr>
<td>INSTR</td>
<td>字符查找函数位置</td>
<td></td>
</tr>
<tr>
<td>SUBSTR</td>
<td>截取字符指定段</td>
<td></td>
</tr>
<tr>
<td>INITCAP</td>
<td>首字母变为大写</td>
<td></td>
</tr>
<tr>
<td>MOD</td>
<td>返回m除以n的余数，如果n是0，返回m</td>
<td>mod(m,n)</td>
</tr>
<tr>
<td>trunc</td>
<td>TRUNC()函数在截取时不进行四舍五入，直接截取；如果Num_digits为正数，则截取小数点后Num_digits位；如果为负数，则先保留整数部分，然后从个位开始向前数，并将遇到的数字都变为0。</td>
<td>RUNC（number,num_digits）</td>
</tr>
<tr>
<td>round</td>
<td>和trunc函数不同，对截取的数字要四舍五入。如果为负数则表示从小数点开始左边的位数，相应整数数字用0填充，小数被去掉。</td>
<td></td>
</tr>
</tbody></table>
<ul>
<li>FLOOR</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">【功能】返回小于等于x的最大整数值</span><br><span class="line"></span><br><span class="line">【参数】x，数字型表达式</span><br><span class="line"></span><br><span class="line">【返回】数字</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SQL&gt; select floor(3.1),floor(3.6),floor(2.8+1.3),floor(0),floor(-1.5) from dual;</span><br><span class="line"></span><br><span class="line">FLOOR(3.1) FLOOR(3.6) FLOOR(2.8+1.3)   FLOOR(0) FLOOR(-1.5)</span><br><span class="line">---------- ---------- -------------- ---------- -----------</span><br><span class="line">	 3	    3		   4	      0 	 -2</span><br><span class="line">	 </span><br><span class="line">SQL&gt; select floor(3.1),floor(&#39;3.1&#39;),ceil(3.1),ceil(&#39;3.1&#39;) from dual;</span><br><span class="line"></span><br><span class="line">FLOOR(3.1) FLOOR(&#39;3.1&#39;)  CEIL(3.1) CEIL(&#39;3.1&#39;)</span><br><span class="line">---------- ------------ ---------- -----------</span><br><span class="line">	 3	      3 	 4	     4</span><br></pre></td></tr></table></figure>

<ul>
<li>CONCAT</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CONCAT(&#39;Oraok&#39;, &#39;.com&#39;)</span><br><span class="line">-- Result: &#39;Oraok.com&#39;</span><br><span class="line"></span><br><span class="line">CONCAT(&#39;a&#39;, &#39;b&#39;)</span><br><span class="line">-- Result: &#39;ab&#39;</span><br><span class="line"></span><br><span class="line">SELECT CONCAT(CONCAT(&#39;A&#39;, &#39;B&#39;),&#39;C&#39;)</span><br><span class="line">FROM dual;</span><br><span class="line">-- Result: &#39;ABC&#39;</span><br><span class="line"></span><br><span class="line">SQL&gt; SELECT CONCAT(&#39;Let&#39;&#39;s&#39;, &#39; learn Oracle&#39;) FROM dual;</span><br><span class="line"></span><br><span class="line">CONCAT(&#39;LET&#39;&#39;S&#39;,&#39;L</span><br><span class="line">------------------</span><br><span class="line">Let&#39;s learn Oracle</span><br><span class="line">由于参数包含在单引号中，因此在引号内使用2个额外的单引号来表示生成的连接字符串中的单引号。</span><br></pre></td></tr></table></figure>

<ul>
<li>INSTR</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">格式一：instr( string1, string2 )</span><br><span class="line">/ instr(源字符串, 目标字符串)</span><br><span class="line"></span><br><span class="line">格式二：instr( string1, string2 [, start_position [, nth_appearance ] ] )</span><br><span class="line">/ instr(源字符串, 目标字符串, 起始位置, 匹配序号)</span><br><span class="line"></span><br><span class="line">解析：string2 的值要在string1中查找，是从start_position给出的数值（即：位置）开始在string1检索，检索第nth_appearance（几）次出现string2。</span><br><span class="line"></span><br><span class="line">SQL&gt; select instr('helloworld','l') from dual; </span><br><span class="line"></span><br><span class="line">INSTR('HELLOWORLD','L')</span><br><span class="line"><span class="comment">-----------------------</span></span><br><span class="line">		      3</span><br><span class="line"></span><br><span class="line">SQL&gt; select instr('helloworld','lo') from dual;--在“lo”中，“l”开始出现的位置</span><br><span class="line"></span><br><span class="line">INSTR('HELLOWORLD','LO')</span><br><span class="line"><span class="comment">------------------------</span></span><br><span class="line">		       4</span><br><span class="line"></span><br><span class="line">SQL&gt; select instr('helloworld','l',2,2) from dual;</span><br><span class="line"></span><br><span class="line">INSTR('HELLOWORLD','L',2,2)</span><br><span class="line"><span class="comment">---------------------------</span></span><br><span class="line">			  4</span><br></pre></td></tr></table></figure>

<ul>
<li>trunc 与  round</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">SYS@testdb&gt;select round(1),round(1.5,-1),round(55.5,-1),trunc(55.5,-1),trunc(1),trunc(1.5,-1) from dual;</span><br><span class="line"></span><br><span class="line">  ROUND(1) ROUND(1.5,-1) ROUND(55.5,-1) TRUNC(55.5,-1)	 TRUNC(1) TRUNC(1.5,-1)</span><br><span class="line"><span class="comment">---------- ------------- -------------- -------------- ---------- -------------</span></span><br><span class="line">	 1	       0	     60 	    50		1	      0</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Oracle</category>
      </categories>
      <tags>
        <tag>Oracle 12C</tag>
        <tag>OCP</tag>
      </tags>
  </entry>
  <entry>
    <title>金融云各版本云数据库支持TDE的状态</title>
    <url>/2020/09/11/%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93/%E9%87%91%E8%9E%8D%E4%BA%91%E5%90%84%E7%89%88%E6%9C%AC%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93%E6%94%AF%E6%8C%81TDE%E7%9A%84%E7%8A%B6%E6%80%81/</url>
    <content><![CDATA[<table>
<thead>
<tr>
<th align="left">序号</th>
<th align="left">存储引擎</th>
<th align="left">数据库版本</th>
<th align="left">实例类型</th>
<th align="left">支持TDE的状态</th>
<th align="left">备注</th>
</tr>
</thead>
<tbody><tr>
<td align="left">1</td>
<td align="left">MySQL</td>
<td align="left">5.6</td>
<td align="left">Primary</td>
<td align="left">支持</td>
<td align="left">RDS for MySQL是和公共云没有区别的 RDS MySQL 8.0高可用版（本地盘）RDS MySQL 5.7高可用版（本地盘）RDS MySQL 5.6</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">MySQL</td>
<td align="left">5.6</td>
<td align="left">Readonly</td>
<td align="left">支持</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">MySQL</td>
<td align="left">5.7</td>
<td align="left">Primary</td>
<td align="left">支持</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">MySQL</td>
<td align="left">8.0</td>
<td align="left">Primary</td>
<td align="left">支持</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">4</td>
<td align="left">PostgreSQL</td>
<td align="left">9.4</td>
<td align="left">Primary</td>
<td align="left">不支持</td>
<td align="left">RDS PostgreSQL提供数据加密功能，<strong>SSL链路加密</strong>和<strong>云盘加密</strong> RDS PostgreSQL提供全加密数据库功能，选择SGX加密型</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">PostgreSQL</td>
<td align="left">12.0</td>
<td align="left">Primary</td>
<td align="left">不支持</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">SQLServer</td>
<td align="left">2016_std_ha</td>
<td align="left">Primary</td>
<td align="left">不支持</td>
<td align="left">实例类型为SQL Server企业版的主实例（只读实例不支持TDE）。只有阿里云主账号（即非子账号）登录才可以查看和修改TDE配置。开通TDE前需要先开通KMS。如果您未开通KMS，可在开通TDE过程中根据引导开通KMS。  版本支持明细见：<a href="https://help.aliyun.com/document_detail/145468.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/145468.html</a></td>
</tr>
<tr>
<td align="left">7</td>
<td align="left">SQLServer</td>
<td align="left">2016_ent_ha</td>
<td align="left">Primary</td>
<td align="left">支持</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">8</td>
<td align="left">SQLServer</td>
<td align="left">2008r2</td>
<td align="left">Primary</td>
<td align="left">支持</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">9</td>
<td align="left">PolarDB for MySQL</td>
<td align="left">5.6</td>
<td align="left"></td>
<td align="left">不支持</td>
<td align="left">前提条件：集群版本为PolarDB MySQL 8.0PolarDB for Oracle 支持TDE：<a href="https://help.aliyun.com/document_detail/164154.html" target="_blank" rel="noopener">https://help.aliyun.com/document_detail/164154.html</a></td>
</tr>
<tr>
<td align="left">10</td>
<td align="left">PolarDB for Oracle</td>
<td align="left">11</td>
<td align="left"></td>
<td align="left">支持</td>
<td align="left"></td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>云数据库</category>
      </categories>
  </entry>
  <entry>
    <title>pt-archiver归档表无主键的问题探索</title>
    <url>/2020/09/02/MySQL/pt-archiver%E5%BD%92%E6%A1%A3%E8%A1%A8%E6%97%A0%E4%B8%BB%E9%94%AE%E7%9A%84%E9%97%AE%E9%A2%98%E6%8E%A2%E7%B4%A2/</url>
    <content><![CDATA[<h1 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h1><p>一张没有主键的表，归档时发现归档后的数据行数不准确，少了很多。</p>
<h1 id="场景模拟"><a href="#场景模拟" class="headerlink" title="场景模拟"></a>场景模拟</h1><h2 id="表结构和数据"><a href="#表结构和数据" class="headerlink" title="表结构和数据"></a>表结构和数据</h2><p>准备两张表 table_demo 和 table_demo1</p>
<table>
<thead>
<tr>
<th align="left">表</th>
<th align="left">主键</th>
<th align="left">归档表</th>
</tr>
</thead>
<tbody><tr>
<td align="left">table_demo</td>
<td align="left">Yes</td>
<td align="left">table_demo_history</td>
</tr>
<tr>
<td align="left">table_demo1</td>
<td align="left">NO</td>
<td align="left">table_demo1_history</td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE TABLE table_demo(  </span><br><span class="line">id int auto_increment primary key,   </span><br><span class="line">uname  varchar(20) ,  </span><br><span class="line">ucreatetime  datetime  ,  </span><br><span class="line">age  int(11)) DEFAULT CHARACTER SET&#x3D;utf8 COLLATE&#x3D;utf8_general_ci;</span><br><span class="line"></span><br><span class="line">CREATE TABLE table_demo1(  </span><br><span class="line">id int,   </span><br><span class="line">uname  varchar(20) ,  </span><br><span class="line">ucreatetime  datetime  ,  </span><br><span class="line">age  int(11)) DEFAULT CHARACTER SET&#x3D;utf8 COLLATE&#x3D;utf8_general_ci;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">alter table table_demo add index idx_ucreatetime (ucreatetime);</span><br><span class="line">alter table table_demo1 add index idx_ucreatetime (ucreatetime);</span><br><span class="line"></span><br><span class="line">delimiter $$</span><br><span class="line">create  procedure test1() </span><br><span class="line">begin</span><br><span class="line">declare v_cnt decimal (10)  default 0 ;</span><br><span class="line">start transaction;</span><br><span class="line">dd:loop           </span><br><span class="line"> </span><br><span class="line">        insert  into table_demo values      </span><br><span class="line">        (null,&#39;用户1&#39;,sysdate(),20),        </span><br><span class="line">        (null,&#39;用户2&#39;,sysdate(),20),        </span><br><span class="line">        (null,&#39;用户3&#39;,sysdate(),20),        </span><br><span class="line">        (null,&#39;用户4&#39;,sysdate(),20),        </span><br><span class="line">        (null,&#39;用户5&#39;,sysdate(),20),        </span><br><span class="line">        (null,&#39;用户6&#39;,sysdate(),20),        </span><br><span class="line">        (null,&#39;用户7&#39;,sysdate(),20),        </span><br><span class="line">        (null,&#39;用户8&#39;,sysdate(),20),        </span><br><span class="line">        (null,&#39;用户9&#39;,sysdate(),20),        </span><br><span class="line">        (null,&#39;用户0&#39;,sysdate(),20)            </span><br><span class="line">                ;                                       </span><br><span class="line">        set v_cnt &#x3D; v_cnt+10 ;                           </span><br><span class="line">            if  v_cnt &#x3D; 1000 then leave dd;                          </span><br><span class="line">            end if;         </span><br><span class="line">        end loop dd ;</span><br><span class="line">commit;</span><br><span class="line">end $$</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">delimiter ;</span><br><span class="line">call test1();</span><br><span class="line"></span><br><span class="line">insert into table_demo1 select * from table_demo;</span><br><span class="line">select count(*) from table_demo1;</span><br><span class="line">update table_demo1 set ucreatetime&#x3D;&quot;2020-09-02 11:51:27&quot; where id between 200 and 300;</span><br><span class="line">update table_demo1 set ucreatetime&#x3D;&quot;2020-09-03 11:51:27&quot; where id between 300 and 400;</span><br><span class="line">update table_demo1 set ucreatetime&#x3D;&quot;2020-09-04 11:51:27&quot; where id between 400 and 500;</span><br><span class="line">update table_demo1 set ucreatetime&#x3D;&quot;2020-09-05 11:51:27&quot; where id between 500 and 600;</span><br><span class="line">update table_demo1 set ucreatetime&#x3D;&quot;2020-09-06 11:51:27&quot; where id between 600 and 700;</span><br><span class="line">update table_demo1 set ucreatetime&#x3D;&quot;2020-09-07 11:51:27&quot; where id between 700 and 800;</span><br><span class="line">update table_demo1 set ucreatetime&#x3D;&quot;2020-09-08 11:51:27&quot; where id between 800 and 900;</span><br><span class="line">update table_demo1 set ucreatetime&#x3D;&quot;2020-09-09 11:51:27&quot; where id between 900 and 1000;</span><br><span class="line">    </span><br><span class="line">update table_demo set ucreatetime&#x3D;&quot;2020-09-02 11:51:27&quot; where id between 200 and 300;</span><br><span class="line">update table_demo set ucreatetime&#x3D;&quot;2020-09-03 11:51:27&quot; where id between 300 and 400;</span><br><span class="line">update table_demo set ucreatetime&#x3D;&quot;2020-09-04 11:51:27&quot; where id between 400 and 500;</span><br><span class="line">update table_demo set ucreatetime&#x3D;&quot;2020-09-05 11:51:27&quot; where id between 500 and 600;</span><br><span class="line">update table_demo set ucreatetime&#x3D;&quot;2020-09-06 11:51:27&quot; where id between 600 and 700;</span><br><span class="line">update table_demo set ucreatetime&#x3D;&quot;2020-09-07 11:51:27&quot; where id between 700 and 800;</span><br><span class="line">update table_demo set ucreatetime&#x3D;&quot;2020-09-08 11:51:27&quot; where id between 800 and 900;</span><br><span class="line">update table_demo set ucreatetime&#x3D;&quot;2020-09-09 11:51:27&quot; where id between 900 and 1000;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">select count(*), ucreatetime from table_demo group by ucreatetime;</span><br><span class="line">select count(*), ucreatetime from table_demo1 group by ucreatetime;</span><br><span class="line"></span><br><span class="line">create table table_demo1_history like table_demo1;</span><br><span class="line">create table table_demo_history like table_demo;</span><br><span class="line">create table table_demo1_history1 like table_demo1;</span><br><span class="line">    </span><br><span class="line">truncate table table_demo_history;</span><br><span class="line">truncate table table_demo1_history;</span><br><span class="line">truncate table table_demo1_history1;</span><br></pre></td></tr></table></figure>

<h2 id="开启general-log"><a href="#开启general-log" class="headerlink" title="开启general_log"></a>开启general_log</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 开启general_log，具体操作如下：</span><br><span class="line">show variables like &#39;%general_log%&#39;;</span><br><span class="line">SET GLOBAL general_log &#x3D; &#39;OFF&#39;;</span><br><span class="line">SET GLOBAL general_log &#x3D; &#39;ON&#39;;</span><br><span class="line">show variables like &#39;%general_log%&#39;;</span><br></pre></td></tr></table></figure>

<h2 id="归档命令"><a href="#归档命令" class="headerlink" title="归档命令"></a>归档命令</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">#  table_demo 有主键</span><br><span class="line">pt-archiver  --source h&#x3D;localhost,P&#x3D;3306,u&#x3D;root,p&#x3D;root,D&#x3D;qixin,t&#x3D;table_demo --dest h&#x3D;localhost,P&#x3D;3306,u&#x3D;root,p&#x3D;root,D&#x3D;qixin,t&#x3D;table_demo_history --no-check-charset --where &quot;ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;&quot; --progress 5000 --limit&#x3D;10 --txn-size&#x3D;10 --statistics --bulk-insert --no-delete --charset &#39;utf8&#39; --noversion-check</span><br><span class="line"># table_demo1 无主键 --limit 10</span><br><span class="line">pt-archiver  --source h&#x3D;localhost,P&#x3D;3306,u&#x3D;root,p&#x3D;root,D&#x3D;qixin,t&#x3D;table_demo1 --dest h&#x3D;localhost,P&#x3D;3306,u&#x3D;root,p&#x3D;root,D&#x3D;qixin,t&#x3D;table_demo1_history --no-check-charset --where &quot;ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;&quot; --progress 5000 --limit&#x3D;10 --txn-size&#x3D;10 --statistics --bulk-insert --no-delete --charset &#39;utf8&#39; --noversion-check</span><br><span class="line"># table_demo1 无主键 --limit 500</span><br><span class="line">pt-archiver  --source h&#x3D;localhost,P&#x3D;3306,u&#x3D;root,p&#x3D;root,D&#x3D;qixin,t&#x3D;table_demo1 --dest h&#x3D;localhost,P&#x3D;3306,u&#x3D;root,p&#x3D;root,D&#x3D;qixin,t&#x3D;table_demo1_history1 --no-check-charset --where &quot;ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;&quot; --progress 5000 --limit&#x3D;500 --txn-size&#x3D;10 --statistics --bulk-insert --no-delete --charset &#39;utf8&#39; --noversion-check</span><br></pre></td></tr></table></figure>

<h2 id="验证数据"><a href="#验证数据" class="headerlink" title="验证数据"></a>验证数据</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">select count(*), ucreatetime from table_demo_history group by ucreatetime;</span><br><span class="line">select count(*), ucreatetime from table_demo1_history1 group by ucreatetime;</span><br><span class="line">select count(*), ucreatetime from table_demo1_history group by ucreatetime;</span><br></pre></td></tr></table></figure>

<h1 id="操作记录"><a href="#操作记录" class="headerlink" title="操作记录"></a>操作记录</h1><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@NB-flexgw1:&#x2F;root]# pt-archiver --version</span><br><span class="line">pt-archiver 3.0.4</span><br><span class="line">[root@NB-flexgw1:&#x2F;root]# mysql --version</span><br><span class="line">mysql  Ver 14.14 Distrib 5.7.20-19, for Linux (x86_64) using  EditLine wrapper</span><br><span class="line"></span><br><span class="line">root@MySQL-01 12:09:  [qixin]&gt; select count(*), ucreatetime from table_demo1 group by ucreatetime;</span><br><span class="line">+----------+---------------------+</span><br><span class="line">| count(*) | ucreatetime         |</span><br><span class="line">+----------+---------------------+</span><br><span class="line">|      199 | 2020-09-01 11:51:26 |</span><br><span class="line">|      100 | 2020-09-02 11:51:27 |</span><br><span class="line">|      100 | 2020-09-03 11:51:27 |</span><br><span class="line">|      100 | 2020-09-04 11:51:27 |</span><br><span class="line">|      100 | 2020-09-05 11:51:27 |</span><br><span class="line">|      100 | 2020-09-06 11:51:27 |</span><br><span class="line">|      100 | 2020-09-07 11:51:27 |</span><br><span class="line">|      100 | 2020-09-08 11:51:27 |</span><br><span class="line">|      101 | 2020-09-09 11:51:27 |</span><br><span class="line">+----------+---------------------+</span><br><span class="line">9 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">root@MySQL-01 12:09:  [qixin]&gt; select count(*), ucreatetime from table_demo group by ucreatetime;</span><br><span class="line">+----------+---------------------+</span><br><span class="line">| count(*) | ucreatetime         |</span><br><span class="line">+----------+---------------------+</span><br><span class="line">|      199 | 2020-09-01 11:51:26 |</span><br><span class="line">|      100 | 2020-09-02 11:51:27 |</span><br><span class="line">|      100 | 2020-09-03 11:51:27 |</span><br><span class="line">|      100 | 2020-09-04 11:51:27 |</span><br><span class="line">|      100 | 2020-09-05 11:51:27 |</span><br><span class="line">|      100 | 2020-09-06 11:51:27 |</span><br><span class="line">|      100 | 2020-09-07 11:51:27 |</span><br><span class="line">|      100 | 2020-09-08 11:51:27 |</span><br><span class="line">|      101 | 2020-09-09 11:51:27 |</span><br><span class="line">+----------+---------------------+</span><br><span class="line">9 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root@MySQL-01 12:41:  [qixin]&gt; show variables like &#39;%general_log%&#39;;</span><br><span class="line">+------------------+------------------------------------+</span><br><span class="line">| Variable_name    | Value                              |</span><br><span class="line">+------------------+------------------------------------+</span><br><span class="line">| general_log      | ON                                 |</span><br><span class="line">| general_log_file | &#x2F;alidata&#x2F;mysql&#x2F;data&#x2F;NB-flexgw1.log |</span><br><span class="line">+------------------+------------------------------------+</span><br><span class="line">2 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">--无索引的表</span><br><span class="line">[root@NB-flexgw1:&#x2F;root]# pt-archiver  --source h&#x3D;localhost,P&#x3D;3306,u&#x3D;root,p&#x3D;root,D&#x3D;qixin,t&#x3D;table_demo1 --dest h&#x3D;localhost,P&#x3D;3306,u&#x3D;root,p&#x3D;root,D&#x3D;qixin,t&#x3D;table_demo1_history --no-check-charset --where &quot;ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;&quot; --progress 5000 --limit&#x3D;10 --txn-size&#x3D;10 --statistics --bulk-insert --no-delete --charset &#39;utf8&#39; --noversion-check</span><br><span class="line">TIME                ELAPSED   COUNT</span><br><span class="line">2020-09-01T12:06:04       0       0</span><br><span class="line">2020-09-01T12:06:05       0      90</span><br><span class="line">Started at 2020-09-01T12:06:04, ended at 2020-09-01T12:06:05</span><br><span class="line">Source: A&#x3D;utf8,D&#x3D;qixin,P&#x3D;3306,h&#x3D;localhost,p&#x3D;...,t&#x3D;table_demo1,u&#x3D;root</span><br><span class="line">Dest:   A&#x3D;utf8,D&#x3D;qixin,P&#x3D;3306,h&#x3D;localhost,p&#x3D;...,t&#x3D;table_demo1_history,u&#x3D;root</span><br><span class="line">SELECT 90</span><br><span class="line">INSERT 90</span><br><span class="line">DELETE 0</span><br><span class="line">Action              Count       Time        Pct</span><br><span class="line">commit                 20     0.7429      90.38</span><br><span class="line">select                 10     0.0261       3.18</span><br><span class="line">bulk_inserting          9     0.0030       0.36</span><br><span class="line">print_bulkfile         90    -0.0003      -0.03</span><br><span class="line">other                   0     0.0502       6.11</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">--有索引的表</span><br><span class="line">[root@NB-flexgw1:&#x2F;root]# pt-archiver  --source h&#x3D;localhost,P&#x3D;3306,u&#x3D;root,p&#x3D;root,D&#x3D;qixin,t&#x3D;table_demo --dest h&#x3D;localhost,P&#x3D;3306,u&#x3D;root,p&#x3D;root,D&#x3D;qixin,t&#x3D;table_demo_history --no-check-charset --where &quot;ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;&quot; --progress 5000 --limit&#x3D;10 --txn-size&#x3D;10 --statistics --bulk-insert --no-delete --charset &#39;utf8&#39; --noversion-check</span><br><span class="line">TIME                ELAPSED   COUNT</span><br><span class="line">2020-09-01T12:11:10       0       0</span><br><span class="line">2020-09-01T12:11:18       8     999</span><br><span class="line">Started at 2020-09-01T12:11:10, ended at 2020-09-01T12:11:18</span><br><span class="line">Source: A&#x3D;utf8,D&#x3D;qixin,P&#x3D;3306,h&#x3D;localhost,p&#x3D;...,t&#x3D;table_demo,u&#x3D;root</span><br><span class="line">Dest:   A&#x3D;utf8,D&#x3D;qixin,P&#x3D;3306,h&#x3D;localhost,p&#x3D;...,t&#x3D;table_demo_history,u&#x3D;root</span><br><span class="line">SELECT 999</span><br><span class="line">INSERT 999</span><br><span class="line">DELETE 0</span><br><span class="line">Action              Count       Time        Pct</span><br><span class="line">commit                200     8.1391      97.00</span><br><span class="line">bulk_inserting        100     0.1428       1.70</span><br><span class="line">select                101     0.0461       0.55</span><br><span class="line">print_bulkfile        999    -0.0018      -0.02</span><br><span class="line">other                   0     0.0642       0.76</span><br><span class="line"></span><br><span class="line">[root@NB-flexgw1:&#x2F;root]# pt-archiver  --source h&#x3D;localhost,P&#x3D;3306,u&#x3D;root,p&#x3D;root,D&#x3D;qixin,t&#x3D;table_demo1 --dest h&#x3D;localhost,P&#x3D;3306,u&#x3D;root,p&#x3D;root,D&#x3D;qixin,t&#x3D;table_demo1_history1 --no-check-charset --where &quot;ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;&quot; --progress 5000 --limit&#x3D;500 --txn-size&#x3D;10 --statistics --bulk-insert --no-delete --charset &#39;utf8&#39; --noversion-check</span><br><span class="line">TIME                ELAPSED   COUNT</span><br><span class="line">2020-09-01T15:24:52       0       0</span><br><span class="line">2020-09-01T15:24:52       0     901</span><br><span class="line">Started at 2020-09-01T15:24:52, ended at 2020-09-01T15:24:52</span><br><span class="line">Source: A&#x3D;utf8,D&#x3D;qixin,P&#x3D;3306,h&#x3D;localhost,p&#x3D;...,t&#x3D;table_demo1,u&#x3D;root</span><br><span class="line">Dest:   A&#x3D;utf8,D&#x3D;qixin,P&#x3D;3306,h&#x3D;localhost,p&#x3D;...,t&#x3D;table_demo1_history1,u&#x3D;root</span><br><span class="line">SELECT 901</span><br><span class="line">INSERT 901</span><br><span class="line">DELETE 0</span><br><span class="line">Action              Count       Time        Pct</span><br><span class="line">bulk_inserting          2     0.2076      51.39</span><br><span class="line">commit                182     0.1521      37.64</span><br><span class="line">select                  3     0.0189       4.68</span><br><span class="line">print_bulkfile        901    -0.0021      -0.51</span><br><span class="line">other                   0     0.0275       6.80</span><br><span class="line"></span><br><span class="line">root@MySQL-01 15:24:  [qixin]&gt; select count(*), ucreatetime from table_demo_history group by ucreatetime;</span><br><span class="line">+----------+---------------------+</span><br><span class="line">| count(*) | ucreatetime         |</span><br><span class="line">+----------+---------------------+</span><br><span class="line">|      199 | 2020-09-01 11:51:26 |</span><br><span class="line">|      100 | 2020-09-02 11:51:27 |</span><br><span class="line">|      100 | 2020-09-03 11:51:27 |</span><br><span class="line">|      100 | 2020-09-04 11:51:27 |</span><br><span class="line">|      100 | 2020-09-05 11:51:27 |</span><br><span class="line">|      100 | 2020-09-06 11:51:27 |</span><br><span class="line">|      100 | 2020-09-07 11:51:27 |</span><br><span class="line">|      100 | 2020-09-08 11:51:27 |</span><br><span class="line">|      100 | 2020-09-09 11:51:27 |</span><br><span class="line">+----------+---------------------+</span><br><span class="line">9 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">root@MySQL-01 15:25:  [qixin]&gt; select count(*), ucreatetime from table_demo1_history group by ucreatetime;</span><br><span class="line">+----------+---------------------+</span><br><span class="line">| count(*) | ucreatetime         |</span><br><span class="line">+----------+---------------------+</span><br><span class="line">|       10 | 2020-09-01 11:51:26 |</span><br><span class="line">|       10 | 2020-09-02 11:51:27 |</span><br><span class="line">|       10 | 2020-09-03 11:51:27 |</span><br><span class="line">|       10 | 2020-09-04 11:51:27 |</span><br><span class="line">|       10 | 2020-09-05 11:51:27 |</span><br><span class="line">|       10 | 2020-09-06 11:51:27 |</span><br><span class="line">|       10 | 2020-09-07 11:51:27 |</span><br><span class="line">|       10 | 2020-09-08 11:51:27 |</span><br><span class="line">|       10 | 2020-09-09 11:51:27 |</span><br><span class="line">+----------+---------------------+</span><br><span class="line">9 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line">root@MySQL-01 15:25:  [qixin]&gt; select count(*), ucreatetime from table_demo1_history1 group by ucreatetime;</span><br><span class="line">+----------+---------------------+</span><br><span class="line">| count(*) | ucreatetime         |</span><br><span class="line">+----------+---------------------+</span><br><span class="line">|      199 | 2020-09-01 11:51:26 |</span><br><span class="line">|      100 | 2020-09-02 11:51:27 |</span><br><span class="line">|      100 | 2020-09-03 11:51:27 |</span><br><span class="line">|      100 | 2020-09-04 11:51:27 |</span><br><span class="line">|        1 | 2020-09-05 11:51:27 |</span><br><span class="line">|      100 | 2020-09-06 11:51:27 |</span><br><span class="line">|      100 | 2020-09-07 11:51:27 |</span><br><span class="line">|      100 | 2020-09-08 11:51:27 |</span><br><span class="line">|      101 | 2020-09-09 11:51:27 |</span><br><span class="line">+----------+---------------------+</span><br><span class="line">9 rows in set (0.00 sec)</span><br></pre></td></tr></table></figure>

<h1 id="分析PT原理"><a href="#分析PT原理" class="headerlink" title="分析PT原理"></a>分析PT原理</h1><h2 id="有主键"><a href="#有主键" class="headerlink" title="有主键"></a>有主键</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2020-09-01T04:42:03.705819Z    1056244 Connect    root@localhost on qixin using Socket</span><br><span class="line">2020-09-01T04:42:03.705930Z    1056244 Query    set autocommit&#x3D;0</span><br><span class="line">2020-09-01T04:42:03.706025Z    1056244 Query    &#x2F;*!40101 SET NAMES &quot;utf8&quot;*&#x2F;</span><br><span class="line">2020-09-01T04:42:03.706128Z    1056244 Query    SHOW VARIABLES LIKE &#39;wait\_timeout&#39;</span><br><span class="line">2020-09-01T04:42:03.782137Z    1056244 Query    SET SESSION wait_timeout&#x3D;10000</span><br><span class="line">2020-09-01T04:42:03.782285Z    1056244 Query    SELECT @@SQL_MODE</span><br><span class="line">2020-09-01T04:42:03.786019Z    1056244 Query    SET @@SQL_QUOTE_SHOW_CREATE &#x3D; 1&#x2F;*!40101, @@SQL_MODE&#x3D;&#39;NO_AUTO_VALUE_ON_ZERO,ONLY_FULL_GROUP_BY&#39;*&#x2F;</span><br><span class="line">2020-09-01T04:42:03.786244Z    1056244 Query    SHOW VARIABLES LIKE &#39;version%&#39;</span><br><span class="line">2020-09-01T04:42:03.787356Z    1056244 Query    SHOW ENGINES</span><br><span class="line">2020-09-01T04:42:03.787601Z    1056244 Query    SHOW VARIABLES LIKE &#39;innodb_version&#39;</span><br><span class="line">2020-09-01T04:42:03.788640Z    1056244 Query    show variables like &#39;innodb_rollback_on_timeout&#39;</span><br><span class="line">2020-09-01T04:42:03.789538Z    1056244 Query    &#x2F;*!40101 SET @OLD_SQL_MODE :&#x3D; @@SQL_MODE, @@SQL_MODE :&#x3D; &#39;&#39;, @OLD_QUOTE :&#x3D; @@SQL_QUOTE_SHOW_CREATE, @@SQL_QUOTE_SHOW_CREATE :&#x3D; 1 *&#x2F;</span><br><span class="line">2020-09-01T04:42:03.789604Z    1056244 Query    USE &#96;qixin&#96;</span><br><span class="line">2020-09-01T04:42:03.789675Z    1056244 Query    SHOW CREATE TABLE &#96;qixin&#96;.&#96;table_demo&#96;</span><br><span class="line">2020-09-01T04:42:03.789794Z    1056244 Query    &#x2F;*!40101 SET @@SQL_MODE :&#x3D; @OLD_SQL_MODE, @@SQL_QUOTE_SHOW_CREATE :&#x3D; @OLD_QUOTE *&#x2F;</span><br><span class="line">2020-09-01T04:42:03.790234Z    1056245 Connect    root@localhost on qixin using Socket</span><br><span class="line">2020-09-01T04:42:03.790302Z    1056245 Query    set autocommit&#x3D;0</span><br><span class="line">2020-09-01T04:42:03.790368Z    1056245 Query    &#x2F;*!40101 SET NAMES &quot;utf8&quot;*&#x2F;</span><br><span class="line">2020-09-01T04:42:03.790443Z    1056245 Query    SHOW VARIABLES LIKE &#39;wait\_timeout&#39;</span><br><span class="line">2020-09-01T04:42:03.791279Z    1056245 Query    SET SESSION wait_timeout&#x3D;10000</span><br><span class="line">2020-09-01T04:42:03.791363Z    1056245 Query    SELECT @@SQL_MODE</span><br><span class="line">2020-09-01T04:42:03.791422Z    1056245 Query    SET @@SQL_QUOTE_SHOW_CREATE &#x3D; 1&#x2F;*!40101, @@SQL_MODE&#x3D;&#39;NO_AUTO_VALUE_ON_ZERO,ONLY_FULL_GROUP_BY&#39;*&#x2F;</span><br><span class="line">2020-09-01T04:42:03.791510Z    1056245 Query    SHOW VARIABLES LIKE &#39;version%&#39;</span><br><span class="line">2020-09-01T04:42:03.792414Z    1056245 Query    SHOW ENGINES</span><br><span class="line">2020-09-01T04:42:03.792651Z    1056245 Query    SHOW VARIABLES LIKE &#39;innodb_version&#39;</span><br><span class="line">2020-09-01T04:42:03.793621Z    1056245 Query    show variables like &#39;innodb_rollback_on_timeout&#39;</span><br><span class="line">2020-09-01T04:42:03.794502Z    1056245 Query    &#x2F;*!40101 SET @OLD_SQL_MODE :&#x3D; @@SQL_MODE, @@SQL_MODE :&#x3D; &#39;&#39;, @OLD_QUOTE :&#x3D; @@SQL_QUOTE_SHOW_CREATE, @@SQL_QUOTE_SHOW_CREATE :&#x3D; 1 *&#x2F;</span><br><span class="line">2020-09-01T04:42:03.794564Z    1056245 Query    USE &#96;qixin&#96;</span><br><span class="line">2020-09-01T04:42:03.794632Z    1056245 Query    SHOW CREATE TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;</span><br><span class="line">2020-09-01T04:42:03.794756Z    1056245 Query    &#x2F;*!40101 SET @@SQL_MODE :&#x3D; @OLD_SQL_MODE, @@SQL_QUOTE_SHOW_CREATE :&#x3D; @OLD_QUOTE *&#x2F;</span><br><span class="line">2020-09-01T04:42:03.794975Z    1056244 Query    SHOW VARIABLES LIKE &#39;wsrep_on&#39;</span><br><span class="line">2020-09-01T04:42:03.795812Z    1056244 Query    SHOW VARIABLES LIKE &#39;wsrep_on&#39;</span><br><span class="line">2020-09-01T04:42:03.796814Z    1056244 Query    SHOW VARIABLES LIKE &#39;version%&#39;</span><br><span class="line">2020-09-01T04:42:03.797717Z    1056244 Query    SHOW ENGINES</span><br><span class="line">2020-09-01T04:42:03.797960Z    1056244 Query    SHOW VARIABLES LIKE &#39;innodb_version&#39;</span><br><span class="line">2020-09-01T04:42:03.798963Z    1056244 Query    SELECT MAX(&#96;id&#96;) FROM &#96;qixin&#96;.&#96;table_demo&#96;</span><br><span class="line">2020-09-01T04:42:03.799375Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:03.825820Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:03.826092Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:03.826128Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:03.826226Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;AU0TjwWDdcpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:03.826499Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:03.826596Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;10&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:03.827133Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:03.936840Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:03.937094Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;ZhhrnEoaX7pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:03.937437Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:03.937603Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;20&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:03.938282Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:04.037250Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:04.037427Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;fAB4l8yrJjpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:04.037703Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:04.037864Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;30&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:04.038516Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:04.104206Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:04.104382Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;FmX2lV3SQCpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:04.104634Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:04.104799Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;40&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:04.105450Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:04.171160Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:04.171345Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;YDsDpHpccApt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:04.171608Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:04.171761Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;50&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:04.172417Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:04.237976Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:04.238155Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;ObeEMvc2y0pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:04.238418Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:04.238569Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;60&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:04.239225Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:04.305109Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:04.305287Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;3j9tv4KIZlpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:04.305551Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:04.305708Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;70&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:04.306362Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:04.371976Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:04.372154Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;BpHvFj6Arvpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:04.372416Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:04.372569Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;80&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:04.373221Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:04.439022Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:04.439206Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;G7_VjlVW5upt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:04.439469Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:04.439625Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;90&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:04.440275Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:04.505950Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:04.506130Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;5QgeHRtTO0pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:04.506394Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:04.506550Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;100&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:04.507207Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:04.582188Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:04.582374Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;pt5T4WvMJ0pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:04.582630Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:04.582780Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;110&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:04.583286Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:04.583500Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:04.681590Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:04.681768Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;1ExiMC9SnJpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:04.682055Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:04.682216Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;120&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:04.682858Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:04.790047Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:04.790229Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;xPv5JsoQgept-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:04.790499Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:04.790675Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;130&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:04.791335Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:04.874013Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:04.874197Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;kWzhsIt5bCpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:04.874468Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:04.874618Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;140&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:04.875266Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:04.941001Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:04.941180Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;zHNSfbUpXEpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:04.941438Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:04.941586Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;150&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:04.942237Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:05.007953Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:05.008131Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;emFtHNbqFUpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:05.008390Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.008545Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;160&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:05.009205Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:05.074917Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:05.075097Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;IUmdwAJs7zpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:05.075360Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.075518Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;170&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:05.076169Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:05.141777Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:05.141960Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;wm8WMjgCckpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:05.142217Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.142373Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;180&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:05.143029Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:05.217089Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:05.217268Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;BJQW1ZsVZPpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:05.217528Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.217681Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;190&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:05.218335Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:05.293005Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:05.293183Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;Ir6XzHYjKspt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:05.293451Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.293603Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;200&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:05.294249Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:05.367842Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:05.368030Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;GE8wk9Qp4Rpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:05.368303Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.368458Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;210&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:05.369105Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:05.459813Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:05.459999Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;7ojkfVuqdApt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:05.460273Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.460427Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;220&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:05.460943Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.461139Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:05.560014Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:05.560199Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;PY2MkLXbPtpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:05.560461Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.560613Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;230&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:05.561259Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:05.635426Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:05.635604Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;I2x_apU4X7pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:05.635871Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.636036Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;240&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:05.636685Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:05.711280Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:05.711462Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;k0vRdVxwrWpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:05.711724Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.711872Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;250&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:05.712527Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:05.786594Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:05.786776Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;LbcnBI4mpMpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:05.787049Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.787212Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;260&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:05.787862Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:05.861873Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:05.862060Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;dysyx3467Cpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:05.862334Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.862486Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;270&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:05.863135Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:05.928890Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:05.929078Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;qJWjuN5nU_pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:05.929349Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.929501Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;280&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:05.930151Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:05.995860Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:05.996047Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;R9lGJ3sRvdpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:05.996322Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:05.996473Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;290&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:05.997126Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:06.079362Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:06.079541Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;C5L52MNPY7pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:06.079811Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:06.079973Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;300&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:06.080625Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:06.146471Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:06.146650Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;yi4ujjePb0pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:06.146913Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:06.147068Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;310&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:06.147725Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:06.238421Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:06.238598Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;_9MB7glHHmpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:06.238879Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:06.239044Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;320&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:06.239688Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:06.305315Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:06.305493Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;8EcSFIew_Dpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:06.305754Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:06.305914Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;330&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:06.306467Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:06.306643Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:06.372350Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:06.372529Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;oUP7_OmRTbpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:06.372783Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:06.372939Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;340&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:06.373593Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:06.464323Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:06.464502Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;40FBUR4r1Mpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:06.464756Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:06.464911Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;350&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:06.465561Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:06.532161Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:06.532347Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;yVOJPed0Hppt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:06.532604Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:06.532758Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;360&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:06.533413Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:06.640026Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:06.640211Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;OZdhG9j7GYpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:06.640466Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:06.640621Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;370&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:06.641276Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:06.756956Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:06.757133Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;ogUto5EA60pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:06.757520Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:06.757681Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;380&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:06.758313Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:06.874000Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:06.874181Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;0wwk_r6lcNpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:06.874440Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:06.874591Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;390&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:06.875247Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:06.949301Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:06.949484Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;Oo9Qhs3cbtpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:06.949743Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:06.949902Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;400&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:06.951145Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:07.075070Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:07.075251Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;BnooIBcTOYpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:07.075508Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:07.075660Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;410&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:07.076319Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:07.142030Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:07.142215Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;JmSMOQkEH7pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:07.142475Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:07.142631Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;420&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:07.143284Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:07.209002Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:07.209181Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;sDwp6tBePopt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:07.209441Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:07.209590Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;430&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:07.210242Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:07.300959Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:07.301139Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;EQWdJUDUhjpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:07.301397Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:07.301552Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;440&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:07.302124Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:07.302278Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:07.401308Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:07.401485Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;CpblUjRy8Jpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:07.401742Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:07.401897Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;450&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:07.402550Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:07.476646Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:07.476824Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;TsXnGSfKxUpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:07.477091Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:07.477248Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;460&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:07.477893Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:07.551923Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:07.552105Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;DwMKwp60eWpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:07.552367Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:07.552520Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;470&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:07.553177Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:07.627223Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:07.627404Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;Zz7ePetzB6pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:07.627660Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:07.627817Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;480&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:07.628466Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:07.702528Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:07.702705Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;7o_ObySYsFpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:07.702961Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:07.703116Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;490&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:07.703771Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:07.777837Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:07.778019Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;aj0EDs0sRnpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:07.778279Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:07.778436Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;500&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:07.779085Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:07.911330Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:07.911514Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;mkylWPgQ90pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:07.911768Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:07.911924Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;510&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:07.912577Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:07.986798Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:07.986978Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;tXFiirNV1ypt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:07.987237Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:07.987394Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;520&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:07.988051Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:08.062722Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:08.062900Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;mvt_t5DbPJpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:08.063160Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:08.063318Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;530&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:08.063960Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:08.138006Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:08.138185Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;wX99KfKYRPpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:08.138445Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:08.138594Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;540&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:08.139245Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:08.238157Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:08.238338Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;9reiwtZkidpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:08.238591Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:08.238748Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;550&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:08.239340Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:08.239475Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:08.313622Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:08.313800Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;kNigCSweHSpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:08.314060Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:08.314221Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;560&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:08.314872Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:08.380528Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:08.380698Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;gwf4vqkjbnpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:08.430849Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:08.431035Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;570&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:08.431751Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:08.497706Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:08.497885Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;kHb62JQi_Ypt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:08.498144Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:08.498295Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;580&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:08.498936Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:08.597961Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:08.598139Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;2bMCu9O93ipt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:08.598399Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:08.598563Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;590&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:08.599216Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:08.664987Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:08.665167Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;Jsysc1Yocipt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:08.665422Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:08.665573Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;600&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:08.681574Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:08.790277Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:08.790460Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;lXxwC378x0pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:08.790716Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:08.790871Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;610&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:08.791515Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:08.865401Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:08.865582Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;KHCg2d10RIpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:08.865837Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:08.865991Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;620&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:08.866627Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:08.940956Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:08.941135Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;_sZHGTYKGApt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:08.941394Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:08.941548Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;630&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:08.942206Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:09.016166Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:09.016353Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;vF45ZHOHcOpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:09.016612Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:09.016764Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;640&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:09.017413Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:09.091544Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:09.091726Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;noIFI_fi4ipt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:09.091988Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:09.092142Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;650&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:09.092790Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:09.166857Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:09.167044Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;il929ioHsRpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:09.167306Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:09.167459Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;660&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:09.168055Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:09.168175Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:09.250405Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:09.250584Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;tz3sh5Szz6pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:09.250843Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:09.251025Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;670&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:09.251703Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:09.317393Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:09.317571Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;bdQj8e4eEcpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:09.317825Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:09.317981Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;680&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:09.318630Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:09.426044Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:09.426232Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;Jp4ErJJjlcpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:09.426489Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:09.426645Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;690&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:09.427300Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:09.543139Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:09.543318Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;9QUMFfvhO5pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:09.543575Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:09.543729Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;700&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:09.544387Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:09.610051Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:09.610230Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;KyrzcurRQTpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:09.610487Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:09.610643Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;710&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:09.611298Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:09.710427Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:09.710605Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;opPBKqu5yRpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:09.710862Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:09.711036Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;720&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:09.711687Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:09.794033Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:09.794216Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;_EceM5rAy6pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:09.794477Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:09.794631Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;730&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:09.795286Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:09.869459Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:09.869638Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;GQMI9teU30pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:09.869897Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:09.870059Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;740&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:09.870712Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:09.945263Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:09.945446Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;YTVkZlpSjSpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:09.945702Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:09.945856Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;750&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:09.946508Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:10.020048Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:10.020231Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;t0EjLYsgkipt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:10.020488Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:10.020642Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;760&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:10.021297Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:10.112023Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:10.112210Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;2dNKB08SQ4pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:10.112471Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:10.112625Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;770&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:10.113247Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:10.113347Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:10.187396Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:10.187576Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;501ZKz1LDgpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:10.187830Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:10.187985Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;780&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:10.188645Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:10.263469Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:10.263652Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;D7Gsl1DuXwpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:10.263907Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:10.264069Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;790&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:10.264719Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:10.337982Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:10.338162Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;tsvJXeWH06pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:10.338420Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:10.338571Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;800&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:10.339222Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:10.455498Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:10.455678Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;jJgEZ7t9Uspt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:10.455932Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:10.456092Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;810&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:10.456745Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:10.522481Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:10.522659Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;KPgLsuzNl4pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:10.522916Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:10.523074Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;820&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:10.523726Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:10.614443Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:10.614626Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;4l8eq2DHfRpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:10.614879Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:10.615042Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;830&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:10.615691Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:10.723110Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:10.723299Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;zlNeNUynrNpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:10.723551Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:10.723701Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;840&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:10.724353Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:10.806952Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:10.807199Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;wiNAQSa6Ulpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:10.807456Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:10.807602Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;850&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:10.808242Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:10.907267Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:10.907447Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;msdcnapyUCpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:10.907705Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:10.907858Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;860&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:10.908503Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:10.990993Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:10.991171Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;QmLXXAAROJpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:10.991428Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:10.991576Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;870&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:10.992225Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:11.066298Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:11.066479Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;SKEO81cWXupt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:11.066732Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:11.066886Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;880&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:11.067527Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:11.067607Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:11.191397Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:11.191576Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;jbfU5MmZJtpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:11.191830Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:11.191988Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;890&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:11.192635Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:11.266913Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:11.267089Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;4cSSQtrZ3ipt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:11.267351Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:11.267501Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;900&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:11.268149Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:11.375568Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:11.375747Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;wohqNRU8nNpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:11.376007Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:11.376162Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;910&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:11.377030Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:11.484278Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:11.484460Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;bfLollGPQjpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:11.484719Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:11.484873Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;920&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:11.485526Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:11.551214Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:11.551393Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;Pb1red8_xKpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:11.551651Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:11.551805Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;930&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:11.552457Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:11.618267Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:11.618445Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;lfekW_Jg1_pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:11.618699Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:11.618853Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;940&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:11.619507Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:11.685238Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:11.685415Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;a4XHFOEmYZpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:11.727222Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:11.727397Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;950&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:11.728108Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:11.794098Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:11.794276Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;muB8hQnQLlpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:11.794532Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:11.794687Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;960&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:11.795340Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:11.860870Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:11.861051Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;PrRdopmrOQpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:11.861315Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:11.861467Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;970&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:11.862110Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:11.961280Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:11.961457Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;tzCNO3aFyipt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:11.961715Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:11.961866Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;980&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:11.962516Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:12.061641Z    1056244 Query    commit</span><br><span class="line">2020-09-01T04:42:12.061819Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;G3eClHNfQ_pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:12.062084Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:12.062240Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;990&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:12.062914Z    1056245 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;6cO0RoUE_9pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:42:12.063086Z    1056244 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:42:12.063178Z    1056244 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;999&#39;)) ORDER BY &#96;id&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:42:12.063444Z    1056245 Query    commit</span><br><span class="line">2020-09-01T04:42:12.136943Z    1056244 Query    commit</span><br></pre></td></tr></table></figure>

<h2 id="无主键"><a href="#无主键" class="headerlink" title="无主键"></a>无主键</h2><h3 id="limit-10"><a href="#limit-10" class="headerlink" title="limit 10"></a>limit 10</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2020-09-01T04:45:54.612856Z    1056246 Connect    root@localhost on qixin using Socket</span><br><span class="line">2020-09-01T04:45:54.623925Z    1056246 Query    set autocommit&#x3D;0</span><br><span class="line">2020-09-01T04:45:54.624208Z    1056246 Query    &#x2F;*!40101 SET NAMES &quot;utf8&quot;*&#x2F;</span><br><span class="line">2020-09-01T04:45:54.624500Z    1056246 Query    SHOW VARIABLES LIKE &#39;wait\_timeout&#39;</span><br><span class="line">2020-09-01T04:45:54.656371Z    1056246 Query    SET SESSION wait_timeout&#x3D;10000</span><br><span class="line">2020-09-01T04:45:54.661161Z    1056246 Query    SELECT @@SQL_MODE</span><br><span class="line">2020-09-01T04:45:54.668229Z    1056246 Query    SET @@SQL_QUOTE_SHOW_CREATE &#x3D; 1&#x2F;*!40101, @@SQL_MODE&#x3D;&#39;NO_AUTO_VALUE_ON_ZERO,ONLY_FULL_GROUP_BY&#39;*&#x2F;</span><br><span class="line">2020-09-01T04:45:54.668560Z    1056246 Query    SHOW VARIABLES LIKE &#39;version%&#39;</span><br><span class="line">2020-09-01T04:45:54.670183Z    1056246 Query    SHOW ENGINES</span><br><span class="line">2020-09-01T04:45:54.670572Z    1056246 Query    SHOW VARIABLES LIKE &#39;innodb_version&#39;</span><br><span class="line">2020-09-01T04:45:54.672227Z    1056246 Query    show variables like &#39;innodb_rollback_on_timeout&#39;</span><br><span class="line">2020-09-01T04:45:54.673738Z    1056246 Query    &#x2F;*!40101 SET @OLD_SQL_MODE :&#x3D; @@SQL_MODE, @@SQL_MODE :&#x3D; &#39;&#39;, @OLD_QUOTE :&#x3D; @@SQL_QUOTE_SHOW_CREATE, @@SQL_QUOTE_SHOW_CREATE :&#x3D; 1 *&#x2F;</span><br><span class="line">2020-09-01T04:45:54.673934Z    1056246 Query    USE &#96;qixin&#96;</span><br><span class="line">2020-09-01T04:45:54.674112Z    1056246 Query    SHOW CREATE TABLE &#96;qixin&#96;.&#96;table_demo1&#96;</span><br><span class="line">2020-09-01T04:45:54.678915Z    1056246 Query    &#x2F;*!40101 SET @@SQL_MODE :&#x3D; @OLD_SQL_MODE, @@SQL_QUOTE_SHOW_CREATE :&#x3D; @OLD_QUOTE *&#x2F;</span><br><span class="line">2020-09-01T04:45:54.679534Z    1056247 Connect    root@localhost on qixin using Socket</span><br><span class="line">2020-09-01T04:45:54.679664Z    1056247 Query    set autocommit&#x3D;0</span><br><span class="line">2020-09-01T04:45:54.679753Z    1056247 Query    &#x2F;*!40101 SET NAMES &quot;utf8&quot;*&#x2F;</span><br><span class="line">2020-09-01T04:45:54.679839Z    1056247 Query    SHOW VARIABLES LIKE &#39;wait\_timeout&#39;</span><br><span class="line">2020-09-01T04:45:55.218189Z    1056247 Query    SET SESSION wait_timeout&#x3D;10000</span><br><span class="line">2020-09-01T04:45:55.234263Z    1056247 Query    SELECT @@SQL_MODE</span><br><span class="line">2020-09-01T04:45:55.234411Z    1056247 Query    SET @@SQL_QUOTE_SHOW_CREATE &#x3D; 1&#x2F;*!40101, @@SQL_MODE&#x3D;&#39;NO_AUTO_VALUE_ON_ZERO,ONLY_FULL_GROUP_BY&#39;*&#x2F;</span><br><span class="line">2020-09-01T04:45:55.234560Z    1056247 Query    SHOW VARIABLES LIKE &#39;version%&#39;</span><br><span class="line">2020-09-01T04:45:55.235579Z    1056247 Query    SHOW ENGINES</span><br><span class="line">2020-09-01T04:45:55.235830Z    1056247 Query    SHOW VARIABLES LIKE &#39;innodb_version&#39;</span><br><span class="line">2020-09-01T04:45:55.236820Z    1056247 Query    show variables like &#39;innodb_rollback_on_timeout&#39;</span><br><span class="line">2020-09-01T04:45:55.237728Z    1056247 Query    &#x2F;*!40101 SET @OLD_SQL_MODE :&#x3D; @@SQL_MODE, @@SQL_MODE :&#x3D; &#39;&#39;, @OLD_QUOTE :&#x3D; @@SQL_QUOTE_SHOW_CREATE, @@SQL_QUOTE_SHOW_CREATE :&#x3D; 1 *&#x2F;</span><br><span class="line">2020-09-01T04:45:55.237792Z    1056247 Query    USE &#96;qixin&#96;</span><br><span class="line">2020-09-01T04:45:55.237863Z    1056247 Query    SHOW CREATE TABLE &#96;qixin&#96;.&#96;table_demo1_history&#96;</span><br><span class="line">2020-09-01T04:45:55.241535Z    1056247 Query    &#x2F;*!40101 SET @@SQL_MODE :&#x3D; @OLD_SQL_MODE, @@SQL_QUOTE_SHOW_CREATE :&#x3D; @OLD_QUOTE *&#x2F;</span><br><span class="line">2020-09-01T04:45:55.241737Z    1056246 Query    SHOW VARIABLES LIKE &#39;wsrep_on&#39;</span><br><span class="line">2020-09-01T04:45:55.243097Z    1056246 Query    SHOW VARIABLES LIKE &#39;wsrep_on&#39;</span><br><span class="line">2020-09-01T04:45:55.244589Z    1056246 Query    SHOW VARIABLES LIKE &#39;version%&#39;</span><br><span class="line">2020-09-01T04:45:55.245981Z    1056246 Query    SHOW ENGINES</span><br><span class="line">2020-09-01T04:45:55.246232Z    1056246 Query    SHOW VARIABLES LIKE &#39;innodb_version&#39;</span><br><span class="line">2020-09-01T04:45:55.247947Z    1056246 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) ORDER BY &#96;ucreatetime&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:45:55.268841Z    1056246 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:45:55.269115Z    1056247 Query    commit</span><br><span class="line">2020-09-01T04:45:55.269152Z    1056246 Query    commit</span><br><span class="line">2020-09-01T04:45:55.276755Z    1056247 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;0mSKYe9H_1pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo1_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:45:55.391896Z    1056246 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:45:55.392042Z    1056246 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND ((((&#39;2020-09-01 11:51:26&#39; IS NULL AND &#96;ucreatetime&#96; IS NOT NULL) OR (&#96;ucreatetime&#96; &gt; &#39;2020-09-01 11:51:26&#39;)))) ORDER BY &#96;ucreatetime&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:45:55.392634Z    1056247 Query    commit</span><br><span class="line">2020-09-01T04:45:55.467403Z    1056246 Query    commit</span><br><span class="line">2020-09-01T04:45:55.467582Z    1056247 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;3d4ZQAAhXmpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo1_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:45:55.467841Z    1056246 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:45:55.468008Z    1056246 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND ((((&#39;2020-09-02 11:51:27&#39; IS NULL AND &#96;ucreatetime&#96; IS NOT NULL) OR (&#96;ucreatetime&#96; &gt; &#39;2020-09-02 11:51:27&#39;)))) ORDER BY &#96;ucreatetime&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:45:55.468659Z    1056247 Query    commit</span><br><span class="line">2020-09-01T04:45:55.534448Z    1056246 Query    commit</span><br><span class="line">2020-09-01T04:45:55.534626Z    1056247 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;OM6TBYirhppt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo1_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:45:55.534880Z    1056246 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:45:55.535045Z    1056246 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND ((((&#39;2020-09-03 11:51:27&#39; IS NULL AND &#96;ucreatetime&#96; IS NOT NULL) OR (&#96;ucreatetime&#96; &gt; &#39;2020-09-03 11:51:27&#39;)))) ORDER BY &#96;ucreatetime&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:45:55.535692Z    1056247 Query    commit</span><br><span class="line">2020-09-01T04:45:55.601410Z    1056246 Query    commit</span><br><span class="line">2020-09-01T04:45:55.601589Z    1056247 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;ugFgLdzN5Vpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo1_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:45:55.601842Z    1056246 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:45:55.602005Z    1056246 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND ((((&#39;2020-09-04 11:51:27&#39; IS NULL AND &#96;ucreatetime&#96; IS NOT NULL) OR (&#96;ucreatetime&#96; &gt; &#39;2020-09-04 11:51:27&#39;)))) ORDER BY &#96;ucreatetime&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:45:55.602658Z    1056247 Query    commit</span><br><span class="line">2020-09-01T04:45:55.668336Z    1056246 Query    commit</span><br><span class="line">2020-09-01T04:45:55.668513Z    1056247 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;eS64zSsg81pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo1_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:45:55.668784Z    1056246 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:45:55.668945Z    1056246 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND ((((&#39;2020-09-05 11:51:27&#39; IS NULL AND &#96;ucreatetime&#96; IS NOT NULL) OR (&#96;ucreatetime&#96; &gt; &#39;2020-09-05 11:51:27&#39;)))) ORDER BY &#96;ucreatetime&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:45:55.669588Z    1056247 Query    commit</span><br><span class="line">2020-09-01T04:45:55.735344Z    1056246 Query    commit</span><br><span class="line">2020-09-01T04:45:55.735525Z    1056247 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;pm9PxNBm_Mpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo1_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:45:55.735781Z    1056246 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:45:55.735946Z    1056246 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND ((((&#39;2020-09-06 11:51:27&#39; IS NULL AND &#96;ucreatetime&#96; IS NOT NULL) OR (&#96;ucreatetime&#96; &gt; &#39;2020-09-06 11:51:27&#39;)))) ORDER BY &#96;ucreatetime&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:45:55.736597Z    1056247 Query    commit</span><br><span class="line">2020-09-01T04:45:55.802210Z    1056246 Query    commit</span><br><span class="line">2020-09-01T04:45:55.802392Z    1056247 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;ZgF1CTnJbEpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo1_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:45:55.802647Z    1056246 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:45:55.802805Z    1056246 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND ((((&#39;2020-09-07 11:51:27&#39; IS NULL AND &#96;ucreatetime&#96; IS NOT NULL) OR (&#96;ucreatetime&#96; &gt; &#39;2020-09-07 11:51:27&#39;)))) ORDER BY &#96;ucreatetime&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:45:55.803459Z    1056247 Query    commit</span><br><span class="line">2020-09-01T04:45:55.869209Z    1056246 Query    commit</span><br><span class="line">2020-09-01T04:45:55.869388Z    1056247 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;KdLG2B7LqRpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo1_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:45:55.869636Z    1056246 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:45:55.869790Z    1056246 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND ((((&#39;2020-09-08 11:51:27&#39; IS NULL AND &#96;ucreatetime&#96; IS NOT NULL) OR (&#96;ucreatetime&#96; &gt; &#39;2020-09-08 11:51:27&#39;)))) ORDER BY &#96;ucreatetime&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:45:55.870438Z    1056247 Query    commit</span><br><span class="line">2020-09-01T04:45:55.936160Z    1056246 Query    commit</span><br><span class="line">2020-09-01T04:45:55.936345Z    1056247 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;DIf1nNHCG2pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo1_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T04:45:55.936601Z    1056246 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T04:45:55.936763Z    1056246 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND ((((&#39;2020-09-09 11:51:27&#39; IS NULL AND &#96;ucreatetime&#96; IS NOT NULL) OR (&#96;ucreatetime&#96; &gt; &#39;2020-09-09 11:51:27&#39;)))) ORDER BY &#96;ucreatetime&#96; LIMIT 10</span><br><span class="line">2020-09-01T04:45:55.937182Z    1056247 Query    commit</span><br><span class="line">2020-09-01T04:45:56.011530Z    1056246 Query    commit</span><br></pre></td></tr></table></figure>

<h3 id="limit-500"><a href="#limit-500" class="headerlink" title="limit 500"></a>limit 500</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">2020-09-01T07:24:52.407145Z    1056259 Query    USE &#96;qixin&#96;</span><br><span class="line">2020-09-01T07:24:52.407216Z    1056259 Query    SHOW CREATE TABLE &#96;qixin&#96;.&#96;table_demo1&#96;</span><br><span class="line">2020-09-01T07:24:52.407338Z    1056259 Query    &#x2F;*!40101 SET @@SQL_MODE :&#x3D; @OLD_SQL_MODE, @@SQL_QUOTE_SHOW_CREATE :&#x3D; @OLD_QUOTE *&#x2F;</span><br><span class="line">2020-09-01T07:24:52.407779Z    1056260 Connect    root@localhost on qixin using Socket</span><br><span class="line">2020-09-01T07:24:52.407847Z    1056260 Query    set autocommit&#x3D;0</span><br><span class="line">2020-09-01T07:24:52.407912Z    1056260 Query    &#x2F;*!40101 SET NAMES &quot;utf8&quot;*&#x2F;</span><br><span class="line">2020-09-01T07:24:52.407989Z    1056260 Query    SHOW VARIABLES LIKE &#39;wait\_timeout&#39;</span><br><span class="line">2020-09-01T07:24:52.408816Z    1056260 Query    SET SESSION wait_timeout&#x3D;10000</span><br><span class="line">2020-09-01T07:24:52.417696Z    1056260 Query    SELECT @@SQL_MODE</span><br><span class="line">2020-09-01T07:24:52.424302Z    1056260 Query    SET @@SQL_QUOTE_SHOW_CREATE &#x3D; 1&#x2F;*!40101, @@SQL_MODE&#x3D;&#39;NO_AUTO_VALUE_ON_ZERO,ONLY_FULL_GROUP_BY&#39;*&#x2F;</span><br><span class="line">2020-09-01T07:24:52.424482Z    1056260 Query    SHOW VARIABLES LIKE &#39;version%&#39;</span><br><span class="line">2020-09-01T07:24:52.425539Z    1056260 Query    SHOW ENGINES</span><br><span class="line">2020-09-01T07:24:52.425778Z    1056260 Query    SHOW VARIABLES LIKE &#39;innodb_version&#39;</span><br><span class="line">2020-09-01T07:24:52.426745Z    1056260 Query    show variables like &#39;innodb_rollback_on_timeout&#39;</span><br><span class="line">2020-09-01T07:24:52.427632Z    1056260 Query    &#x2F;*!40101 SET @OLD_SQL_MODE :&#x3D; @@SQL_MODE, @@SQL_MODE :&#x3D; &#39;&#39;, @OLD_QUOTE :&#x3D; @@SQL_QUOTE_SHOW_CREATE, @@SQL_QUOTE_SHOW_CREATE :&#x3D; 1 *&#x2F;</span><br><span class="line">2020-09-01T07:24:52.427694Z    1056260 Query    USE &#96;qixin&#96;</span><br><span class="line">2020-09-01T07:24:52.427761Z    1056260 Query    SHOW CREATE TABLE &#96;qixin&#96;.&#96;table_demo1_history1&#96;</span><br><span class="line">2020-09-01T07:24:52.427882Z    1056260 Query    &#x2F;*!40101 SET @@SQL_MODE :&#x3D; @OLD_SQL_MODE, @@SQL_QUOTE_SHOW_CREATE :&#x3D; @OLD_QUOTE *&#x2F;</span><br><span class="line">2020-09-01T07:24:52.428089Z    1056259 Query    SHOW VARIABLES LIKE &#39;wsrep_on&#39;</span><br><span class="line">2020-09-01T07:24:52.429419Z    1056259 Query    SHOW VARIABLES LIKE &#39;wsrep_on&#39;</span><br><span class="line">2020-09-01T07:24:52.430896Z    1056259 Query    SHOW VARIABLES LIKE &#39;version%&#39;</span><br><span class="line">2020-09-01T07:24:52.432260Z    1056259 Query    SHOW ENGINES</span><br><span class="line">2020-09-01T07:24:52.432508Z    1056259 Query    SHOW VARIABLES LIKE &#39;innodb_version&#39;</span><br><span class="line">2020-09-01T07:24:52.434235Z    1056259 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) ORDER BY &#96;ucreatetime&#96; LIMIT 500</span><br><span class="line">2020-09-01T07:24:52.457603Z    1056259 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T07:24:52.457874Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.457909Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.458142Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.458169Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.458394Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.458420Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.458640Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.458665Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.458881Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.458906Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.459122Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.459148Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.459372Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.459400Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.459617Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.459642Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.459856Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.459881Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.460096Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.460122Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.460182Z    1056259 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T07:24:52.460392Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.460420Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.460637Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.460664Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.460890Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.460917Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.461134Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.461160Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.461379Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.461404Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.461617Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.461642Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.461856Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.461881Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.462094Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.462120Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.462339Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.462365Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.462580Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.462606Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.462664Z    1056259 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T07:24:52.462866Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.462893Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.463108Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.463134Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.463351Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.463377Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.463600Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.463624Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.463834Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.463858Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.464068Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.464091Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.464309Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.464336Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.464552Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.464577Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.464791Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.464816Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.465032Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.465058Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.465116Z    1056259 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T07:24:52.465324Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.465352Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.465569Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.465596Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.465814Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.465841Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.466059Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.466086Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.466308Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.466333Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.466559Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.466585Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.466800Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.466825Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.467048Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.467076Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.467296Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.467323Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.467540Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.467567Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.467628Z    1056259 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T07:24:52.467833Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.467861Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.468079Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.468107Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.468327Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.468354Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.468571Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.468598Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.468815Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.468842Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.469061Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.469089Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.469311Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.469338Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.469563Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.469590Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.469808Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.469835Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.470053Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.470081Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.470169Z    1056260 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;ilApsDuNwxpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo1_history1&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T07:24:52.637221Z    1056259 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T07:24:52.637405Z    1056259 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND ((((&#39;2020-09-05 11:51:27&#39; IS NULL AND &#96;ucreatetime&#96; IS NOT NULL) OR (&#96;ucreatetime&#96; &gt; &#39;2020-09-05 11:51:27&#39;)))) ORDER BY &#96;ucreatetime&#96; LIMIT 500</span><br><span class="line">2020-09-01T07:24:52.638412Z    1056259 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T07:24:52.638626Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.712539Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.712892Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.712952Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.713237Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.713286Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.713543Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.713577Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.713795Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.713823Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.714046Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.714074Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.714292Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.714319Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.714536Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.714563Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.714780Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.714807Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.715027Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.715055Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.715142Z    1056259 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T07:24:52.715343Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.715371Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.715602Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.715628Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.715842Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.715867Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.716085Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.716111Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.716360Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.716386Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.716608Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.716634Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.716849Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.716875Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.717092Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.717118Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.717345Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.717373Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.717591Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.717618Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.717699Z    1056259 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T07:24:52.717887Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.717915Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.718137Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.718165Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.718382Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.718409Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.718634Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.718662Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.718878Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.718905Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.719127Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.719155Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.719372Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.719399Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.719614Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.719641Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.719862Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.719890Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.720111Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.720139Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.720219Z    1056259 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T07:24:52.720406Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.720433Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.720652Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.720679Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.720896Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.720923Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.721144Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.721172Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.721391Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.721418Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.721643Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.721671Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.721888Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.721915Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.722135Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.722163Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.722382Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.722409Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.722627Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.722654Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.722758Z    1056260 Query    LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;pEtJXKqDTxpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo1_history1&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br><span class="line">2020-09-01T07:24:52.763110Z    1056259 Query    SELECT &#39;pt-archiver keepalive&#39;</span><br><span class="line">2020-09-01T07:24:52.763289Z    1056259 Query    SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND ((((&#39;2020-09-09 11:51:27&#39; IS NULL AND &#96;ucreatetime&#96; IS NOT NULL) OR (&#96;ucreatetime&#96; &gt; &#39;2020-09-09 11:51:27&#39;)))) ORDER BY &#96;ucreatetime&#96; LIMIT 500</span><br><span class="line">2020-09-01T07:24:52.763708Z    1056260 Query    commit</span><br><span class="line">2020-09-01T07:24:52.838064Z    1056259 Query    commit</span><br><span class="line">2020-09-01T07:24:52.838341Z    1056259 Quit</span><br><span class="line">2020-09-01T07:24:52.838978Z    1056260 Quit</span><br><span class="line">2020-09-01T07:24:57.837254Z    1056256 Query    SET GLOBAL general_log &#x3D; &#39;OFF&#39;</span><br></pre></td></tr></table></figure>

<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><blockquote>
<p>为什么表无主键时获取不到正确的行数呢？</p>
</blockquote>
<p><code>--limit=10</code> 代表一次取出10行数据：</p>
<h2 id="有主键的表"><a href="#有主键的表" class="headerlink" title="有主键的表"></a>有主键的表</h2><p>第一步：PT工具第一步获取 source 表的主键id的最大值，命令如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT MAX(&#96;id&#96;) FROM &#96;qixin&#96;.&#96;table_demo&#96;</span><br><span class="line">​&#96;&#96;&#96; </span><br><span class="line"></span><br><span class="line">第二步：按照PT命令中指定的&#96;where过滤条件&#96; AND &#96;对主键ID的过滤&#96;，按照ID排序，取前10行,保存到临时文件中，命令如下：</span><br><span class="line"></span><br><span class="line">​&#96;&#96;&#96;sql </span><br><span class="line">SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; </span><br><span class="line">FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) </span><br><span class="line">WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) </span><br><span class="line">ORDER BY &#96;id&#96; LIMIT 10</span><br></pre></td></tr></table></figure>

<p>第三步：通过LOAD DATA LOCAL INFILE 快速加载文件到归档表table_demo_history。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;AU0TjwWDdcpt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br></pre></td></tr></table></figure>

<p>接下来就是循环第二步和第三步，直到取完所有的数据, 并加载到归档表table_demo_history。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; </span><br><span class="line">FROM &#96;qixin&#96;.&#96;table_demo&#96; FORCE INDEX(&#96;PRIMARY&#96;) </span><br><span class="line">WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND (&#96;id&#96; &lt; &#39;1000&#39;) AND ((&#96;id&#96; &gt; &#39;10&#39;)) </span><br><span class="line">ORDER BY &#96;id&#96; LIMIT 10</span><br></pre></td></tr></table></figure>

<h2 id="无主键的表"><a href="#无主键的表" class="headerlink" title="无主键的表"></a>无主键的表</h2><p>第一步：由于没有主键，因此没有办法获取主键ID的最大值，跳过该步骤。</p>
<p>第二步：按照PT命令中指定的<code>where过滤条件</code> AND <code>对主键ID的过滤</code>，按照ID排序，取前10行,保存到临时文件中，命令如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; </span><br><span class="line">FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) </span><br><span class="line">WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) </span><br><span class="line">ORDER BY &#96;ucreatetime&#96; LIMIT 10</span><br></pre></td></tr></table></figure>

<p>第三步：通过LOAD DATA LOCAL INFILE 快速加载文件到归档表table_demo_history。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">LOAD DATA LOCAL INFILE &#39;&#x2F;tmp&#x2F;0mSKYe9H_1pt-archiver&#39; INTO TABLE &#96;qixin&#96;.&#96;table_demo1_history&#96;CHARACTER SET utf8(&#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96;)</span><br></pre></td></tr></table></figure>

<p>接下来就是循环第二步和第三步，直到取完所有的数据, 并加载到归档表table_demo_history。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; </span><br><span class="line">FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) </span><br><span class="line">WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND</span><br><span class="line"> (</span><br><span class="line">((</span><br><span class="line">(&#39;2020-09-01 11:51:26&#39; IS NULL AND &#96;ucreatetime&#96; IS NOT NULL) OR </span><br><span class="line">(&#96;ucreatetime&#96; &gt; &#39;2020-09-01 11:51:26&#39;)</span><br><span class="line">))</span><br><span class="line">) </span><br><span class="line">ORDER BY &#96;ucreatetime&#96; LIMIT 10</span><br></pre></td></tr></table></figure>

<h2 id="无主键时的过滤"><a href="#无主键时的过滤" class="headerlink" title="无主键时的过滤"></a>无主键时的过滤</h2><p>第 1 次查询条件取了 <code>ucreatetime &gt;= &#39;2020-09-01 11:51:26&#39;</code> 的 10行数据，且排序规则使用的是<code>ucreatetime</code><br>第 2 次查询条件取了 <code>ucreatetime &gt; &#39;2020-09-01 11:51:26&#39;</code> 的 10行数据，且排序规则使用的是<code>ucreatetime</code><br>第 3 次查询条件取了 <code>ucreatetime &gt; &#39;2020-09-02 11:51:26&#39;</code> 的 10行数据，且排序规则使用的是<code>ucreatetime</code><br>第 4 次查询条件取了 <code>ucreatetime &gt; &#39;2020-09-04 11:51:26&#39;</code> 的 10行数据，且排序规则使用的是<code>ucreatetime</code><br>第 n 次查询条件取了 <code>ucreatetime &gt; &#39;2020-09-xx 11:51:26&#39;</code> 的 10行数据，且排序规则使用的是<code>ucreatetime</code></p>
<p>个人理解：索引<code>idx_ucreatetime</code> 为辅助索引，内部为B+树，叶子节点存放着<code>ucreatetime</code>的所有数据</p>
<p>无主键的过滤条件中PT会使用叶子节点的值进行过滤(具体值为上一次查询的最后一个值)，并取limit 10；</p>
<p>从而导致了 <code>--limit 10</code> 只能归档90条数据。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">root@MySQL-01 14:59:  [qixin]&gt; select distinct ucreatetime from table_demo1;</span><br><span class="line">+---------------------+</span><br><span class="line">| ucreatetime         |</span><br><span class="line">+---------------------+</span><br><span class="line">| 2020-09-01 11:51:26 |</span><br><span class="line">| 2020-09-02 11:51:27 |</span><br><span class="line">| 2020-09-03 11:51:27 |</span><br><span class="line">| 2020-09-04 11:51:27 |</span><br><span class="line">| 2020-09-05 11:51:27 |</span><br><span class="line">| 2020-09-06 11:51:27 |</span><br><span class="line">| 2020-09-07 11:51:27 |</span><br><span class="line">| 2020-09-08 11:51:27 |</span><br><span class="line">| 2020-09-09 11:51:27 |</span><br><span class="line">+---------------------+</span><br><span class="line">9 rows in set (0.02 sec)</span><br></pre></td></tr></table></figure>

<p>当调整<code>limit</code>参数为 500时，PT的查询如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; </span><br><span class="line">FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) </span><br><span class="line">WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) ORDER BY &#96;ucreatetime&#96; LIMIT 500;</span><br><span class="line"></span><br><span class="line"># 执行结果</span><br><span class="line">|  497 | 用户7   | 2020-09-04 11:51:27 |   20 |</span><br><span class="line">|  498 | 用户8   | 2020-09-04 11:51:27 |   20 |</span><br><span class="line">|  499 | 用户9   | 2020-09-04 11:51:27 |   20 |</span><br><span class="line">|  500 | 用户0   | 2020-09-05 11:51:27 |   20 |</span><br><span class="line">+------+---------+---------------------+------+</span><br><span class="line">500 rows in set (0.03 sec)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; </span><br><span class="line">FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) </span><br><span class="line">WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND</span><br><span class="line"> (</span><br><span class="line"> ((</span><br><span class="line">        (&#39;2020-09-05 11:51:27&#39; IS NULL AND &#96;ucreatetime&#96; IS NOT NULL) OR </span><br><span class="line">        (&#96;ucreatetime&#96; &gt; &#39;2020-09-05 11:51:27&#39;)</span><br><span class="line"> ))</span><br><span class="line"> ) </span><br><span class="line"> ORDER BY &#96;ucreatetime&#96; LIMIT 500;</span><br><span class="line"></span><br><span class="line"># 执行结果</span><br><span class="line">|  998 | 用户8   | 2020-09-09 11:51:27 |   20 |</span><br><span class="line">|  999 | 用户9   | 2020-09-09 11:51:27 |   20 |</span><br><span class="line">| 1000 | 用户0   | 2020-09-09 11:51:27 |   20 |</span><br><span class="line">+------+---------+---------------------+------+</span><br><span class="line">401 rows in set (0.00 sec)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">SELECT &#x2F;*!40001 SQL_NO_CACHE *&#x2F; &#96;id&#96;,&#96;uname&#96;,&#96;ucreatetime&#96;,&#96;age&#96; </span><br><span class="line">FROM &#96;qixin&#96;.&#96;table_demo1&#96; FORCE INDEX(&#96;idx_ucreatetime&#96;) </span><br><span class="line">WHERE (ucreatetime &gt;&#x3D; &#39;2020-09-01 11:51:26&#39;) AND </span><br><span class="line">(</span><br><span class="line">((</span><br><span class="line">    (&#39;2020-09-09 11:51:27&#39; IS NULL AND &#96;ucreatetime&#96; IS NOT NULL) OR </span><br><span class="line">    (&#96;ucreatetime&#96; &gt; &#39;2020-09-09 11:51:27&#39;)</span><br><span class="line"> ))</span><br><span class="line"> ) </span><br><span class="line">ORDER BY &#96;ucreatetime&#96; LIMIT 500</span><br></pre></td></tr></table></figure>

<p>由此可以得出，PT在无主键的归档时，是无法保证数据正确的。建议生产中的表应规范主键。</p>
<h1 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h1><p>是否可以调整PT源码，使其支持无主键的表呢？</p>
<p>没有必要，让工具去支持不规范的操作是没有意义的。</p>
<blockquote>
<p><strong>pt-archiver操作的表必须有主键</strong></p>
</blockquote>
]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>pt-archiver</tag>
      </tags>
  </entry>
  <entry>
    <title>DataWorks增量调度任务配置</title>
    <url>/2020/08/05/%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93/DataWorks%E5%A2%9E%E9%87%8F%E8%B0%83%E5%BA%A6%E4%BB%BB%E5%8A%A1%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<blockquote>
<p>参考：<a href="https://help.aliyun.com/knowledge_detail/137548.html?spm=a1z3jh.13523495.0.0.689762428L6Zxe" target="_blank" rel="noopener">https://help.aliyun.com/knowledge_detail/137548.html?spm=a1z3jh.13523495.0.0.689762428L6Zxe</a></p>
</blockquote>
<h1 id="增量配置"><a href="#增量配置" class="headerlink" title="增量配置"></a>增量配置</h1><figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 源表过滤条件</span></span><br><span class="line">convert(varchar(100),[Update_Date],120)&gt;'$&#123;keys1&#125; $&#123;keys2&#125;'</span><br><span class="line">convert(varchar(100),[update_date],120)&gt;'$&#123;keys1&#125; $&#123;keys2&#125;'</span><br><span class="line"> </span><br><span class="line">每10分钟调度一次</span><br><span class="line"><span class="comment"># 自定义变量</span></span><br><span class="line">keys1=$[yyyy-mm-dd] keys2=$[hh24:mi:ss -12/24/60]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">每小时调度一次</span><br><span class="line"><span class="comment"># 自定义变量</span></span><br><span class="line">keys1=$[yyyy-mm-dd] keys2=$[hh24:mi:ss -1/24]</span><br></pre></td></tr></table></figure>

<img src="/2020/08/05/%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93/DataWorks%E5%A2%9E%E9%87%8F%E8%B0%83%E5%BA%A6%E4%BB%BB%E5%8A%A1%E9%85%8D%E7%BD%AE/1.png" class="" title="This is an 1 image">
<img src="/2020/08/05/%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93/DataWorks%E5%A2%9E%E9%87%8F%E8%B0%83%E5%BA%A6%E4%BB%BB%E5%8A%A1%E9%85%8D%E7%BD%AE/2.png" class="" title="This is an 2 image">

<h1 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h1><p>调度资源有<code>最大线程数</code>限制，需求对象超出最大线程数，需要规划业务流。</p>
<ul>
<li>强要求按照分钟频率</li>
<li>其他按小时频率，并错开起始时间</li>
</ul>
<table>
<thead>
<tr>
<th>表名</th>
<th>opt前置库表行数</th>
<th>明珠塔表行数</th>
<th>全量迁移时长</th>
<th>全量同步是否有问题</th>
<th>数据是否异常</th>
<th>备注</th>
<th>增量同步</th>
<th>增量频率</th>
<th>增量调度起始时间</th>
<th>全量调度日期</th>
<th>全量调度时间</th>
<th>全量调度周期</th>
</tr>
</thead>
<tbody><tr>
<td>dic</td>
<td>0</td>
<td>0</td>
<td>1min</td>
<td>否</td>
<td>否</td>
<td></td>
<td>incr_2</td>
<td>1h</td>
<td>0:10</td>
<td>2020-07-28 ~ 2020-07-29</td>
<td>23:20</td>
<td>日调度</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>云数据库</category>
      </categories>
      <tags>
        <tag>DataWorks</tag>
        <tag>异构迁移</tag>
      </tags>
  </entry>
  <entry>
    <title>01_一条SQL是如何执行的？</title>
    <url>/2020/07/01/MySQL%E5%AE%9E%E6%88%9845%E8%AE%B2/01-%E4%B8%80%E6%9D%A1SQL%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84%EF%BC%9F/</url>
    <content><![CDATA[<h1 id="SQL语句执行的基本链路"><a href="#SQL语句执行的基本链路" class="headerlink" title="SQL语句执行的基本链路"></a>SQL语句执行的基本链路</h1><img src="/2020/07/01/MySQL%E5%AE%9E%E6%88%9845%E8%AE%B2/01-%E4%B8%80%E6%9D%A1SQL%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84%EF%BC%9F/1.png" class="" title="This is an 1 image">
<blockquote>
<p>MySQL可以分为 Server层和存储引擎层两部分<br>Server 层包括连接器、查询缓存、分析器、优化器、执行器等，涵盖 MySQL 的大多数核心服务功能，以及所有的内置函数（如日期、时间、数学和加密函数等），所有跨存储引擎的功能都在这一层实现，比如存储过程、触发器、视图等。<br>而存储引擎层负责数据的存储和提取。其架构模式是插件式的，支持 InnoDB、MyISAM、Memory 等多个存储引擎。现在最常用的存储引擎是 InnoDB，它从 MySQL 5.5.5 版本开始成为了默认存储引擎。</p>
</blockquote>
<p><strong>连接器</strong></p>
<ul>
<li>连接器第一步，你会先连接到这个数据库上，这时候接待你的就是连接器。连接器负责跟客户端建立连接、获取权限、维持和管理连接。</li>
</ul>
<p><strong>查询缓存</strong></p>
<ul>
<li>MySQL拿到一个查询请求后，会先到查询缓存看看，之前是不是执行过这条语句。查询能够直接在这个缓存中找到key，那么这个value就会被直接返回给客户段。</li>
<li>如果语句不在查询缓存中，就会继续后面的执行阶段。执行完成后，执行结果会被存入查询缓存中。</li>
</ul>
<p><strong>分析器</strong></p>
<ul>
<li>分析器先做“词法分析”，做完关键字识别后，就要做“语法分析”</li>
<li>如果语句不对，提示“You have an error in you SQL syntax”</li>
</ul>
<p><strong>优化器</strong></p>
<h1 id="重要的日志模块：redo-log"><a href="#重要的日志模块：redo-log" class="headerlink" title="重要的日志模块：redo log"></a>重要的日志模块：redo log</h1><img src="/2020/07/01/MySQL%E5%AE%9E%E6%88%9845%E8%AE%B2/01-%E4%B8%80%E6%9D%A1SQL%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84%EF%BC%9F/2.png" class="" title="This is an 2 image">
<blockquote>
<p>有了 redo log，InnoDB 就可以保证即使数据库发生异常重启，之前提交的记录都不会丢失，这个能力称为 <strong>crash-safe。</strong></p>
</blockquote>
<h1 id="重要的日志模块：binlog"><a href="#重要的日志模块：binlog" class="headerlink" title="重要的日志模块：binlog"></a>重要的日志模块：binlog</h1><p>这两种日志有以下三点不同:</p>
<ul>
<li>redo log 是 InnoDB 引擎特有的；binlog 是 MySQL 的 Server 层实现的，所有引擎都可以使用。</li>
<li>redo log 是物理日志，记录的是“在某个数据页上做了什么修改”；binlog 是逻辑日志，记录的是这个语句的原始逻辑，比如“给 ID=2 这一行的 c 字段加 1 ”。</li>
<li>redo log 是循环写的，空间固定会用完；binlog 是可以追加写入的。“追加写”是指 binlog 文件写到一定大小后会切换到下一个，并不会覆盖以前的日志。</li>
</ul>
<p><em>执行器和 InnoDB 引擎在执行这个简单的 update 语句时的内部流程。</em></p>
<ul>
<li>执行器先找引擎取 ID=2 这一行。ID 是主键，引擎直接用树搜索找到这一行。如果 ID=2 这一行所在的数据页本来就在内存中，就直接返回给执行器；否则，需要先从磁盘读入内存，然后再返回。</li>
<li>执行器拿到引擎给的行数据，把这个值加上 1，比如原来是 N，现在就是 N+1，得到新的一行数据，再调用引擎接口写入这行新数据。- </li>
<li>引擎将这行新数据更新到内存中，同时将这个更新操作记录到 redo log 里面，此时 redo log 处于 prepare 状态。然后告知执行器执行完成了，随时可以提交事务。</li>
<li>执行器生成这个操作的 binlog，并把 binlog 写入磁盘。</li>
<li>执行器调用引擎的提交事务接口，引擎把刚刚写入的 redo log 改成提交（commit）状态，更新完成。<img src="/2020/07/01/MySQL%E5%AE%9E%E6%88%9845%E8%AE%B2/01-%E4%B8%80%E6%9D%A1SQL%E6%98%AF%E5%A6%82%E4%BD%95%E6%89%A7%E8%A1%8C%E7%9A%84%EF%BC%9F/3.png" class="" title="This is an 3 image">


</li>
</ul>
<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><ul>
<li>redo log 用于保证 crash-safe 能力。innodb_flush_log_at_trx_commit 这个参数设置成 1 的时候，表示每次事务的 redo log 都直接持久化到磁盘。这个参数我建议你设置成 1，这样可以保证 MySQL 异常重启之后数据不丢失。</li>
<li>sync_binlog 这个参数设置成 1 的时候，表示每次事务的 binlog 都持久化到磁盘。这个参数我也建议你设置成 1，这样可以保证 MySQL 异常重启之后 binlog 不丢失。</li>
</ul>
]]></content>
      <categories>
        <category>MySQL实战45讲</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>SQL</tag>
      </tags>
  </entry>
  <entry>
    <title>mysql5.7语句改写query_rewrite功能</title>
    <url>/2020/06/29/MySQL/mysql57%E8%AF%AD%E5%8F%A5%E6%94%B9%E5%86%99query-rewrite%E5%8A%9F%E8%83%BD/</url>
    <content><![CDATA[<div class="note info">
            <p>mysql&gt; insert into query_rewrite.rewrite_rules(pattern, replacement, pattern_database) values (“select * from t where id + 1 = ?”, “select * from t where id = ? - 1”, “db1”);<br>call query_rewrite.flush_rewrite_rules();</p>
          </div>
]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
  </entry>
  <entry>
    <title>课程开发要求</title>
    <url>/2020/06/24/%E8%AE%B2%E5%B8%88%E8%AE%A4%E8%AF%81/%E8%AF%BE%E7%A8%8B%E5%BC%80%E5%8F%91%E8%A6%81%E6%B1%82/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>Aliyun讲师认证</category>
      </categories>
      <tags>
        <tag>阿里云大学</tag>
      </tags>
  </entry>
  <entry>
    <title>QuickBI数据分析云课堂基础版</title>
    <url>/2020/06/19/QuickBI%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/QuickBI%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%BA%91%E8%AF%BE%E5%A0%82/</url>
    <content><![CDATA[<h2 id="简介："><a href="#简介：" class="headerlink" title="简介："></a>简介：</h2><p>欢迎加入【Quick BI数据分析云课堂】，在接下来的三周时间里，我们将共同陪伴您学习和使用Quick BI产品。<br>学贵有恒，希望您在今后运用Quick BI在数据分析工作实战生涯中游刃有余时，能够感谢曾经这么努力学习的自己！</p>
<h2 id="目录："><a href="#目录：" class="headerlink" title="目录："></a>目录：</h2><p>1.Quick BI产品概览<br>2.Quick BI快速入门<br>3.Quick BI数据源和数据建模<br>4.仪表板和常用数据图表<br>5.查询控件介绍<br>6.OLAP多维快速计算分析分享</p>
<h3 id="Quick-BI产品概览"><a href="#Quick-BI产品概览" class="headerlink" title="Quick BI产品概览"></a>Quick BI产品概览</h3><h3 id="Quick-BI快速入门"><a href="#Quick-BI快速入门" class="headerlink" title="Quick BI快速入门"></a>Quick BI快速入门</h3>

<h3 id="Quick-BI数据源和数据建模"><a href="#Quick-BI数据源和数据建模" class="headerlink" title="Quick BI数据源和数据建模"></a>Quick BI数据源和数据建模</h3><h3 id="仪表板和常用数据图表"><a href="#仪表板和常用数据图表" class="headerlink" title="仪表板和常用数据图表"></a>仪表板和常用数据图表</h3><p><a href="https://help.aliyun.com/document_detail/53408.html?spm=a2c4g.11186623.6.637.c067d0a9UoOoyL" target="_blank" rel="noopener">仪表板制作</a></p>






]]></content>
      <categories>
        <category>QuickBI数据分析</category>
      </categories>
      <tags>
        <tag>阿里云大学</tag>
      </tags>
  </entry>
  <entry>
    <title>05关-pandas基础</title>
    <url>/2020/06/18/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/05%E5%85%B3-pandas%E5%9F%BA%E7%A1%80/</url>
    <content><![CDATA[<p><a href="https://pandas.pydata.org/" target="_blank" rel="noopener">pandas</a></p>
<p>模块安装</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pip install pandas -i https://pypi.doubanio.com/simple/</span><br><span class="line"><span class="meta">#</span><span class="bash"> 这句话后面 -i https://pypi.doubanio.com/simple/ 表示使用豆瓣的源，这样安装会更快</span></span><br><span class="line"></span><br><span class="line">import pandas as pd</span><br><span class="line"><span class="meta">#</span><span class="bash">引入模块</span></span><br></pre></td></tr></table></figure>

<h2 id="主要数据结构"><a href="#主要数据结构" class="headerlink" title="主要数据结构"></a>主要数据结构</h2><ul>
<li>Series（一维数据）</li>
<li>DataFrame（二维数据）<blockquote>
<p>这两种数据结构足以处理金融、统计、社会科学、工程等领域里的大多数典型用例。</p>
</blockquote>
</li>
</ul>
<p><code>Series</code><br> 是一种类似于 Numpy 中一维数组的对象，它由一组任意类型的数据以及一组与之相关的数据标签（即索引）组成。举个最简单的例子：<br> <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line">print(pd.Series([<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 结果</span></span><br><span class="line"><span class="number">0</span>    <span class="number">2</span></span><br><span class="line"><span class="number">1</span>    <span class="number">4</span></span><br><span class="line"><span class="number">2</span>    <span class="number">6</span></span><br><span class="line"><span class="number">3</span>    <span class="number">8</span></span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>Python数据分析</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>数据分析</tag>
      </tags>
  </entry>
  <entry>
    <title>04关-Matplotlib实战</title>
    <url>/2020/06/18/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/04%E5%85%B3-Matplotlib%E5%AE%9E%E6%88%98/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>Python数据分析</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>数据分析</tag>
      </tags>
  </entry>
  <entry>
    <title>Aliyun讲师认证</title>
    <url>/2020/06/12/%E8%AE%B2%E5%B8%88%E8%AE%A4%E8%AF%81/Aliyun%E8%AE%B2%E5%B8%88%E8%AE%A4%E8%AF%81/</url>
    <content><![CDATA[<h2 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h2><ul>
<li><input checked="" disabled="" type="checkbox"> 熟悉打开课件过程</li>
<li><input checked="" disabled="" type="checkbox"> 熟悉课程PPT内容</li>
<li><input checked="" disabled="" type="checkbox"> 准备每页PPT讲解话术</li>
<li><input checked="" disabled="" type="checkbox"> 讲解过程随时准备回答问题</li>
</ul>
<h3 id="问题："><a href="#问题：" class="headerlink" title="问题："></a>问题：</h3><ul>
<li><p>ACA、ACE、ACP 区别 <a href="https://edu.aliyun.com/certification?spm=5176.10731491.1149155.2.6e3670d7rEzob4" target="_blank" rel="noopener">认证帮助</a><br>阿里云有一个认证体系：体系会分三个等级<br>初级是ACA，针对大学生<br>往上是ACP，专业认证针对在职人员<br>最高级是ACE， 专家级认证</p>
</li>
<li><p>地域如何选择<br>地域是机房吗？ </p>
</li>
<li><p>规格族与规格<br><a href="https://help.aliyun.com/document_detail/25378.html?spm=5176.10695662.1996646101.searchclickresult.20682bf8khalts" target="_blank" rel="noopener">规格族</a></p>
</li>
</ul>
<h2 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h2><ul>
<li><input checked="" disabled="" type="checkbox"> 讲解中互动话题抛出自己完全了解的技术</li>
<li><input checked="" disabled="" type="checkbox"> 了解课程PPT的思维逻辑，根据逻辑安排语言逻辑顺序</li>
<li><input checked="" disabled="" type="checkbox"> 每页PPT内容需要承上启下讲解，左右侧结果先将细节后归类</li>
</ul>
<h2 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h2><p><a href="http://www.linux-kvm.org/page/Main_Page" target="_blank" rel="noopener">kvm</a><br><a href="https://docs.openstack.org/ussuri/" target="_blank" rel="noopener">openstack</a></p>
<div class="note info 目的">
            <p>备注：锻炼说的能力，输出的能力，争取成为团队中最会讲故事的人。</p>
          </div>]]></content>
      <categories>
        <category>Aliyun讲师认证</category>
      </categories>
      <tags>
        <tag>阿里云大学</tag>
      </tags>
  </entry>
  <entry>
    <title>03关-Matplotlib</title>
    <url>/2020/06/11/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/03%E5%85%B3-Matplotlib/</url>
    <content><![CDATA[<h1 id="Matplotlib-初识"><a href="#Matplotlib-初识" class="headerlink" title="Matplotlib 初识"></a>Matplotlib 初识</h1><p>帮助</p>
<p><a href="https://matplotlib.org/api/pyplot_api.html" target="_blank" rel="noopener">matplotlib.pyplot</a></p>
<img src="/2020/06/11/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/03%E5%85%B3-Matplotlib/1.jpg" class="" title="嵌套列表">
<img src="/2020/06/11/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/03%E5%85%B3-Matplotlib/2.jpg" class="" title="嵌套列表">
<img src="/2020/06/11/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/03%E5%85%B3-Matplotlib/3.jpg" class="" title="嵌套列表">
<img src="/2020/06/11/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/03%E5%85%B3-Matplotlib/4.jpg" class="" title="嵌套列表">

<blockquote>
<p>数据展示的目标可以把它们分为五种，分别是：趋势、比较、构成、分布和联系。</p>
</blockquote>
<ul>
<li><p>趋势：这是最常见的一种时间序列关系，关心数据如何随着时间变化，趋势类里的图表能直观反映出每年、每月、每天的变化趋势，增长、减少、上下波动还是基本不变。最常见的是折线图，它能很好地表现指标随时间呈现的趋势。</p>
</li>
<li><p>构成：主要关注每个部分占整体的比例，如果你想分析的目标诸如“份额”、“百分比”等。展示构成关系的图表类型里，最常见的就是饼图。</p>
</li>
<li><p>比较：可以展示某个维度上的排列顺序，分析某维度之间的对比是差不多，还是 “大于”、“小于”，比如分析男生和女生的身高差别。- </p>
</li>
<li><p>分布：当你关心数据集中、频率、分布时，比如根据地理位置数据，通过地图来展示不同分布特征。比较常用的图表有地图、直方图、散点图。</p>
</li>
<li><p>联系：主要查看两个变量之间是否表达出我们预期所要证明的相关关系。比如预期销售额可能随着优惠折扣的增长而增长，常用于表达“与……有关”、“随……而增长”、“随……而不同”等维度间的关系。</p>
</li>
</ul>
<h1 id="练习"><a href="#练习" class="headerlink" title="练习"></a><a href="https://github.com/HuangJingxue/apple_python/blob/master/data_analysis/matplotlib.py" target="_blank" rel="noopener">练习</a></h1>]]></content>
      <categories>
        <category>Python数据分析</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>数据分析</tag>
      </tags>
  </entry>
  <entry>
    <title>工作记录管理系统</title>
    <url>/2020/06/08/Python/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<div class="note info">
            <p>Flask-Admin是一个功能齐全、简单易用的Flask扩展，让你可以为Flask应用程序增加管理界面。它受django-admin包的影响，但用这样一种方式实现，开发者拥有最终应用程序的外观、感觉和功能的全部控制权。</p>
          </div>

<h1 id="重点模块"><a href="#重点模块" class="headerlink" title="重点模块"></a>重点模块</h1><table>
<thead>
<tr>
<th>模块名</th>
<th>简介</th>
</tr>
</thead>
<tbody><tr>
<td><a href="https://flask-admin.readthedocs.io/en/latest/" target="_blank" rel="noopener">Flask_admin</a></td>
<td>As a micro-framework, <a href="http://flask.pocoo.org/" target="_blank" rel="noopener">Flask</a> lets you build web services with very little overhead. It offers freedom for you, the designer, to implement your project in a way that suits your particular application.</td>
</tr>
<tr>
<td><a href="https://bootswatch.com/3/" target="_blank" rel="noopener">Bootswatch</a></td>
<td>Bootswatch主题来自定义外观</td>
</tr>
<tr>
<td><a href="https://flask-sqlalchemy.palletsprojects.com/en/2.x/" target="_blank" rel="noopener">Flask-SQLAlchemy</a></td>
<td>Flask-SQLAlchemy is an extension for <a href="http://flask.pocoo.org/" target="_blank" rel="noopener">Flask</a> that adds support for <a href="https://www.sqlalchemy.org/" target="_blank" rel="noopener">SQLAlchemy</a> to your application. It aims to simplify using SQLAlchemy with Flask by providing useful defaults and extra helpers that make it easier to accomplish common tasks.</td>
</tr>
<tr>
<td><a href="https://pythonhosted.org/Flask-BabelEx/" target="_blank" rel="noopener">Flask-BabelEx</a></td>
<td>Flask-BabelEx is an extension to <a href="http://flask.pocoo.org/" target="_blank" rel="noopener">Flask</a> that adds i18n and l10n support to any Flask application with the help of <a href="http://babel.edgewall.org/" target="_blank" rel="noopener">babel</a>, <a href="http://pytz.sourceforge.net/" target="_blank" rel="noopener">pytz</a> and <a href="http://pypi.python.org/pypi/speaklater" target="_blank" rel="noopener">speaklater</a>. It has builtin support for date formatting with timezone support as well as a very simple and friendly interface to <a href="http://docs.python.org/library/gettext.html#gettext" target="_blank" rel="noopener"><code>gettext</code></a> translations.</td>
</tr>
<tr>
<td><a href="https://wtforms.readthedocs.io/en/stable/" target="_blank" rel="noopener">WTForms</a></td>
<td>With WTForms, your form field HTML can be generated for you, but we let you customize it in your templates. This allows you to maintain separation of code and presentation, and keep those messy parameters out of your python code. Because we strive for loose coupling, you should be able to do that in any templating engine you like, as well.</td>
</tr>
<tr>
<td><a href="http://www.pythondoc.com/flask-login/" target="_blank" rel="noopener">Flask-Login</a></td>
<td>Flask-Login 为 Flask 提供了用户会话管理。它处理了日常的登入，登出并且长时间记住用户的会话。</td>
</tr>
</tbody></table>
<h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">新建用户</span></span><br><span class="line">useradd myweb</span><br><span class="line">passwd myweb</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">新建项目目录QingYu</span></span><br><span class="line">su - myweb</span><br><span class="line">mkdir QingYu</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">安装软件包</span></span><br><span class="line"><span class="meta">#</span><span class="bash">从myweb用户退出，登陆为root用户后执行以下步骤：</span></span><br><span class="line">yum install -y epel-release</span><br><span class="line">yum -y install python-pip</span><br><span class="line">pip install -upgrade pip</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">安装python模块flask-admin</span></span><br><span class="line">su - myweb</span><br><span class="line">cd QingYu</span><br><span class="line">vim manage.py</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">运行程序</span></span><br><span class="line">python manage.py</span><br></pre></td></tr></table></figure>

<h1 id="数据库准备"><a href="#数据库准备" class="headerlink" title="数据库准备"></a>数据库准备</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash">创建数据库myweb</span></span><br><span class="line">mysql -e "create database myweb"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">添加应用程序授权</span></span><br><span class="line"><span class="meta">#</span><span class="bash">修改root密码，应用程序将使用本地root用户的权限。如果你熟悉数据库，可以将新建一个小权限的数据库用户。</span></span><br><span class="line">mysql -uroot -pmyweb myweb -e "drop table AdminUser;"</span><br><span class="line">mysql -uroot -pmyweb myweb -e "create table user (id int primary key auto_increment,first_name varchar(100),last_name varchar(100),login varchar(80),email varchar(120),password varchar(64));"</span><br><span class="line">mysql -uroot -pmyweb myweb -e "alter table user add unique index idx_login (login);"</span><br></pre></td></tr></table></figure>

<blockquote>
<p>通过浏览器登陆访问 <a href="http://192.168.206.139:5000/admin" target="_blank" rel="noopener">http://192.168.206.139:5000/admin</a></p>
</blockquote>
<p><em>效果图如下：</em></p>
<img src="/2020/06/08/Python/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/1.jpg" class="" title="This is an 1 image">
<img src="/2020/06/08/Python/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/2.jpg" class="" title="This is an 2 image">
<img src="/2020/06/08/Python/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/3.jpg" class="" title="This is an 3 image">
<img src="/2020/06/08/Python/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/4.jpg" class="" title="This is an 4 image">
<img src="/2020/06/08/Python/%E5%B7%A5%E4%BD%9C%E8%AE%B0%E5%BD%95%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/5.jpg" class="" title="This is an 5 image">

<h2 id="代码"><a href="#代码" class="headerlink" title="代码"></a><a href="https://github.com/HuangJingxue/apple_python/tree/master/QingYu" target="_blank" rel="noopener">代码</a></h2><p><strong>程序代码会持续更新</strong></p>
]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>Flaskadmin</tag>
      </tags>
  </entry>
  <entry>
    <title>02关-Numpy进阶</title>
    <url>/2020/06/05/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02%E5%85%B3-Numpy%E8%BF%9B%E9%98%B6/</url>
    <content><![CDATA[<div class="note info">
            <p>嵌套列表就是列表中的元素也是列表的列表。</p>
          </div>

<h1 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h1><img src="/2020/06/05/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02%E5%85%B3-Numpy%E8%BF%9B%E9%98%B6/1.jpg" class="" title="嵌套列表">

<p><code>二维数组</code></p>
<img src="/2020/06/05/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02%E5%85%B3-Numpy%E8%BF%9B%E9%98%B6/2.jpg" class="" title="嵌套列表">

<img src="/2020/06/05/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02%E5%85%B3-Numpy%E8%BF%9B%E9%98%B6/3.jpg" class="" title="嵌套列表">

<p><code>三维数组</code></p>
<img src="/2020/06/05/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02%E5%85%B3-Numpy%E8%BF%9B%E9%98%B6/4.jpg" class="" title="嵌套列表">

<ul>
<li><code>ndim</code>：多维数组维度的个数。例如：二维数组的 <code>ndim</code> 为 2；</li>
<li><code>shape</code>：多维数组的形状。它是一个元组，每个元素分别表示每个维度中数组的长度。对于 m 行和 n 列的的数组，它的 <code>shape</code> 将是 <code>(m, n)</code>。因此，<code>shape</code> 元组的长度（元素个数）就是 <code>ndim</code> 的值；</li>
<li><code>size</code>：多维数组中所有元素的个数。<code>shape</code> 元组中每个元素的乘积就是 <code>size</code> 的值；</li>
<li><code>dtype</code>：多维数组中元素的类型。</li>
</ul>
<h2 id="二维数组的加减乘除"><a href="#二维数组的加减乘除" class="headerlink" title="二维数组的加减乘除"></a>二维数组的加减乘除</h2><img src="/2020/06/05/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02%E5%85%B3-Numpy%E8%BF%9B%E9%98%B6/5.jpg" class="" title="二维数组的加减乘除">

<p><code>数据形状不同</code></p>
<blockquote>
<p>当运算中的 2 个数组的形状不同时，numpy 将自动触发广播机制，它具体的规则是：在较小维度数组的 <code>shape</code> 元组前补 1，直到两个数组的 <code>shape</code> 元组长度相同。接着将元素在值为 1 的维度上进行复制，直到两个数组的形状相同。如果无法使两个数组的形状相同，则会抛出 <code>ValueError: operands could not be broadcast together</code> 的异常。</p>
</blockquote>
<img src="/2020/06/05/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02%E5%85%B3-Numpy%E8%BF%9B%E9%98%B6/6.jpg" class="" title="二维数组的加减乘除">

<h2 id="二维数组的通用方法"><a href="#二维数组的通用方法" class="headerlink" title="二维数组的通用方法"></a>二维数组的通用方法</h2><img src="/2020/06/05/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02%E5%85%B3-Numpy%E8%BF%9B%E9%98%B6/7.jpg" class="" title="二维数组的加减乘除">

<p>什么是 轴？ <span class="hide-inline"><a class="hide-button button--primary button--animated" style="background-color: #FF7242;color: #fff">点击一下
  </a><span class="hide-content">轴（axis）。轴和维度的概念是类似的，一维数组有 1 个轴，二维数组有 2 个轴，三维数组有 3 个轴</span></span></p>
<blockquote>
<p>在一维数组中，<code>axis=0</code> 就代表着它唯一的轴；二维数组中 <code>axis=0</code> 和 <code>axis=1</code> 代表其中的行轴和列轴；在三维数组中，<code>axis=0</code>、<code>axis=1</code> 和 <code>axis=2</code> 分别代表对应的三条轴。</p>
</blockquote>
<img src="/2020/06/05/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02%E5%85%B3-Numpy%E8%BF%9B%E9%98%B6/8.jpg" class="" title="二维数组axis">

<img src="/2020/06/05/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02%E5%85%B3-Numpy%E8%BF%9B%E9%98%B6/9.jpg" class="" title="二维数组axis">

<h2 id="二维数组的索引和分片"><a href="#二维数组的索引和分片" class="headerlink" title="二维数组的索引和分片"></a>二维数组的索引和分片</h2><p><code>data[m, n]</code>其中 <code>data</code> 是二维数组，<code>m</code> 是行索引或分片，<code>n</code> 是列索引或分片。</p>
<img src="/2020/06/05/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02%E5%85%B3-Numpy%E8%BF%9B%E9%98%B6/10.jpg" class="" title="二维数组的索引和分片">

<p><code>布尔索引</code></p>
<p><code>and</code> 改用 <code>&amp;</code>，<code>or</code> 改用 <code>|</code>，<code>not</code> 改用 <code>~</code>，并且每个条件要用括号括起来。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data = np.array([[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>], [<span class="number">5</span>, <span class="number">6</span>]])</span><br><span class="line"><span class="comment"># 大于 3 或者小于 2</span></span><br><span class="line">print(data[(data &gt; <span class="number">3</span>) | (data &lt; <span class="number">2</span>)])</span><br><span class="line"><span class="comment"># 输出：[1 4 5 6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 大于 3 或者不小于 2（即大于等于 2）</span></span><br><span class="line">print(data[(data &gt; <span class="number">3</span>) | ~(data &lt; <span class="number">2</span>)])</span><br><span class="line"><span class="comment"># 输出：[2 3 4 5 6]</span></span><br></pre></td></tr></table></figure>

<h1 id="实用方法"><a href="#实用方法" class="headerlink" title="实用方法"></a>实用方法</h1><p>arange()、rand()、randint()、genfromtxt()</p>
<ul>
<li><code>genfromtxt()</code> 方法常用的参数有两个，分别是数据源和分隔符。</li>
</ul>
<p><code>均方误差</code></p>
<blockquote>
<p>常被作为模型的损失函数，用来预测和回归</p>
</blockquote>
<img src="/2020/06/05/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02%E5%85%B3-Numpy%E8%BF%9B%E9%98%B6/11.jpg" class="" title="均方误差">

<blockquote>
<p><code>n</code> 是数据集的个数，<code>Y_prediction</code> 是模型预测的结果集，<code>Y</code> 是实际的数据集。将预测的结果和实际的值作差后进行平方求和，最后除以数据集的个数，得到的就是均方误差。均方误差越小，说明模型预测的越准确，反之则越不准确。</p>
</blockquote>
<img src="/2020/06/05/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/02%E5%85%B3-Numpy%E8%BF%9B%E9%98%B6/12.jpg" class="" title="均方误差">

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">predictions = np.array([<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>])</span><br><span class="line">labels = np.array([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">error = (<span class="number">1</span> / labels.size) * np.sum(np.square(predictions - labels))</span><br><span class="line">print(error)</span><br><span class="line"><span class="comment"># 输出：1.6666666666666665</span></span><br></pre></td></tr></table></figure>

<h1 id="练习"><a href="#练习" class="headerlink" title="练习"></a><a href="https://github.com/HuangJingxue/apple_python/blob/master/data_analysis/numpy2.py" target="_blank" rel="noopener">练习</a></h1>]]></content>
      <categories>
        <category>Python数据分析</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>数据分析</tag>
      </tags>
  </entry>
  <entry>
    <title>01关-Numpy初识</title>
    <url>/2020/06/04/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/01%E5%85%B3-Numpy%E5%88%9D%E8%AF%86/</url>
    <content><![CDATA[<div class="note info">
            <p>数据分析需要三方面的知识：分析工具、统计学知识、行业基本知识。</p>
          </div>


<h1 id="数据分析完整的过程"><a href="#数据分析完整的过程" class="headerlink" title="数据分析完整的过程"></a>数据分析完整的过程</h1><img src="/2020/06/04/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/01%E5%85%B3-Numpy%E5%88%9D%E8%AF%86/1.jpg" class="" title="This is an 1 image">

<ul>
<li>第一步，分析需求，明确目标；</li>
<li>第二步，采集第一步确定的数据；</li>
<li>第三步，整理数据，也就是数据清洗；</li>
<li>第四步，分析数据，采用数学方法、统计方法等对数据进行分析操作；</li>
<li>第五步，数据可视化，将分析结果以直观的形式进行展示。</li>
</ul>
<h2 id="数据分析模块"><a href="#数据分析模块" class="headerlink" title="数据分析模块"></a>数据分析模块</h2><img src="/2020/06/04/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/01%E5%85%B3-Numpy%E5%88%9D%E8%AF%86/2.jpg" class="" title="This is an 2 image">

<ul>
<li><a href="https://numpy.org/" target="_blank" rel="noopener">NumPy</a> Numerical Python是一个用于数值运算的 Python 库，专门对数值运算进行优化，最大的优势是运行高效。</li>
<li>Matplotlib 是常用的数据可视化的工具包，用来绘制各种图表，更好地展示数据。</li>
<li><a href="https://pandas.pydata.org/" target="_blank" rel="noopener">Pandas</a> 是 Python 重要的数据分析工具包，也是目前非常流行的 Python 数据分析工具。</li>
<li><a href="https://github.com/pydata/pandas-datareader" target="_blank" rel="noopener">pandas-datareader</a></li>
</ul>
<h3 id="多维数组"><a href="#多维数组" class="headerlink" title="多维数组"></a>多维数组</h3><div class="note info">
            <p>NumPy 中最重要的对象是<strong>多维数组（ndarray）</strong>，ndarray 是 N-dimensional array，即 N 维数组。</p>
          </div>

<p>创建数组 <span class="hide-inline"><a class="hide-button button--primary button--animated" style="background-color: #FF7242;color: #fff">点击一下
  </a><span class="hide-content">np.array()</span></span><br>生成元素全为0的多维数组<code>默认生成的是浮点数</code> <span class="hide-inline"><a class="hide-button button--primary button--animated" style="">点击一下
  </a><span class="hide-content">np.ones()</span></span><br>生成元素全为1的多维数组<code>默认生成的是浮点数</code> <span class="hide-inline"><a class="hide-button button--primary button--animated" style="background-color: #FF7242;color: #fff">点击一下
  </a><span class="hide-content">np.zeros()</span></span></p>
<h3 id="多维数组的加减乘除"><a href="#多维数组的加减乘除" class="headerlink" title="多维数组的加减乘除"></a>多维数组的加减乘除</h3><img src="/2020/06/04/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/01%E5%85%B3-Numpy%E5%88%9D%E8%AF%86/3.jpg" class="" title="多维数组的加减乘除">
<img src="/2020/06/04/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/01%E5%85%B3-Numpy%E5%88%9D%E8%AF%86/4.jpg" class="" title="多维数组的加减乘除">
<img src="/2020/06/04/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/01%E5%85%B3-Numpy%E5%88%9D%E8%AF%86/5.jpg" class="" title="多维数组直接和数字进行计算">
<img src="/2020/06/04/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/01%E5%85%B3-Numpy%E5%88%9D%E8%AF%86/6.jpg" class="" title="多维数组直接和数字进行计算">

<p>广播是什么？ <span class="hide-inline"><a class="hide-button button--primary button--animated" style="background-color: #FF7242;color: #fff">查看答案
  </a><span class="hide-content">多维数组和数字的四则运算会作用在数组中的每个元素上，这在 numpy 中被称为 广播（Broadcasting)</span></span><br>矢量化是什么？ <span class="hide-inline"><a class="hide-button button--primary button--animated" style="">查看答案
  </a><span class="hide-content">numpy 中这种不用编写循环就可以对数据进行批量运算的方式叫做 矢量化</span></span></p>
<img src="/2020/06/04/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/01%E5%85%B3-Numpy%E5%88%9D%E8%AF%86/7.jpg" class="" title="多维数组索引和分片">


<h2 id="数据分析思维"><a href="#数据分析思维" class="headerlink" title="数据分析思维"></a>数据分析思维</h2><p><code>统计学</code></p>
<ul>
<li><p>集中趋势</p>
<blockquote>
<p>集中趋势所反映的是一组数据所具有的共同趋势，它代表了一组数据的总体水平。其常用指标有 平均数、中位数 和 众数。<br>中位数是指数据排序后处于中间的那个数。众数是指一组数据中出现次数最多的数。</p>
</blockquote>
</li>
<li><p>离中趋势</p>
<blockquote>
<p>离中趋势是指一组数据中各数据值以不同程度的距离偏离其中心（平均数）的趋势。其常用指标有 极差、方差 和标准差。<br>极差是一组数据的最大值减去最小值得到的，反应了数据变动的最大范围。<br>方差的计算方式是：将一组数据中的每个数减去这组数据的平均数，然后将得到的结果进行平方求和，最后再除以数据的个数。<br>而方差的平方根则是标准差。因为方差是对数据进行平方得到的，所以量纲（单位）和原数据不一致。对方差进行开根号后得到的标准差量纲和原数据一致，使用起来更方便。</p>
</blockquote>
<img src="/2020/06/04/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/01%E5%85%B3-Numpy%E5%88%9D%E8%AF%86/8.jpg" class="" title="统计学函数">
<img src="/2020/06/04/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/01%E5%85%B3-Numpy%E5%88%9D%E8%AF%86/9.jpg" class="" title="方差公式函数">
<blockquote>
<p>公式描述：公式中M为数据的平均数，n为数据的个数，s2为方差。</p>
</blockquote>
</li>
</ul>
<h2 id="练习"><a href="#练习" class="headerlink" title="练习"></a><a href="https://github.com/HuangJingxue/apple_python/blob/master/data_analysis/ndarray.py" target="_blank" rel="noopener">练习</a></h2>]]></content>
      <categories>
        <category>Python数据分析</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>数据分析</tag>
      </tags>
  </entry>
  <entry>
    <title>python3版本time模模块提示locale报错</title>
    <url>/2020/05/27/Python/python3%E7%89%88%E6%9C%ACtime%E6%A8%A1%E6%A8%A1%E5%9D%97%E6%8F%90%E7%A4%BAlocale%E6%8A%A5%E9%94%99/</url>
    <content><![CDATA[<p><a href="https://www.cnblogs.com/nisen/p/6101196.html" target="_blank" rel="noopener">locale帮助</a></p>
<div class="note warning">
            <p>print(time.strftime(u’%Y年%m月%d日’,time.localtime(time.time())))<br>Traceback (most recent call last):<br>UnicodeEncodeError: ‘locale’ codec can’t encode character ‘\u5e74’ in position 2: encoding error</p>
          </div>

<div class="note success">
            <p>import locale<br>locale.setlocale(locale.LC_ALL,’en’)<br>locale.setlocale(locale.LC_CTYPE,’chinese’)<br>time.strftime(‘%Y年%m月%d日 %H:%M:%S’, time.localtime(time.time()))<br>‘2020年05月26日 18:25:41’</p>
          </div>]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>杏仁核绑架</title>
    <url>/2020/05/27/%E6%89%93%E9%80%A0%E4%B8%AA%E4%BA%BA%E5%BD%B1%E5%93%8D%E5%8A%9B/%E6%9D%8F%E4%BB%81%E6%A0%B8%E7%BB%91%E6%9E%B6/</url>
    <content><![CDATA[<p>被别人批评在所难免，但应对批评的方式却天差地别。</p>
<ul>
<li>非合作思维会认为，批评意味着别人在指责自己、攻击自己、否定自己；</li>
</ul>
<div class="note info">
            <p>为什么会这样？这不是因为你脾气不够好，不是因为你不够成熟，这背后其实是有生理依据的——因为批评会引发我们大脑中的一场战争，这场战争的双方就是情绪和思考。<br>情绪是由大脑里的杏仁核控制的——杏仁核深藏在大脑底部，是大脑最强有力的区域之一。这个区域会简单化信息，让你说出本能的反应；而且这个区域渴望赞美，会把批评看作一种攻击。尽管你感觉不到它，但它控制着你的行为。比如心跳加速、血压升高、呼吸加快、肌肉紧张。有些研究者把它称为“杏仁核绑架”，这时候，你很容易做出一些“冲动”的事情。</p><p>好在人体很神奇，处处都有平衡。大脑有主管情绪的区域，就有主管意识和思考的区域——前额皮层。前额皮层是我们大脑里最具人类特征的部分。我们通过这个区域进行逻辑推理，它产生的反应更加稳定和持久，它代表的是思考的力量。</p><p>所以，你看到有些人不断自我进化，他们应对批评的反应很得体，不会冲动，并且最终能够达到自己的目标；而有些人就会选择反抗或者攻击，最终无法与他人合作。他们之间最大的区别是，前面这类人会在关键时刻思考是什么原因导致自己出现杏仁核绑架。他们在分析和思考情绪之后，知道了哪些情况下自己会冲动，会控制不住自己，会被杏仁核绑架。这个“看到”的过程非常重要——“放下一个东西之前，得先拿起它”。了解杏仁核绑架的过程，就是我们拿起它的过程。现在，我们可以通过练习，把它放下，在每一次情绪和思考之战爆发时，掌握更好的应对方式。</p>
          </div>

<ul>
<li>而合作思维则认为，我们双方都有基于合作的这个前提，才会在一起共事、沟通，对方的批评只是在参与我们的合作，是在发表自己的看法，而且对方可以帮我把工作优化得更好，这是一件好事。</li>
</ul>
<div class="note info">
            <p>面对批评，你可以采取以下步骤：<br>第一步：切换频道。切换到合作频道，摆脱杏仁核绑架，看到双方的目标。</p><p>第二步：问出来。你以为的只是“你以为的”，那不是事实。在合作思维的鼓励下，大胆地问出你的问题。但要注意，要提问，不要指责。</p><p>她跟丈夫刚认识几个月的时候，她觉得一切都进展顺利——她爱这个男人，觉得他就是自己的真命天子，而且她也确定这个男人也很爱自己。然而有一天晚上，他们正在约会时，她这个理想中的丈夫忽然对她说：“我需要多一点儿空间。”那个瞬间，她觉得眼前一黑，大脑一片空白，她不敢相信自己听到的。她心想：“完了，原来是我误解了我们之间的关系，是我理解错了吗？难道这段时间我只是在自作多情吗？”平静了一会儿，她鼓足勇气，问他：“你究竟是什么意思？”她战战兢兢地等着他回答，那几秒钟像是几年一样长。结果对方说的话，让卡罗尔笑了3分钟。这位男士认真地说：“我需要你往旁边坐一点儿，这样我才能坐得下。”</p><p>第三步：反馈。就提问得到的结果进行反馈，与对方得出进一步的解决方案。</p><p>最后，我想提醒你的是，应对批评是非常难的，因为你的反应首先会受生理反应影响，批评会引发你大脑里的一场战争，而且是有逻辑、有意识的你跟情绪化、潜意识下的你之间的战争。所以，如果你现在做不到，不要沮丧，因为这真的很难。但这也正是此过程的价值所在——通过练习，一次次自我赋能，直到遇见更好的自己。</p>
          </div>

]]></content>
      <categories>
        <category>打造个人影响力</category>
      </categories>
  </entry>
  <entry>
    <title>合作式倾听:时代的红利属于倾听者</title>
    <url>/2020/05/26/%E6%89%93%E9%80%A0%E4%B8%AA%E4%BA%BA%E5%BD%B1%E5%93%8D%E5%8A%9B/%E5%90%88%E4%BD%9C%E5%BC%8F%E5%80%BE%E5%90%AC-%E6%97%B6%E4%BB%A3%E7%9A%84%E7%BA%A2%E5%88%A9%E5%B1%9E%E4%BA%8E%E5%80%BE%E5%90%AC%E8%80%85/</url>
    <content><![CDATA[<p>来自查一下，你有没有这些情况：</p>
<ul>
<li>对方还在说话，你已经开始打腹稿，准备自己的意见了。</li>
<li>对方话音还没落，你就迫不及待地发表自己的观点了。</li>
<li>在多数的谈话时间里，都是你说得多，对方说得少。</li>
<li>你说得已经足够多了，但结果常常不尽如人意。</li>
</ul>
<p>这些都反映了一种情况：很多时候，人们的倾听是“伪倾听”，是为了“说”而“听”。表面上看，他们的确是在听，但实际上他们是在想：“什么时候才能轮到我说？</p>
<p>”这种倾听给人的感觉并不好。我把这种人形容为机关枪式的倾听者——他们基本是在“等”着你说完，你一闭嘴，他马上像机关枪一样把话“射”过来。这会让你觉得，“我刚才都白说了，因为你根本不在意，满脑子就是自己要说什么”。</p>
<p>这是种什么感觉呢？“我满怀期待地向你开放自己，以为你有兴趣听一听，但你只是装模作样地听了一下，然后就把焦点转移到了自己身上。我觉得一下子被你‘堵’回来了。</p>
<p>”为了避免出现低质量的倾听，这里分享给大家两种方法：比较基础的“反应式倾听”和更高阶的“行动式倾听”。</p>
]]></content>
      <categories>
        <category>打造个人影响力</category>
      </categories>
  </entry>
  <entry>
    <title>拥有影响力的前提，是建立合作思维</title>
    <url>/2020/05/26/%E6%89%93%E9%80%A0%E4%B8%AA%E4%BA%BA%E5%BD%B1%E5%93%8D%E5%8A%9B/%E6%8B%A5%E6%9C%89%E5%BD%B1%E5%93%8D%E5%8A%9B%E7%9A%84%E5%89%8D%E6%8F%90%EF%BC%8C%E6%98%AF%E5%BB%BA%E7%AB%8B%E5%90%88%E4%BD%9C%E6%80%9D%E7%BB%B4/</url>
    <content><![CDATA[<p>拥有影响力的前提，是建立合作思维。<br>合作思维把合作当成前提：你真的知道别人的真实想法吗？</p>
<p>1.当你说了很多，但仍达不到目的时，很有可能不是因为你不会说，而是你不会听。<br>举例：是否经历过，职场中或生活中，你说过很多次的事情，对方总是不配合。</p>
<p>2.一味表达的姿态里，包含了两层意识：“你是错的；我是对的。”这是典型的非合作思维。它认为，只有赢得对话，才能达成合作。它把合作当成了目的，实际上却割裂了合作。</p>
<p>好的沟通不是“赢得辩论”，而是“赢得合作，成就彼此”。</p>
<p>3.合作思维是把合作当前提——“我们已经是合作关系，我要知道你是怎么想的，才能让合作顺利展开”。</p>
]]></content>
      <categories>
        <category>打造个人影响力</category>
      </categories>
  </entry>
  <entry>
    <title>获取在线MySQL实例的Binlog信息</title>
    <url>/2020/05/25/MySQL/%E8%8E%B7%E5%8F%96%E5%9C%A8%E7%BA%BFMySQL%E5%AE%9E%E4%BE%8B%E7%9A%84Binlog%E4%BF%A1%E6%81%AF/</url>
    <content><![CDATA[<div class="note info">
            <p>mysqlbinlog -vv -P 3306 -utaiping_admin -pxxxx -hxxxxx.mysql.rds.aliyuncs.com –read-from-remote-server –start-datetime=’2017-09-12 06:29:00’ –stop-datetime=’2017-09-12 06:30:01’ –base64-output=DECODE-ROWS mysql-bin.000634 &gt; taiping0912.binlog</p>
          </div>
]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL Binlog</tag>
      </tags>
  </entry>
  <entry>
    <title>使用github Page搭建自己的轻量博客</title>
    <url>/2020/05/22/hexo/%E4%BD%BF%E7%94%A8githubPage%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E8%BD%BB%E9%87%8F%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 <a href="https://daringfireball.net/projects/markdown/" target="_blank" rel="noopener">Markdown</a>（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p>
<h2 id="安装步骤"><a href="#安装步骤" class="headerlink" title="安装步骤"></a>安装步骤</h2><h3 id="安装前提"><a href="#安装前提" class="headerlink" title="安装前提"></a>安装前提</h3><p>安装 Hexo 相当简单。然而在安装前，您必须检查电脑中是否已安装下列应用程序：</p>
<ul>
<li><a href="http://nodejs.org/" target="_blank" rel="noopener">Node.js</a></li>
<li><a href="http://git-scm.com/" target="_blank" rel="noopener">Git</a></li>
</ul>
<p>如果您的电脑中已经安装上述必备程序，那么恭喜您！接下来只需要使用 npm 即可完成 Hexo 的安装。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm install -g hexo-cli</span><br></pre></td></tr></table></figure>



<p>如果您的电脑中尚未安装所需要的程序，请根据以下安装指示完成安装。</p>
<blockquote>
<p>Mac 用户</p>
<p>您在编译时可能会遇到问题，请先到 App Store 安装 Xcode，Xcode 完成后，启动并进入 <strong>Preferences -&gt; Download -&gt; Command Line Tools -&gt; Install</strong> 安装命令行工具。</p>
</blockquote>
<h3 id="安装-Git"><a href="#安装-Git" class="headerlink" title="安装 Git"></a>安装 Git</h3><ul>
<li>Windows：下载并安装 <a href="https://git-scm.com/download/win" target="_blank" rel="noopener">git</a>.</li>
<li>Mac：使用 <a href="http://mxcl.github.com/homebrew/" target="_blank" rel="noopener">Homebrew</a>, <a href="http://www.macports.org/" target="_blank" rel="noopener">MacPorts</a> ：<code>brew install git</code>;或下载 <a href="http://sourceforge.net/projects/git-osx-installer/" target="_blank" rel="noopener">安装程序</a> 安装。</li>
<li>Linux (Ubuntu, Debian)：<code>sudo apt-get install git-core</code></li>
<li>Linux (Fedora, Red Hat, CentOS)：<code>sudo yum install git-core</code></li>
</ul>
<blockquote>
<p>Windows 用户</p>
<p>由于众所周知的原因，从上面的链接下载git for windows最好挂上一个代理，否则下载速度十分缓慢。也可以参考<a href="https://github.com/waylau/git-for-win" target="_blank" rel="noopener">这个页面</a>，收录了存储于百度云的下载地址。</p>
</blockquote>
<h3 id="安装-Node-js"><a href="#安装-Node-js" class="headerlink" title="安装 Node.js"></a>安装 Node.js</h3><p>安装 Node.js 的最佳方式是使用 <a href="https://github.com/creationix/nvm" target="_blank" rel="noopener">nvm</a>。</p>
<p>CURL:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl https:&#x2F;&#x2F;raw.github.com&#x2F;creationix&#x2F;nvm&#x2F;v0.33.11&#x2F;install.sh | sh</span><br></pre></td></tr></table></figure>



<p>Wget:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ wget -qO- https:&#x2F;&#x2F;raw.github.com&#x2F;creationix&#x2F;nvm&#x2F;v0.33.11&#x2F;install.sh | sh</span><br></pre></td></tr></table></figure>



<p>安装完成后，重启终端并执行下列命令即可安装 Node.js。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ nvm install stable</span><br></pre></td></tr></table></figure>



<p>或者您也可以下载 <a href="http://nodejs.org/" target="_blank" rel="noopener">安装程序</a> 来安装。</p>
<blockquote>
<p>Windows 用户</p>
<p>对于windows用户来说，建议使用安装程序进行安装。安装时，请勾选<strong>Add to PATH</strong>选项。<br>另外，您也可以使用<strong>Git Bash</strong>，这是git for windows自带的一组程序，提供了Linux风格的shell，在该环境下，您可以直接用上面提到的命令来安装Node.js。打开它的方法很简单，在任意位置单击右键，选择“Git Bash Here”即可。由于Hexo的很多操作都涉及到命令行，您可以考虑始终使用<strong>Git Bash</strong>来进行操作。</p>
</blockquote>
<h3 id="安装-Hexo"><a href="#安装-Hexo" class="headerlink" title="安装 Hexo"></a>安装 Hexo</h3><p>所有必备的应用程序安装完成后，即可使用 npm 安装 Hexo。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">Copy $ npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<h2 id="建站"><a href="#建站" class="headerlink" title="建站"></a>建站</h2><h3 id="建站操作明细"><a href="#建站操作明细" class="headerlink" title="建站操作明细"></a>建站操作明细</h3><p>搭建一个名字为blog的博客:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo init blogcd blognpm install</span><br></pre></td></tr></table></figure>



<h3 id="建站文件结构讲解"><a href="#建站文件结构讲解" class="headerlink" title="建站文件结构讲解"></a>建站文件结构讲解</h3><p>安装 Hexo 完成后，请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo init &lt;folder&gt;$ cd &lt;folder&gt;$ npm install</span><br></pre></td></tr></table></figure>



<p>新建完成后，指定文件夹的目录如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">.├── _config.yml├── package.json├── scaffolds├── source|   ├── _drafts|   └── _posts└── themes</span><br></pre></td></tr></table></figure>



<h4 id="config-yml"><a href="#config-yml" class="headerlink" title="_config.yml"></a>_config.yml</h4><p>网站的 <a href="https://hexo.io/zh-cn/docs/configuration" target="_blank" rel="noopener">配置</a> 信息，您可以在此配置大部分的参数。</p>
<h4 id="package-json"><a href="#package-json" class="headerlink" title="package.json"></a>package.json</h4><p>应用程序的信息。<a href="http://embeddedjs.com/" target="_blank" rel="noopener">EJS</a>, <a href="http://learnboost.github.io/stylus/" target="_blank" rel="noopener">Stylus</a> 和 <a href="http://daringfireball.net/projects/markdown/" target="_blank" rel="noopener">Markdown</a> renderer 已默认安装，您可以自由移除。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">package.json&#123;  &quot;name&quot;: &quot;hexo-site&quot;,  &quot;version&quot;: &quot;0.0.0&quot;,  &quot;private&quot;: true,  &quot;hexo&quot;: &#123;    &quot;version&quot;: &quot;&quot;  &#125;,  &quot;dependencies&quot;: &#123;    &quot;hexo&quot;: &quot;^3.0.0&quot;,    &quot;hexo-generator-archive&quot;: &quot;^0.1.0&quot;,    &quot;hexo-generator-category&quot;: &quot;^0.1.0&quot;,    &quot;hexo-generator-index&quot;: &quot;^0.1.0&quot;,    &quot;hexo-generator-tag&quot;: &quot;^0.1.0&quot;,    &quot;hexo-renderer-ejs&quot;: &quot;^0.1.0&quot;,    &quot;hexo-renderer-stylus&quot;: &quot;^0.2.0&quot;,    &quot;hexo-renderer-marked&quot;: &quot;^0.2.4&quot;,    &quot;hexo-server&quot;: &quot;^0.1.2&quot;  &#125;&#125;</span><br></pre></td></tr></table></figure>



<h4 id="scaffolds"><a href="#scaffolds" class="headerlink" title="scaffolds"></a>scaffolds</h4><p><a href="https://hexo.io/zh-cn/docs/writing" target="_blank" rel="noopener">模版</a> 文件夹。当您新建文章时，Hexo 会根据 scaffold 来建立文件。</p>
<p>Hexo的模板是指在新建的markdown文件中默认填充的内容。例如，如果您修改scaffold/post.md中的Front-matter内容，那么每次新建一篇文章时都会包含这个修改。</p>
<h4 id="source"><a href="#source" class="headerlink" title="source"></a>source</h4><p>资源文件夹是存放用户资源的地方。除 <code>_posts</code> 文件夹之外，开头命名为 <code>_</code> (下划线)的文件 / 文件夹和隐藏的文件将会被忽略。Markdown 和 HTML 文件会被解析并放到 <code>public</code> 文件夹，而其他文件会被拷贝过去。</p>
<h4 id="themes"><a href="#themes" class="headerlink" title="themes"></a>themes</h4><p><a href="https://hexo.io/zh-cn/docs/themes" target="_blank" rel="noopener">主题</a> 文件夹。Hexo 会根据主题来生成静态页面。</p>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>您可以在 <code>_config.yml</code> 中修改大部份的配置。</p>
<h3 id="配置操作明细"><a href="#配置操作明细" class="headerlink" title="配置操作明细"></a>配置操作明细</h3><p>配置文件中主要修改了博客的语言、标题、作者、描述、时区和文件模式<code>post_asset_folder</code>。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># Hexo Configuration## Docs: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;configuration.html## Source: https:&#x2F;&#x2F;github.com&#x2F;hexojs&#x2F;hexo&#x2F;# Sitetitle: Booboo Wei&#39;s Blogsubtitle: Talk is cheap, show me the codedescription: 数据库工程师keywords: MySQL Linux DBA BigData Redis Pythonauthor: Booboo Weilanguage: zh-Hanstimezone: UTC# URL## If your site is put in a subdirectory, set url as &#39;http:&#x2F;&#x2F;yoursite.com&#x2F;child&#39; and root as &#39;&#x2F;child&#x2F;&#39;url: http:&#x2F;&#x2F;yoursite.comroot: &#x2F;permalink: :year&#x2F;:month&#x2F;:day&#x2F;:title&#x2F;permalink_defaults:# Directorysource_dir: sourcepublic_dir: publictag_dir: tagsarchive_dir: archivescategory_dir: categoriescode_dir: downloads&#x2F;codei18n_dir: :langskip_render:# Writingnew_post_name: :title.md # File name of new postsdefault_layout: posttitlecase: false # Transform title into titlecaseexternal_link: true # Open external links in new tabfilename_case: 0render_drafts: falsepost_asset_folder: truerelative_link: falsefuture: truehighlight:  enable: true  line_number: true  auto_detect: false  tab_replace:# Home page setting# path: Root path for your blogs index page. (default &#x3D; &#39;&#39;)# per_page: Posts displayed per page. (0 &#x3D; disable pagination)# order_by: Posts order. (Order by date descending by default)index_generator:  path: &#39;&#39;  per_page: 10  order_by: -date# Category &amp; Tagdefault_category: MySQLcategory_map:tag_map:# Date &#x2F; Time format## Hexo uses Moment.js to parse and display date## You can customize the date format as defined in## http:&#x2F;&#x2F;momentjs.com&#x2F;docs&#x2F;#&#x2F;displaying&#x2F;format&#x2F;date_format: YYYY-MM-DDtime_format: HH:mm:ss# Pagination## Set per_page to 0 to disable paginationper_page: 10pagination_dir: page# Extensions## Plugins: https:&#x2F;&#x2F;hexo.io&#x2F;plugins&#x2F;## Themes: https:&#x2F;&#x2F;hexo.io&#x2F;themes&#x2F;theme: landscape# Deployment## Docs: https:&#x2F;&#x2F;hexo.io&#x2F;docs&#x2F;deployment.htmldeploy:  type:</span><br></pre></td></tr></table></figure>



<h3 id="配置参数讲解"><a href="#配置参数讲解" class="headerlink" title="配置参数讲解"></a>配置参数讲解</h3><h4 id="网站"><a href="#网站" class="headerlink" title="网站"></a>网站</h4><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>title</code></td>
<td align="left">网站标题</td>
</tr>
<tr>
<td align="left"><code>subtitle</code></td>
<td align="left">网站副标题</td>
</tr>
<tr>
<td align="left"><code>description</code></td>
<td align="left">网站描述</td>
</tr>
<tr>
<td align="left"><code>author</code></td>
<td align="left">您的名字</td>
</tr>
<tr>
<td align="left"><code>language</code></td>
<td align="left">网站使用的语言</td>
</tr>
<tr>
<td align="left"><code>timezone</code></td>
<td align="left">网站时区。Hexo 默认使用您电脑的时区。<a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones" target="_blank" rel="noopener">时区列表</a>。比如说：<code>America/New_York</code>, <code>Japan</code>, 和 <code>UTC</code> 。</td>
</tr>
</tbody></table>
<p>其中，<code>description</code>主要用于SEO，告诉搜索引擎一个关于您站点的简单描述，通常建议在其中包含您网站的关键词。<code>author</code>参数用于主题显示文章的作者。</p>
<h4 id="网址"><a href="#网址" class="headerlink" title="网址"></a>网址</h4><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
<th align="left">默认值</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>url</code></td>
<td align="left">网址</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>root</code></td>
<td align="left">网站根目录</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>permalink</code></td>
<td align="left">文章的 <a href="https://hexo.io/zh-cn/docs/permalinks" target="_blank" rel="noopener">永久链接</a> 格式</td>
<td align="left"><code>:year/:month/:day/:title/</code></td>
</tr>
<tr>
<td align="left"><code>permalink_defaults</code></td>
<td align="left">永久链接中各部分的默认值</td>
<td align="left"></td>
</tr>
</tbody></table>
<blockquote>
<p>网站存放在子目录</p>
<p>如果您的网站存放在子目录中，例如 <code>http://yoursite.com/blog</code>，则请将您的 <code>url</code> 设为 <code>http://yoursite.com/blog</code> 并把 <code>root</code> 设为 <code>/blog/</code>。</p>
</blockquote>
<h4 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h4><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
<th align="left">默认值</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>source_dir</code></td>
<td align="left">资源文件夹，这个文件夹用来存放内容。</td>
<td align="left"><code>source</code></td>
</tr>
<tr>
<td align="left"><code>public_dir</code></td>
<td align="left">公共文件夹，这个文件夹用于存放生成的站点文件。</td>
<td align="left"><code>public</code></td>
</tr>
<tr>
<td align="left"><code>tag_dir</code></td>
<td align="left">标签文件夹</td>
<td align="left"><code>tags</code></td>
</tr>
<tr>
<td align="left"><code>archive_dir</code></td>
<td align="left">归档文件夹</td>
<td align="left"><code>archives</code></td>
</tr>
<tr>
<td align="left"><code>category_dir</code></td>
<td align="left">分类文件夹</td>
<td align="left"><code>categories</code></td>
</tr>
<tr>
<td align="left"><code>code_dir</code></td>
<td align="left">Include code 文件夹</td>
<td align="left"><code>downloads/code</code></td>
</tr>
<tr>
<td align="left"><code>i18n_dir</code></td>
<td align="left">国际化（i18n）文件夹</td>
<td align="left"><code>:lang</code></td>
</tr>
<tr>
<td align="left"><code>skip_render</code></td>
<td align="left">跳过指定文件的渲染，您可使用 <a href="https://github.com/isaacs/node-glob" target="_blank" rel="noopener">glob 表达式</a>来匹配路径。</td>
<td align="left"></td>
</tr>
</tbody></table>
<blockquote>
<p>提示</p>
<p>如果您刚刚开始接触Hexo，通常没有必要修改这一部分的值。</p>
</blockquote>
<h4 id="文章"><a href="#文章" class="headerlink" title="文章"></a>文章</h4><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
<th align="left">默认值</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>new_post_name</code></td>
<td align="left">新文章的文件名称</td>
<td align="left">:title.md</td>
</tr>
<tr>
<td align="left"><code>default_layout</code></td>
<td align="left">预设布局</td>
<td align="left">post</td>
</tr>
<tr>
<td align="left"><code>auto_spacing</code></td>
<td align="left">在中文和英文之间加入空格</td>
<td align="left">false</td>
</tr>
<tr>
<td align="left"><code>titlecase</code></td>
<td align="left">把标题转换为 title case</td>
<td align="left">false</td>
</tr>
<tr>
<td align="left"><code>external_link</code></td>
<td align="left">在新标签中打开链接</td>
<td align="left">true</td>
</tr>
<tr>
<td align="left"><code>filename_case</code></td>
<td align="left">把文件名称转换为 (1) 小写或 (2) 大写</td>
<td align="left">0</td>
</tr>
<tr>
<td align="left"><code>render_drafts</code></td>
<td align="left">显示草稿</td>
<td align="left">false</td>
</tr>
<tr>
<td align="left"><code>post_asset_folder</code></td>
<td align="left">启动 <a href="https://hexo.io/zh-cn/docs/asset-folders" target="_blank" rel="noopener">Asset 文件夹</a></td>
<td align="left">false</td>
</tr>
<tr>
<td align="left"><code>relative_link</code></td>
<td align="left">把链接改为与根目录的相对位址</td>
<td align="left">false</td>
</tr>
<tr>
<td align="left"><code>future</code></td>
<td align="left">显示未来的文章</td>
<td align="left">true</td>
</tr>
<tr>
<td align="left"><code>highlight</code></td>
<td align="left">代码块的设置</td>
<td align="left"></td>
</tr>
</tbody></table>
<blockquote>
<p>相对地址</p>
<p>默认情况下，Hexo生成的超链接都是绝对地址。例如，如果您的网站域名为<code>example.com</code>,您有一篇文章名为<code>hello</code>，那么绝对链接可能像这样：<code>http://example.com/hello.html</code>，它是<strong>绝对</strong>于域名的。相对链接像这样：<code>/hello.html</code>，也就是说，无论用什么域名访问该站点，都没有关系，这在进行反向代理时可能用到。通常情况下，建议使用绝对地址。</p>
</blockquote>
<h4 id="分类-amp-标签"><a href="#分类-amp-标签" class="headerlink" title="分类 &amp; 标签"></a>分类 &amp; 标签</h4><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
<th align="left">默认值</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>default_category</code></td>
<td align="left">默认分类</td>
<td align="left"><code>uncategorized</code></td>
</tr>
<tr>
<td align="left"><code>category_map</code></td>
<td align="left">分类别名</td>
<td align="left"></td>
</tr>
<tr>
<td align="left"><code>tag_map</code></td>
<td align="left">标签别名</td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="日期-时间格式"><a href="#日期-时间格式" class="headerlink" title="日期 / 时间格式"></a>日期 / 时间格式</h4><p>Hexo 使用 <a href="http://momentjs.com/" target="_blank" rel="noopener">Moment.js</a> 来解析和显示时间。</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
<th align="left">默认值</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>date_format</code></td>
<td align="left">日期格式</td>
<td align="left"><code>YYYY-MM-DD</code></td>
</tr>
<tr>
<td align="left"><code>time_format</code></td>
<td align="left">时间格式</td>
<td align="left"><code>H:mm:ss</code></td>
</tr>
</tbody></table>
<h4 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h4><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
<th align="left">默认值</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>per_page</code></td>
<td align="left">每页显示的文章量 (0 = 关闭分页功能)</td>
<td align="left"><code>10</code></td>
</tr>
<tr>
<td align="left"><code>pagination_dir</code></td>
<td align="left">分页目录</td>
<td align="left"><code>page</code></td>
</tr>
</tbody></table>
<h4 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h4><table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>theme</code></td>
<td align="left">当前主题名称。值为<code>false</code>时禁用主题</td>
</tr>
<tr>
<td align="left"><code>deploy</code></td>
<td align="left">部署部分的设置</td>
</tr>
</tbody></table>
<h2 id="指令"><a href="#指令" class="headerlink" title="指令"></a>指令</h2><h3 id="指令操作明细"><a href="#指令操作明细" class="headerlink" title="指令操作明细"></a>指令操作明细</h3><p>在上一步基本配置后，我们可以在本地启动我们的博客网站了。具体操作如下：</p>
<p>打开git bash，执行</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">hexo new &quot;我的第一篇文章&quot;</span><br></pre></td></tr></table></figure>



<p>该命令会在blog/source/_post/目录中创建一个文件和一个同名的目录：</p>
<ul>
<li>文件：<code>我的第一篇文章.md</code></li>
<li>目录：<code>我的第一篇文章</code></li>
</ul>
<p>目录用于存放图片，这样将来在网页中才能通过markdown的语法调用图片。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo new &#39;我的第一篇文章&#39;INFO  Created: ~\Desktop\jigouyun_Git\个人项目\doc-share\source\_posts\我的第一篇文章.mdrgwei@DESKTOP-G9S0U3G MINGW64 ~&#x2F;Desktop&#x2F;jigouyun_Git&#x2F;个人项目&#x2F;doc-share&#x2F;source&#x2F;_posts$ ll 我的*-rw-r--r-- 1 rgwei 197121 69 11月 27 10:20 我的第一篇文章.md我的第一篇文章:total 0</span><br></pre></td></tr></table></figure>



<p>接下来就可以通过markdown的编辑器编辑你的文章。</p>
<h3 id="指令讲解"><a href="#指令讲解" class="headerlink" title="指令讲解"></a>指令讲解</h3><h4 id="init"><a href="#init" class="headerlink" title="init"></a>init</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo init [folder]</span><br></pre></td></tr></table></figure>



<p>新建一个网站。如果没有设置 <code>folder</code> ，Hexo 默认在目前的文件夹建立网站。</p>
<h4 id="new"><a href="#new" class="headerlink" title="new"></a>new</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo new [layout] &lt;title&gt;</span><br></pre></td></tr></table></figure>



<p>新建一篇文章。如果没有设置 <code>layout</code> 的话，默认使用 <a href="https://hexo.io/zh-cn/docs/configuration" target="_blank" rel="noopener">_config.yml</a> 中的 <code>default_layout</code> 参数代替。如果标题包含空格的话，请使用引号括起来。</p>
<h4 id="generate"><a href="#generate" class="headerlink" title="generate"></a>generate</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>



<p>生成静态文件。</p>
<table>
<thead>
<tr>
<th align="left">选项</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>-d</code>, <code>--deploy</code></td>
<td align="left">文件生成后立即部署网站</td>
</tr>
<tr>
<td align="left"><code>-w</code>, <code>--watch</code></td>
<td align="left">监视文件变动</td>
</tr>
</tbody></table>
<p>该命令可以简写为</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo g</span><br></pre></td></tr></table></figure>



<h4 id="publish"><a href="#publish" class="headerlink" title="publish"></a>publish</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo publish [layout] &lt;filename&gt;</span><br></pre></td></tr></table></figure>



<p>发表草稿。</p>
<h4 id="server"><a href="#server" class="headerlink" title="server"></a>server</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>



<p>启动服务器。默认情况下，访问网址为： <code>http://localhost:4000/</code>。</p>
<table>
<thead>
<tr>
<th align="left">选项</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>-p</code>, <code>--port</code></td>
<td align="left">重设端口</td>
</tr>
<tr>
<td align="left"><code>-s</code>, <code>--static</code></td>
<td align="left">只使用静态文件</td>
</tr>
<tr>
<td align="left"><code>-l</code>, <code>--log</code></td>
<td align="left">启动日记记录，使用覆盖记录格式</td>
</tr>
</tbody></table>
<h4 id="deploy"><a href="#deploy" class="headerlink" title="deploy"></a>deploy</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>



<p>部署网站。</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>-g</code>, <code>--generate</code></td>
<td align="left">部署之前预先生成静态文件</td>
</tr>
</tbody></table>
<p>该命令可以简写为：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo d</span><br></pre></td></tr></table></figure>



<h4 id="render"><a href="#render" class="headerlink" title="render"></a>render</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo render &lt;file1&gt; [file2] ...</span><br></pre></td></tr></table></figure>



<p>渲染文件。</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>-o</code>, <code>--output</code></td>
<td align="left">设置输出路径</td>
</tr>
</tbody></table>
<h4 id="migrate"><a href="#migrate" class="headerlink" title="migrate"></a>migrate</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo migrate &lt;type&gt;</span><br></pre></td></tr></table></figure>



<p>从其他博客系统 <a href="https://hexo.io/zh-cn/docs/migration" target="_blank" rel="noopener">迁移内容</a>。</p>
<h4 id="clean"><a href="#clean" class="headerlink" title="clean"></a>clean</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo clean</span><br></pre></td></tr></table></figure>



<p>清除缓存文件 (<code>db.json</code>) 和已生成的静态文件 (<code>public</code>)。</p>
<p>在某些情况（尤其是更换主题后），如果发现您对站点的更改无论如何也不生效，您可能需要运行该命令。</p>
<h4 id="list"><a href="#list" class="headerlink" title="list"></a>list</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo list &lt;type&gt;</span><br></pre></td></tr></table></figure>



<p>列出网站资料。</p>
<h4 id="version"><a href="#version" class="headerlink" title="version"></a>version</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo version</span><br></pre></td></tr></table></figure>



<p>显示 Hexo 版本。</p>
<h4 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h4><h5 id="安全模式"><a href="#安全模式" class="headerlink" title="安全模式"></a>安全模式</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo --safe</span><br></pre></td></tr></table></figure>



<p>在安全模式下，不会载入插件和脚本。当您在安装新插件遭遇问题时，可以尝试以安全模式重新执行。</p>
<h5 id="调试模式"><a href="#调试模式" class="headerlink" title="调试模式"></a>调试模式</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo --debug</span><br></pre></td></tr></table></figure>



<p>在终端中显示调试信息并记录到 <code>debug.log</code>。当您碰到问题时，可以尝试用调试模式重新执行一次，并 <a href="https://github.com/hexojs/hexo/issues/new" target="_blank" rel="noopener">提交调试信息到 GitHub</a>。</p>
<h5 id="简洁模式"><a href="#简洁模式" class="headerlink" title="简洁模式"></a>简洁模式</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo --silent</span><br></pre></td></tr></table></figure>



<p>隐藏终端信息。</p>
<h5 id="自定义配置文件的路径"><a href="#自定义配置文件的路径" class="headerlink" title="自定义配置文件的路径"></a>自定义配置文件的路径</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo --config custom.yml</span><br></pre></td></tr></table></figure>



<p>自定义配置文件的路径，执行后将不再使用 <code>_config.yml</code>。</p>
<h5 id="显示草稿"><a href="#显示草稿" class="headerlink" title="显示草稿"></a>显示草稿</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo --draft</span><br></pre></td></tr></table></figure>



<p>显示 <code>source/_drafts</code> 文件夹中的草稿文章。</p>
<h5 id="自定义-CWD"><a href="#自定义-CWD" class="headerlink" title="自定义 CWD"></a>自定义 CWD</h5><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo --cwd &#x2F;path&#x2F;to&#x2F;cwd</span><br></pre></td></tr></table></figure>



<p>自定义当前工作目录（Current working directory）的路径。</p>
<h2 id="写作"><a href="#写作" class="headerlink" title="写作"></a>写作</h2><h3 id="Front-matter"><a href="#Front-matter" class="headerlink" title="Front-matter"></a>Front-matter</h3><p>稍微与markdown不同的是，我们必须在文章的开头加一些标识，才能够做到给文章分类和打标签的功能。</p>
<p>首先新建一个文章<code>hexo new &quot;CPU飙高故障排查&quot;</code></p>
<p>然后我们修改<code>CPU飙高故障排查.md</code>的文章如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---title: CPU飙高故障排查date: 2018-01-17 14:11:01categories:- AIA友邦tags:- 云数据库 RDS MySQL 版- 数据库CPU故障---## 故障描述2018-01-16 21点左右 &#96;prod-mysql01&#96;数据实例的CPU100% ， 阿里的监控图也没有显示了，后台阿里建议做主从切换，切换后数据库慢慢的恢复了， 现在需要找出故障原因。## 排查过程从监控图中可以看到，CPU飙高的事件段为：&#96;2018-01-16 21:00:00 &#96;左右</span><br></pre></td></tr></table></figure>



<p>文章的头部叫做”Front-matter“以 <code>---</code> 分隔的区域</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">---title: CPU飙高故障排查date: 2018-01-17 14:11:01categories:- AIA友邦tags:- 云数据库 RDS MySQL 版- 数据库CPU故障---</span><br></pre></td></tr></table></figure>



<ul>
<li>categories：建议只由一个</li>
<li>tags：可以由多个</li>
</ul>
<h2 id="生成html页面"><a href="#生成html页面" class="headerlink" title="生成html页面"></a>生成html页面</h2><p>使用 Hexo 生成静态文件快速而且简单。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo generate或者$ hexo g</span><br></pre></td></tr></table></figure>



<p>因为我们是本地部署，因此不用执行后续的动作。</p>
<h2 id="启动本地服务"><a href="#启动本地服务" class="headerlink" title="启动本地服务"></a>启动本地服务</h2><p>Hexo 3.0 把服务器独立成了个别模块，您必须先安装 <a href="https://github.com/hexojs/hexo-server" target="_blank" rel="noopener">hexo-server</a> 才能使用。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-server --save</span><br></pre></td></tr></table></figure>



<p>安装完成后，输入以下命令以启动服务器，您的网站会在 <code>http://localhost:4000</code> 下启动。在服务器启动期间，Hexo 会监视文件变动并自动更新，您无须重启服务器。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>



<p>如果您想要更改端口，或是在执行时遇到了 <code>EADDRINUSE</code> 错误，可以在执行时使用 <code>-p</code> 选项指定其他端口，如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo server -p 5000</span><br></pre></td></tr></table></figure>



<h3 id="静态模式"><a href="#静态模式" class="headerlink" title="静态模式"></a>静态模式</h3><p>在静态模式下，服务器只处理 <code>public</code> 文件夹内的文件，而不会处理文件变动，在执行时，您应该先自行执行 <code>hexo generate</code>，此模式通常用于生产环境（production mode）下。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo server -s</span><br></pre></td></tr></table></figure>



<h3 id="自定义-IP"><a href="#自定义-IP" class="headerlink" title="自定义 IP"></a>自定义 IP</h3><p>服务器默认运行在 <code>0.0.0.0</code>，您可以覆盖默认的 IP 设置，如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ hexo server -i 192.168.1.1</span><br></pre></td></tr></table></figure>



<p>指定这个参数后，您就只能通过该IP才能访问站点。例如，对于一台使用无线网络的笔记本电脑，除了指向本机的<code>127.0.0.1</code>外，通常还有一个<code>192.168.*.*</code>的局域网IP，如果像上面那样使用<code>-i</code>参数，就不能用<code>127.0.0.1</code>来访问站点了。对于有公网IP的主机，如果您指定一个局域网IP作为<code>-i</code>参数的值，那么就无法通过公网来访问站点。</p>
<h2 id="Pow"><a href="#Pow" class="headerlink" title="Pow"></a>Pow</h2><p><a href="http://pow.cx/" target="_blank" rel="noopener">Pow</a> 是一个 Mac 系统上的零配置 Rack 服务器，它也可以作为一个简单易用的静态文件服务器来使用。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ curl get.pow.cx | sh</span><br></pre></td></tr></table></figure>



<h3 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h3><p>在 <code>~/.pow</code> 文件夹建立链接（symlink）。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ cd ~&#x2F;.pow$ ln -s &#x2F;path&#x2F;to&#x2F;myapp</span><br></pre></td></tr></table></figure>



<p>您的网站将会在 <code>http://myapp.dev</code> 下运行，网址根据链接名称而定。</p>
<h2 id="部署在Github"><a href="#部署在Github" class="headerlink" title="部署在Github"></a>部署在Github</h2><p>如果需要部署在github上面，请参见<a href="https://www.cnblogs.com/fengxiongZz/p/7707219.html" target="_blank" rel="noopener">使用Hexo+Github一步步搭建属于自己的博客（基础）</a></p>
<h2 id="修改博客模板为Next"><a href="#修改博客模板为Next" class="headerlink" title="修改博客模板为Next"></a>修改博客模板为Next</h2><p>如果需要修改博客模板为Next，请参见<a href="https://www.jianshu.com/p/1f8107a8778c" target="_blank" rel="noopener">hexo搭建个人博客–NexT主题优化</a></p>
]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>记一次datatime类型字段变身记</title>
    <url>/2020/05/22/%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93/%E8%AE%B0%E4%B8%80%E6%AC%A1datatime%E7%B1%BB%E5%9E%8B%E5%AD%97%E6%AE%B5%E5%8F%98%E8%BA%AB%E8%AE%B0/</url>
    <content><![CDATA[<h1 id="背景描述"><a href="#背景描述" class="headerlink" title="背景描述"></a>背景描述</h1><h2 id="案件回顾"><a href="#案件回顾" class="headerlink" title="案件回顾"></a>案件回顾</h2><ul>
<li>某著名保险企业邮件一条DTS链路故障，报错信息显示目标库的对应表不存在</li>
<li>链路是整库同步，支持源库创建表后，目标库会同步创建表</li>
<li>请我方协助排查原因并修复故障</li>
</ul>
<blockquote>
<p>先介绍一下数据表情况，因为涉及到内部真实的数据，所以表结构和日志都做了脱敏操作，但不会影响具体的分析。</p>
</blockquote>
<p>信息详情</p>
<table>
<thead>
<tr>
<th align="left">信息</th>
<th align="left">内容</th>
</tr>
</thead>
<tbody><tr>
<td align="left">故障时间点</td>
<td align="left">2020-05-20 10:33:50</td>
</tr>
<tr>
<td align="left">DTS链路名称</td>
<td align="left">Polardb 5.6-&gt;RDS for MySQL5.7</td>
</tr>
<tr>
<td align="left">DTS同步失败报错内容</td>
<td align="left">DTS-071001: the Table cds.plog Information Loaded failed in Target DB. cause by [com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException:Table ‘cds.plog’ doesn’t exist] About more information in [<a href="https://yq.aliyun.com/articles/505378]" target="_blank" rel="noopener">https://yq.aliyun.com/articles/505378]</a>.</td>
</tr>
<tr>
<td align="left">同步粒度</td>
<td align="left">整库同步</td>
</tr>
<tr>
<td align="left">源数据库名称</td>
<td align="left">PDB</td>
</tr>
<tr>
<td align="left">源数据库类型</td>
<td align="left">PolarDB for MySQL 5.6</td>
</tr>
<tr>
<td align="left">源库同步用户/权限</td>
<td align="left">i_read/只读</td>
</tr>
<tr>
<td align="left">目标数据库名称</td>
<td align="left">RDS</td>
</tr>
<tr>
<td align="left">目标数据库类型</td>
<td align="left">RDS for MySQL 5.7</td>
</tr>
<tr>
<td align="left">目标库同步用户/权限</td>
<td align="left">e_dev/读写</td>
</tr>
</tbody></table>
<h1 id="排障过程"><a href="#排障过程" class="headerlink" title="排障过程"></a>排障过程</h1><h2 id="阶段一：怀疑人为因素造成"><a href="#阶段一：怀疑人为因素造成" class="headerlink" title="阶段一：怀疑人为因素造成"></a>阶段一：怀疑人为因素造成</h2><ul>
<li>解析故障时间段源目标库的 binlog 来验证</li>
<li>下载目标数据库对应时间段的binlog → mysql-bin.000498，并通过mysqlbinlog -vv 的方式对日志进行解析</li>
</ul>
<p>目标库 binlog 解析结果</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">COMMIT</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment"># at 8993767</span></span><br><span class="line"><span class="comment">#200520 10:30:11 server id 2278327273  end_log_pos 8993832 CRC32 0xeb1056ff     GTID    last_committed=2005     sequence_number=2006    rbr_only=no</span></span><br><span class="line"><span class="keyword">SET</span> @@SESSION.GTID_NEXT= <span class="string">'9669d21f-7e11-11ea-bdd0-6c92bf5c9bf2:6704774'</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment"># at 8993832</span></span><br><span class="line"><span class="comment">#200520 10:30:11 server id 2278327273  end_log_pos 8993973 CRC32 0xa980631b     Query   thread_id=1653742       exec_time=0     error_code=0</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">`cloudods`</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="keyword">SET</span> <span class="built_in">TIMESTAMP</span>=<span class="number">1589941811</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="keyword">SET</span> @@session.foreign_key_checks=<span class="number">0</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="keyword">SET</span> @@session.sql_mode=<span class="number">0</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment">/*!\C utf8mb4 */</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="keyword">SET</span> @@session.character_set_client=<span class="number">45</span>,@@session.collation_connection=<span class="number">45</span>,@@session.collation_server=<span class="number">33</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`plog`</span> <span class="comment">/* generated by server */</span></span><br><span class="line"><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment"># at 8993973</span></span><br><span class="line"><span class="comment">#200520 10:30:20 server id 2278327273  end_log_pos 8994038 CRC32 0x9b7bb805     GTID    last_committed=2006     sequence_number=2007    rbr_only=yes</span></span><br><span class="line"><span class="comment">/*!50718 SET TRANSACTION ISOLATION LEVEL READ COMMITTED*/</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="keyword">SET</span> @@SESSION.GTID_NEXT= <span class="string">'9669d21f-7e11-11ea-bdd0-6c92bf5c9bf2:6704775'</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment"># at 8994038</span></span><br><span class="line"><span class="comment">#200520 10:30:20 server id 2278327273  end_log_pos 8994106 CRC32 0x84aeabab     Query   thread_id=1273498       exec_time=0     error_code=0</span></span><br><span class="line"><span class="keyword">SET</span> <span class="built_in">TIMESTAMP</span>=<span class="number">1589941820</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment"># at 8994106</span></span><br><span class="line"><span class="comment">#200520 10:30:20 server id 2278327273  end_log_pos 8994276 CRC32 0x5d226504     Table_map: `is`.`sys_userinfo` mapped to number 1362</span></span><br><span class="line"><span class="comment"># at 8994276</span></span><br><span class="line"><span class="comment">#200520 10:30:20 server id 2278327273  end_log_pos 8994893 CRC32 0x43a6caee     Delete_rows: table id 1362 flags: STMT_END_F</span></span><br><span class="line"> </span><br><span class="line">BINLOG '</span><br><span class="line">PJbEXhPpg8yHqgAAAOQ9iQAAAFIFAAAAAAEADGlzcF9tYWluZGJfcwAMc3lzX3VzZXJpbmZvACoI</span><br><span class="line">Dw8PDw8PDw8PDw8SDw8DAwMDDxISCPwSAw8PEhIPDw8SEg8PDw8PDw89YAADAAMA7gIwADAANgAY</span><br><span class="line">AFgCYABgAAADAIABAwAAAAIAlgBgAAAA/QJYAlgCAAAeAP0C/QL9Av0CPAADAP7/////AwRlIl0=</span><br><span class="line">PJbEXhnpg8yHaQIAAE1AiQAAAFIFAAAAAAMAKv///////8BYAACA/LEIAAAAAAAACTAwMDAxNjk3</span><br><span class="line">MQFBATEhAOacseWLpOWNjiAgICAgICAgICAgICAgICAgICAgICAgIAROVUxMBDA5ODYEAEZFMDEJ</span><br><span class="line">RzAwMDAwNDA5ATABAAAAAQAAAAEAAAABAAAAAUGZpG4AAJmknQSyAAAAAAAAAADKAHtBU0lUVTpD</span><br><span class="line">TSxFQUZDUjowMDAwMDM0MjEsQ0hBTk5FTDpBZ2VuY3l9LXsiQUdUQ09EIjoiMDAwMDE2OTcxICAg</span><br><span class="line">ICIsIk9GRkNPRCI6IkZFMDEiLCJBR1lDT0QiOiJHMDAwMDA0MDkiLCJyb3dfbnVtYmVyIjo5NSwi</span><br><span class="line">Q09OVFlQRSI6Ik0xIiwiaW5pUHdkIjoiMTExMTExMTEiLCJBR1ROQU1FIjoi5pyx5Yuk5Y2OICAg</span><br><span class="line">ICAgICAgICAgICAgICAgICAgICAgIn2ZpgcaagAAAAAGQWdlbmN5CDExMDMwNTM3mZ3lBKiZpmil</span><br><span class="line">lAIAQ00IADExMTExMTExGABSWU96dm9Vd3JiaEJBeWwxNnhxLzRRPT2ZpmimRpmmaKZGA0lTUEwA</span><br><span class="line">MDdFNDAwMDUwMDE0MDAwQTAwMTYwMDE2MEI4MEYyNDAwMDAwMDAxRDAwMDBBRkI0MDAwMDM0MUEw</span><br><span class="line">MDA2MDAwMDAwMDEwMDAwMDAwMCIAOTIwMDAwMDA0MzQ4NEY1NDMzNTIzODQzNTM1MTRDMzEzMRQA</span><br><span class="line">MDAwMEFGQjQwMDAwMzQxQTAwMDYUMjAyMDA1MjAxMDIyMjIxOTMwMDABSe7KpkM=</span><br><span class="line">'<span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment">### DELETE FROM `isp_maindb_s`.`sys_userinfo`</span></span><br><span class="line"><span class="comment">### WHERE</span></span><br><span class="line"><span class="comment">###   @1=2225 /* LONGINT meta=0 nullable=0 is_null=0 */</span></span><br><span class="line"><span class="comment">###   @2='000016971' /* VARSTRING(96) meta=96 nullable=1 is_null=0 */</span></span><br><span class="line"><span class="comment">###   @3='A' /* VARSTRING(3) meta=3 nullable=1 is_null=0 */</span></span><br><span class="line"><span class="comment">###   @4='1' /* VARSTRING(3) meta=3 nullable=1 is_null=0 */</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>发现SQL：DROP TABLE IF EXISTS <code>plog</code> /* generated by server */</p>
<p>执行时间：200520 10:30:11</p>
<p>由于该DROP动作，无论库中是否存在该表，binlog均会记录，因此想何时该DROP动作在建表之后</p>
</blockquote>
<p>从源库information_schema.tables获取表的创建时间</p>
<img src="/2020/05/22/%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93/%E8%AE%B0%E4%B8%80%E6%AC%A1datatime%E7%B1%BB%E5%9E%8B%E5%AD%97%E6%AE%B5%E5%8F%98%E8%BA%AB%E8%AE%B0/1.png" class="" title="This is an 1 image">
<blockquote>
<p>与DROP的时间一致</p>
<p><strong>因后来证实，当 alter 表时，create_time 字段会被更新；增删改查表时，update_time字段会被更新；truncate表时，时间字段不被更新</strong></p>
<p>因此怀疑该时间不够准确，决定从PolarDB获取对应时间段的binlog日志，查看该时间是否是CREATE TABLE的时间</p>
</blockquote>
<p>由于<strong>PolarDB不支持直接下载binlog</strong>需要通过客户端连接的方式把binlog日志解析到本地</p>
<p>通过客户端连接获取binlog的命令</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">mysqlbinlog -vv -P 3306 -uxxxx -pxxxx -hxxxx.mysql.rds.aliyuncs.com --read-from-remote-server --start-datetime='2020-05-20 09:00:00' --stop-datetime='2020-05-20 11:00:00' --base64-output=DECODE-ROWS mysql-bin.000xxx &gt; xxxlog.sql</span><br></pre></td></tr></table></figure>

<blockquote>
<p>遇到报错的情况下，需检查mysqlbinlog版本是否正确</p>
</blockquote>
<p>源端数据库binlog内容</p>
<p>源库故障时间 binlog 解析结果</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment"># at 398730036</span></span><br><span class="line"><span class="comment">#200520 10:30:10 server id 9793953  end_log_pos 398730084 CRC32 0x42791024      GTID    last_committed=0        sequence_number=0</span></span><br><span class="line"><span class="keyword">SET</span> @@SESSION.GTID_NEXT= <span class="string">'e1ecc4a7-f9fa-11e9-ad35-506b4b478fa4:107546949'</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment"># at 398730084</span></span><br><span class="line"><span class="comment">#200520 10:30:10 server id 9793953  end_log_pos 398730225 CRC32 0x28099038      Query   thread_id=1749351       exec_time=0     error_code=0</span></span><br><span class="line"><span class="keyword">use</span> <span class="string">`cloudods`</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="keyword">SET</span> <span class="built_in">TIMESTAMP</span>=<span class="number">1589941810</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment">/*!\C utf8 */</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="keyword">SET</span> @@session.character_set_client=<span class="number">33</span>,@@session.collation_connection=<span class="number">33</span>,@@session.collation_server=<span class="number">33</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`plog`</span> <span class="comment">/* generated by server */</span></span><br><span class="line"><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment"># at 398730225</span></span><br><span class="line"><span class="comment">#200520 10:30:11 server id 9793953  end_log_pos 398730273 CRC32 0x699cf5ca      GTID    last_committed=0        sequence_number=0</span></span><br><span class="line"><span class="keyword">SET</span> @@SESSION.GTID_NEXT= <span class="string">'e1ecc4a7-f9fa-11e9-ad35-506b4b478fa4:107546950'</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment"># at 398730273</span></span><br><span class="line"><span class="comment">#200520 10:30:11 server id 9793953  end_log_pos 398731371 CRC32 0xe7281576      Query   thread_id=1749353       exec_time=0     error_code=0</span></span><br><span class="line"><span class="keyword">SET</span> <span class="built_in">TIMESTAMP</span>=<span class="number">1589941811</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment">/*!\C utf8mb4 */</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="keyword">SET</span> @@session.character_set_client=<span class="number">45</span>,@@session.collation_connection=<span class="number">45</span>,@@session.collation_server=<span class="number">33</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="string">`cds`</span>.<span class="string">`plog`</span> (^M</span><br><span class="line">  <span class="string">`co`</span> <span class="built_in">varchar</span>(<span class="number">4</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span> <span class="string">''</span>,^M</span><br><span class="line">  <span class="string">`polnum`</span> <span class="built_in">varchar</span>(<span class="number">10</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span> <span class="string">''</span>,^M</span><br><span class="line">  <span class="string">`code`</span> <span class="built_in">varchar</span>(<span class="number">5</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,^M</span><br><span class="line">  <span class="string">`msg`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,^M</span><br><span class="line">  <span class="string">`lstupdtime`</span> datetime(<span class="number">6</span>) <span class="keyword">default</span> <span class="literal">null</span>,^M</span><br><span class="line">  <span class="string">`dtl__capxrestart1`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,^M</span><br><span class="line">  <span class="string">`dtl__capxrestart2`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,^M</span><br><span class="line">  <span class="string">`dtl__capxuow`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,^M</span><br><span class="line">  <span class="string">`dtl__capxuser`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,^M</span><br><span class="line">  <span class="string">`dtl__capxtimestamp`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,^M</span><br><span class="line">  <span class="string">`dtl__capxaction`</span> <span class="built_in">varchar</span>(<span class="number">1</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,^M</span><br><span class="line">  <span class="string">`dtl__capxcasdelind`</span> <span class="built_in">varchar</span>(<span class="number">1</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,^M</span><br><span class="line">  <span class="string">`dtl__capxrrn`</span> <span class="built_in">decimal</span>(<span class="number">10</span>,<span class="number">0</span>) <span class="keyword">default</span> <span class="literal">null</span>,^M</span><br><span class="line">  <span class="string">`inserttime`</span> <span class="built_in">timestamp</span>  ,^M</span><br><span class="line">  <span class="string">`updatetime`</span> <span class="built_in">timestamp</span>  ,^M</span><br><span class="line">  <span class="string">`srcsys`</span> <span class="built_in">varchar</span>(<span class="number">10</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,^M</span><br><span class="line">  primary <span class="keyword">key</span> (<span class="string">`co`</span>,<span class="string">`polnum`</span>,<span class="string">`lstupdtime`</span>)^M</span><br><span class="line">) <span class="keyword">engine</span>=<span class="keyword">innodb</span> <span class="keyword">default</span> <span class="keyword">charset</span>=utf8 <span class="keyword">collate</span>=utf8_bin</span><br><span class="line"><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment"># at 398731371</span></span><br><span class="line"><span class="comment">#200520 10:30:19 server id 9793953  end_log_pos 398731419 CRC32 0x7bc1d5fb      GTID    last_committed=0        sequence_number=0</span></span><br><span class="line"><span class="keyword">SET</span> @@SESSION.GTID_NEXT= <span class="string">'e1ecc4a7-f9fa-11e9-ad35-506b4b478fa4:107546951'</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment"># at 398731419</span></span><br><span class="line"><span class="comment">#200520 10:30:19 server id 9793953  end_log_pos 398731487 CRC32 0xfbae67c6      Query   thread_id=452351        exec_time=0     error_code=0</span></span><br><span class="line"><span class="keyword">SET</span> <span class="built_in">TIMESTAMP</span>=<span class="number">1589941819</span><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="comment">/*!*/</span>;</span><br><span class="line"><span class="comment"># at 398731487</span></span><br><span class="line"><span class="comment">#200520 10:30:19 server id 9793953  end_log_pos 398731657 CRC32 0xfc6068eb      Table_map: `is`.`sys_userinfo` mapped to number 1405</span></span><br><span class="line"><span class="comment"># at 398731657</span></span><br><span class="line"><span class="comment">#200520 10:30:19 server id 9793953  end_log_pos 398732274 CRC32 0x95cb0304      Delete_rows: table id 1405 flags: STMT_END_F</span></span><br><span class="line"><span class="comment">### DELETE FROM `isp_maindb_s`.`sys_userinfo`</span></span><br><span class="line"><span class="comment">### WHERE</span></span><br><span class="line"><span class="comment">###   @1=2225 /* LONGINT meta=0 nullable=0 is_null=0 */</span></span><br><span class="line"><span class="comment">###   @2='000016971' /* VARSTRING(96) meta=96 nullable=1 is_null=0 */</span></span><br><span class="line"><span class="comment">###   @3='A' /* VARSTRING(3) meta=3 nullable=1 is_null=0 */</span></span><br><span class="line"><span class="comment">###   @4='1' /* VARSTRING(3) meta=3 nullable=1 is_null=0 */</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>获得如下发现：</p>
<ul>
<li>几乎相同的时间都有DROP TABLE的动作</li>
<li>区别是源端有CREATE TABLE的记录，而目标端没有CREATE TABLE的记录</li>
</ul>
</blockquote>
<h1 id="阶段二：怀疑DTS工具BUG"><a href="#阶段二：怀疑DTS工具BUG" class="headerlink" title="阶段二：怀疑DTS工具BUG"></a>阶段二：怀疑DTS工具BUG</h1><ul>
<li><p>由于阶段一获取的源库和目标库的 binlog 日志，推测是源库在建表的过程中，先进行了一个DROP TABLE IF EXISTS的动作，然后再CREATE TABLE</p>
</li>
<li><p>而目标库只有DROP TABLE IF EXISTS，而缺失CREATE TABLE的记录，因此怀疑是DTS少传输了CREATE TABLE的部分</p>
</li>
<li><p>向阿里方提工单协助解决此问题</p>
</li>
</ul>
<h1 id="阶段三：手动建表进行故障恢复"><a href="#阶段三：手动建表进行故障恢复" class="headerlink" title="阶段三：手动建表进行故障恢复"></a>阶段三：手动建表进行故障恢复</h1><ul>
<li><p>由于目标端是缺失了对应的表，造成的故障，因此决定通过手动在目标端创建表来解决问题</p>
</li>
<li><p>从源端SHOW CREATE TABLE获取建表语句</p>
</li>
</ul>
<p>源端 SHOW CREATE TABLE</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql&gt;show create table plog\G</span><br><span class="line">*************************** 1. row ***************************</span><br><span class="line">       Table: plog</span><br><span class="line"><span class="keyword">Create</span> <span class="keyword">Table</span>: <span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`plog`</span> (</span><br><span class="line">  <span class="string">`co`</span> <span class="built_in">varchar</span>(<span class="number">4</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">''</span>,</span><br><span class="line">  <span class="string">`polnum`</span> <span class="built_in">varchar</span>(<span class="number">10</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">''</span>,</span><br><span class="line">  <span class="string">`code`</span> <span class="built_in">varchar</span>(<span class="number">5</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`msg`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`lstupdtime`</span> datetime(<span class="number">6</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">'0000-00-00 00:00:00.000000'</span>,</span><br><span class="line">  <span class="string">`dtl__capxrestart1`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`dtl__capxrestart2`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`dtl__capxuow`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`dtl__capxuser`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`dtl__capxtimestamp`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`dtl__capxaction`</span> <span class="built_in">varchar</span>(<span class="number">1</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`dtl__capxcasdelind`</span> <span class="built_in">varchar</span>(<span class="number">1</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`dtl__capxrrn`</span> <span class="built_in">decimal</span>(<span class="number">10</span>,<span class="number">0</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  <span class="string">`inserttime`</span> <span class="built_in">timestamp</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">CURRENT_TIMESTAMP</span> <span class="keyword">ON</span> <span class="keyword">UPDATE</span> <span class="keyword">CURRENT_TIMESTAMP</span>,</span><br><span class="line">  <span class="string">`updatetime`</span> <span class="built_in">timestamp</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="string">'0000-00-00 00:00:00'</span>,</span><br><span class="line">  <span class="string">`srcsys`</span> <span class="built_in">varchar</span>(<span class="number">10</span>) <span class="keyword">COLLATE</span> utf8_bin <span class="keyword">DEFAULT</span> <span class="literal">NULL</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`co`</span>,<span class="string">`polnum`</span>,<span class="string">`lstupdtime`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8 <span class="keyword">COLLATE</span>=utf8_bin</span><br><span class="line">返回行数：[<span class="number">1</span>]，耗时：<span class="number">6</span> ms.</span><br></pre></td></tr></table></figure>

<blockquote>
<p>将该建表语句复制到目标端手动创建，然后启动DTS链路</p>
<p><strong>再通过SELECT * FROM 表 来验证数据是否正常同步过来时，提示该表不存在</strong></p>
<p>刷新DTS链路信息，DTS链路报错，报错与之前一致</p>
</blockquote>
<p>多次重复上述操作，均可复现，现象反馈给阿里方，协助排查该问题</p>
<h1 id="阶段四：开启审计，查找“真凶”"><a href="#阶段四：开启审计，查找“真凶”" class="headerlink" title="阶段四：开启审计，查找“真凶”"></a>阶段四：开启审计，查找“真凶”</h1><ul>
<li>在阿里方的建议下，开启审计，查看是“谁”删除了这张表</li>
</ul>
<p>审计内容</p>
<img src="/2020/05/22/%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93/%E8%AE%B0%E4%B8%80%E6%AC%A1datatime%E7%B1%BB%E5%9E%8B%E5%AD%97%E6%AE%B5%E5%8F%98%E8%BA%AB%E8%AE%B0/2.png" class="" title="This is an 2 image">

<blockquote>
<p>发现是eds_dev用户，是 DTS 同步用户，传输过来的动作是先进行 DROP 再进行创建，但创建失败</p>
<p>CREATE 之前先 DROP，就是手动创建被会失败的原因</p>
<p><strong>而 CREATE 之所以失败，根据审计的提示，失败代码：1171</strong></p>
</blockquote>
<p>查询 MySQL 的错误代码 1171</p>
<img src="/2020/05/22/%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93/%E8%AE%B0%E4%B8%80%E6%AC%A1datatime%E7%B1%BB%E5%9E%8B%E5%AD%97%E6%AE%B5%E5%8F%98%E8%BA%AB%E8%AE%B0/3.png" class="" title="This is an 3 image">

<blockquote>
<p>当主键的字段属性为“允许空值”时会报出1171的错误代码 </p>
</blockquote>
<p>检查审计 CREATE TABLE 语句</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">---目标库 CREATE TABLE 语句---</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> <span class="string">`cds`</span>.<span class="string">`plog`</span></span><br><span class="line">( <span class="string">`co`</span> <span class="built_in">varchar</span>(<span class="number">4</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span> <span class="string">''</span>,</span><br><span class="line"><span class="string">`polnum`</span> <span class="built_in">varchar</span>(<span class="number">10</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">default</span> <span class="string">''</span>,</span><br><span class="line"><span class="string">`code`</span> <span class="built_in">varchar</span>(<span class="number">5</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line"><span class="string">`msg`</span> <span class="built_in">varchar</span>(<span class="number">50</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line"><span class="string">`lstupdtime`</span> datetime(<span class="number">6</span>) <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line"><span class="string">`dtl__capxrestart1`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line"><span class="string">`dtl__capxrestart2`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line"><span class="string">`dtl__capxuow`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line"><span class="string">`dtl__capxuser`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line"><span class="string">`dtl__capxtimestamp`</span> <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line"><span class="string">`dtl__capxaction`</span> <span class="built_in">varchar</span>(<span class="number">1</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line"><span class="string">`dtl__capxcasdelind`</span> <span class="built_in">varchar</span>(<span class="number">1</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line"><span class="string">`dtl__capxrrn`</span> <span class="built_in">decimal</span>(<span class="number">10</span>,<span class="number">0</span>) <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line"><span class="string">`inserttime`</span> <span class="built_in">timestamp</span> ,</span><br><span class="line"><span class="string">`updatetime`</span> <span class="built_in">timestamp</span> ,</span><br><span class="line"><span class="string">`srcsys`</span> <span class="built_in">varchar</span>(<span class="number">10</span>) <span class="keyword">collate</span> utf8_bin <span class="keyword">default</span> <span class="literal">null</span>,</span><br><span class="line">primary <span class="keyword">key</span> (<span class="string">`co`</span>,<span class="string">`polnum`</span>,<span class="string">`lstupdtime`</span>)</span><br><span class="line">) <span class="keyword">engine</span>=<span class="keyword">innodb</span> <span class="keyword">default</span> <span class="keyword">charset</span>=utf8 <span class="keyword">collate</span>=utf8_bin</span><br></pre></td></tr></table></figure>

<p>发现以下问题：</p>
<ul>
<li>与之前在源库SHOW CREATE TABLE的SQL不一致</li>
<li>lstupdtime 字段属性有 default null，但后面又被包含在primary key中（引起 1171 报错）</li>
<li>与源库在 binlog 获取 CREATE TABLE 的SQL一致</li>
</ul>
<p>产生以下推测：</p>
<ul>
<li>SHOW CREATE TABLE的SQL是系统修正后的“正规”SQL</li>
<li>binlog拿到的SQL是人为输入的“原生”SQL</li>
<li>“原生”SQL在源库建表成功，在目标库执行失败，可能是版本差异引起的<br>验证版本差异：</li>
</ul>
<p>5.6 → 成功创建</p>
<img src="/2020/05/22/%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93/%E8%AE%B0%E4%B8%80%E6%AC%A1datatime%E7%B1%BB%E5%9E%8B%E5%AD%97%E6%AE%B5%E5%8F%98%E8%BA%AB%E8%AE%B0/4.png" class="" title="This is an 4 image">

<p>5.7 → 报错 ERROR 1171</p>
<img src="/2020/05/22/%E4%BA%91%E6%95%B0%E6%8D%AE%E5%BA%93/%E8%AE%B0%E4%B8%80%E6%AC%A1datatime%E7%B1%BB%E5%9E%8B%E5%AD%97%E6%AE%B5%E5%8F%98%E8%BA%AB%E8%AE%B0/5.png" class="" title="This is an 5 image">


<p>结论</p>
<ul>
<li><p>建表语句不规范，导致DTS链路故障</p>
</li>
<li><p>在MySQL 5.6 中，当设计表时 datetime 数据类型的字段带有 default null，且设置为主键时，MySQL会自动将 default null 更正为 not null default ‘0000-00-00 00:00:00’，以满足 PRIMARY KEY 的需求</p>
</li>
<li><p>在MySQL 5.7 中，当设计表时 datetime 数据类型的字段带有 default null，且设置为主键时，MySQL遵照用户的需求（default null），与 PRIMARY KEY 冲突，因此报错 1171</p>
</li>
</ul>
<h1 id="测试用例"><a href="#测试用例" class="headerlink" title="测试用例"></a>测试用例</h1><h2 id="—MySQL-5-6—"><a href="#—MySQL-5-6—" class="headerlink" title="—MySQL 5.6—"></a>—MySQL 5.6—</h2><table>
<thead>
<tr>
<th align="left">SQL中字段属性（并设置为主键）</th>
<th align="left">结果</th>
<th align="left">SHOW CREATE TABLE</th>
</tr>
</thead>
<tbody><tr>
<td align="left">col_test datetime(6)</td>
<td align="left">建表成功</td>
<td align="left">col_test datetime(6) NOT NULL DEFAULT ‘0000-00-00 00:00:00.000000’</td>
</tr>
<tr>
<td align="left">col_test datetime(6) default null</td>
<td align="left">建表成功</td>
<td align="left">col_test datetime(6) NOT NULL DEFAULT ‘0000-00-00 00:00:00.000000’</td>
</tr>
<tr>
<td align="left">col_test datetime(6) not null</td>
<td align="left">建表成功</td>
<td align="left">col_test datetime(6) NOT NULL</td>
</tr>
</tbody></table>
<h2 id="—MySQL-5-7—"><a href="#—MySQL-5-7—" class="headerlink" title="—MySQL 5.7—"></a>—MySQL 5.7—</h2><table>
<thead>
<tr>
<th align="left">SQL中字段属性（并设置为主键）</th>
<th align="left">结果</th>
<th align="left">SHOW CREATE TABLE</th>
</tr>
</thead>
<tbody><tr>
<td align="left">col_test datetime(6)</td>
<td align="left">建表成功</td>
<td align="left">col_test datetime(6) NOT NULL</td>
</tr>
<tr>
<td align="left">col_test datetime(6) default null</td>
<td align="left">建表失败</td>
<td align="left">ERROR 1171</td>
</tr>
<tr>
<td align="left">col_test datetime(6) not null</td>
<td align="left">建表成功</td>
<td align="left">col_test datetime(6) NOT NULL</td>
</tr>
</tbody></table>
<h2 id="知识延伸"><a href="#知识延伸" class="headerlink" title="知识延伸"></a>知识延伸</h2><p>explicit_defaults_for_timestamp 参数</p>
<ul>
<li>该参数只限制 timestamp 数据类型，对 datetime 无法起到限制作用</li>
<li>MySQL 5.6 需要在配置文件中修改该参数，重启服务后生效</li>
<li>MySQL 5.7 可直接修改该参数</li>
</ul>
<table>
<thead>
<tr>
<th align="left">explicit_defaults_for_timestamp</th>
<th align="left">SQL中字段属性</th>
<th align="left">SHOW CREATE TABLE</th>
</tr>
</thead>
<tbody><tr>
<td align="left">OFF / 0</td>
<td align="left">col01 timestamp col02 timestamp</td>
<td align="left">col01 timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP col01 timestamp NOT NULL DEFAULT ‘0000-00-00 00:00:00’</td>
</tr>
<tr>
<td align="left">ON / 1</td>
<td align="left">col01 timestamp col02 timestamp</td>
<td align="left">col01 timestamp NULL DEFAULT NULL col01 timestamp NULL DEFAULT NULL</td>
</tr>
</tbody></table>
<h1 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h1><ul>
<li>由于同步链路“卡死”在当前这个建表的事务</li>
<li>因此需要将该库从同步链路中移除，然后将整库重新加入到同步链路中</li>
<li>阿里方虽然可以通过后台跳过该DDL，但有风险（可能跳过不止一个DDL）</li>
</ul>
<h1 id="思考"><a href="#思考" class="headerlink" title="思考"></a>思考</h1><ul>
<li><p>如何普及研发人员操作数据库的规范？</p>
</li>
<li><p>正确的互联网发布流程怎样才可以避免此类问题？</p>
</li>
</ul>
]]></content>
      <categories>
        <category>云数据库</category>
      </categories>
      <tags>
        <tag>Polardb for MySQL</tag>
        <tag>RDS for MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>Git玩转三剑客-第1课-仓库初始化</title>
    <url>/2020/05/16/Git/Git%E7%8E%A9%E8%BD%AC%E4%B8%89%E5%89%91%E5%AE%A2-%E7%AC%AC1%E8%AF%BE-%E4%BB%93%E5%BA%93%E5%88%9D%E5%A7%8B%E5%8C%96/</url>
    <content><![CDATA[<h1 id="初始化仓库"><a href="#初始化仓库" class="headerlink" title="初始化仓库"></a>初始化仓库</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">创建目录</span><br><span class="line"><span class="meta">$</span><span class="bash"> mkdir git_01</span></span><br><span class="line"></span><br><span class="line">进入目录</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> git_01/</span></span><br><span class="line"></span><br><span class="line">初始化</span><br><span class="line"><span class="meta">$</span><span class="bash"> git init .</span></span><br><span class="line">Initialized empty Git repository in xxx</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> .git/</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ll</span></span><br><span class="line">total 7</span><br><span class="line">-rw-r--r-- 1 Apple 197121 130 5月  15 10:33 config</span><br><span class="line">-rw-r--r-- 1 Apple 197121  73 5月  15 10:33 description</span><br><span class="line">-rw-r--r-- 1 Apple 197121  23 5月  15 10:33 HEAD</span><br><span class="line">drwxr-xr-x 1 Apple 197121   0 5月  15 10:33 hooks/</span><br><span class="line">drwxr-xr-x 1 Apple 197121   0 5月  15 10:33 info/</span><br><span class="line">drwxr-xr-x 1 Apple 197121   0 5月  15 10:33 objects/</span><br><span class="line">drwxr-xr-x 1 Apple 197121   0 5月  15 10:33 refs/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat config</span></span><br><span class="line">[core]</span><br><span class="line">        repositoryformatversion = 0</span><br><span class="line">        filemode = false</span><br><span class="line">        bare = false</span><br><span class="line">        logallrefupdates = true</span><br><span class="line">        symlinks = false</span><br><span class="line">        ignorecase = true</span><br><span class="line"></span><br><span class="line">配置</span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --global user.name apple</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --global user.mail huangjx@jiagouyun.com</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat config</span></span><br><span class="line">[core]</span><br><span class="line">        repositoryformatversion = 0</span><br><span class="line">        filemode = false</span><br><span class="line">        bare = false</span><br><span class="line">        logallrefupdates = true</span><br><span class="line">        symlinks = false</span><br><span class="line">        ignorecase = true</span><br><span class="line">		</span><br><span class="line">--global配置config文件内容没有变化</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --<span class="built_in">local</span> user.name apple</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git config --<span class="built_in">local</span> user.mail huangjx@jiagouyun.com</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> cat config</span></span><br><span class="line">[core]</span><br><span class="line">        repositoryformatversion = 0</span><br><span class="line">        filemode = false</span><br><span class="line">        bare = false</span><br><span class="line">        logallrefupdates = true</span><br><span class="line">        symlinks = false</span><br><span class="line">        ignorecase = true</span><br><span class="line">[user]</span><br><span class="line">        name = apple</span><br><span class="line">        mail = huangjx@jiagouyun.com</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<h1 id="上传文件到仓库"><a href="#上传文件到仓库" class="headerlink" title="上传文件到仓库"></a>上传文件到仓库</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">新建文件</span><br><span class="line"><span class="meta">$</span><span class="bash"> vim xxCPU高了.md</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> ll</span></span><br><span class="line">-rw-r--r-- 1 Apple 197121 10 5月  15 10:38 xxCPU高了.md</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">Initial commit</span><br><span class="line"></span><br><span class="line">Untracked files:</span><br><span class="line">  (use "git add &lt;file&gt;..." to include in what will be committed)</span><br><span class="line"></span><br><span class="line">        "xxCPU\351\253\230\344\272\206.md"</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present (use "git add" to track)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add -A</span></span><br><span class="line">warning: LF will be replaced by CRLF in xxCPU高了.md.</span><br><span class="line">The file will have its original line endings in your working directory.</span><br><span class="line"></span><br><span class="line">Apple@DESKTOP-V8IAR5D MINGW64 /d/智能团队相关资料/08_学习内容/04_gitlab仓库1/git_01 (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line"></span><br><span class="line">Initial commit</span><br><span class="line"></span><br><span class="line">Changes to be committed:</span><br><span class="line">  (use "git rm --cached &lt;file&gt;..." to unstage)</span><br><span class="line"></span><br><span class="line">        new file:   "xxCPU\351\253\230\344\272\206.md"</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">'新增了一个文件XX'</span></span></span><br><span class="line">[master (root-commit) e9a5c8c] 新增了一个文件XX</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 "xxCPU\351\253\230\344\272\206.md"</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">nothing to commit, working tree clean</span><br></pre></td></tr></table></figure>

<blockquote>
<p>新增文件会先放到工作区放到git add将文件放到暂存区再放到git commit版本库</p>
</blockquote>
<h1 id="日志查看"><a href="#日志查看" class="headerlink" title="日志查看"></a>日志查看</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit e9a5c8cf5f144de7790e895e0b9fbf8bf45bbc57 (HEAD -&gt; master)</span><br><span class="line">Author: apple &lt;13774437301@163.com&gt;</span><br><span class="line">Date:   Fri May 15 10:42:29 2020 +0800</span><br><span class="line"></span><br><span class="line">    新增了一个文件XX</span><br></pre></td></tr></table></figure>

<h1 id="回退版本"><a href="#回退版本" class="headerlink" title="回退版本"></a>回退版本</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit e9a5c8cf5f144de7790e895e0b9fbf8bf45bbc57 (HEAD -&gt; master)</span><br><span class="line">Author: apple &lt;13774437301@163.com&gt;</span><br><span class="line">Date:   Fri May 15 10:42:29 2020 +0800</span><br><span class="line"></span><br><span class="line">    新增了一个文件XX</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> touch a</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit</span></span><br><span class="line">On branch master</span><br><span class="line">Untracked files:</span><br><span class="line">        a</span><br><span class="line"></span><br><span class="line">nothing added to commit but untracked files present</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git add -A</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit</span></span><br><span class="line">[master e84f58a] 新增a</span><br><span class="line"> 1 file changed, 0 insertions(+), 0 deletions(-)</span><br><span class="line"> create mode 100644 a</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">log</span></span></span><br><span class="line">commit e84f58a3eff4b3b05023e005d966cdb8f835a258 (HEAD -&gt; master)</span><br><span class="line">Author: apple &lt;13774437301@163.com&gt;</span><br><span class="line">Date:   Fri May 15 10:46:36 2020 +0800</span><br><span class="line"></span><br><span class="line">    新增a</span><br><span class="line"></span><br><span class="line">commit e9a5c8cf5f144de7790e895e0b9fbf8bf45bbc57</span><br><span class="line">Author: apple &lt;13774437301@163.com&gt;</span><br><span class="line">Date:   Fri May 15 10:42:29 2020 +0800</span><br><span class="line"></span><br><span class="line">    新增了一个文件XX</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git reset --hard e9a5c8cf5f144de7790e895e0b9fbf8bf45bbc57</span></span><br><span class="line">HEAD is now at e9a5c8c 新增了一个文件XX</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> ll</span></span><br><span class="line">-rw-r--r-- 1 Apple 197121 10 5月  15 10:38 xxCPU高了.md</span><br></pre></td></tr></table></figure>

<h1 id="将git仓库备份到本地"><a href="#将git仓库备份到本地" class="headerlink" title="将git仓库备份到本地"></a>将git仓库备份到本地</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> mkdir backup_dir</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> backup_dir</span></span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">pwd</span></span></span><br><span class="line">/d/gitlab仓库1/backup_dir</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">clone</span> --bare file:///d/gitlab仓库1/git_01 backup_git_01</span></span><br><span class="line">Cloning into bare repository 'backup_git_01'...</span><br><span class="line">remote: Counting objects: 3, done.</span><br><span class="line">remote: Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">Receiving objects: 100% (3/3), done.</span><br><span class="line"></span><br><span class="line">/d/gitlab仓库1/backup_dir</span><br><span class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> ../git_01/</span></span><br><span class="line"></span><br><span class="line">/d/gitlab仓库1/git_01 (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git remote add backup_git_01 file:///gitlab仓库1/git_01/</span></span><br><span class="line"></span><br><span class="line">/d/gitlab仓库1/git_01 (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git push --<span class="built_in">set</span>-upstream backup_git_01 master</span></span><br><span class="line">Everything up-to-date</span><br><span class="line">Branch master set up to track remote branch master from backup_git_01.</span><br></pre></td></tr></table></figure>

<h1 id="如何多地管理仓库"><a href="#如何多地管理仓库" class="headerlink" title="如何多地管理仓库"></a>如何多地管理仓库</h1><p><a href="https://help.github.com/en/github/getting-started-with-github" target="_blank" rel="noopener">github帮助</a></p>
<ul>
<li>github创建仓库<img src="/2020/05/16/Git/Git%E7%8E%A9%E8%BD%AC%E4%B8%89%E5%89%91%E5%AE%A2-%E7%AC%AC1%E8%AF%BE-%E4%BB%93%E5%BA%93%E5%88%9D%E5%A7%8B%E5%8C%96/1.jpg" class="" title="This is an 1 image"></li>
<li>本地仓库上传到github仓库</li>
</ul>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">create a new repository on the command line</span><br><span class="line">echo "# git_01" &gt;&gt; README.md</span><br><span class="line">git init</span><br><span class="line">git add README.md</span><br><span class="line">git commit -m "first commit"</span><br><span class="line">git remote add origin git@github.com:HuangJingxue/git_01.git</span><br><span class="line">git push -u origin master</span><br><span class="line">                </span><br><span class="line">…or push an existing repository from the command line</span><br><span class="line">git remote add origin git@github.com:HuangJingxue/git_01.git</span><br><span class="line">git push -u origin master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/gitlab仓库1/git_01 (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git remote add origin git@github.com:HuangJingxue/git_01.git</span></span><br><span class="line"></span><br><span class="line">/gitlab仓库1/git_01 (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git push -u origin master</span></span><br><span class="line">Counting objects: 3, done.</span><br><span class="line">Writing objects: 100% (3/3), 248 bytes | 0 bytes/s, done.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">To github.com:HuangJingxue/git_01.git</span><br><span class="line"> * [new branch]      master -&gt; master</span><br><span class="line">Branch master set up to track remote branch master from origin.</span><br></pre></td></tr></table></figure>

<blockquote>
<p>本地仓库成功推送到github仓库</p>
</blockquote>
<img src="/2020/05/16/Git/Git%E7%8E%A9%E8%BD%AC%E4%B8%89%E5%89%91%E5%AE%A2-%E7%AC%AC1%E8%AF%BE-%E4%BB%93%E5%BA%93%E5%88%9D%E5%A7%8B%E5%8C%96/2.jpg" class="" title="This is an 2 image">

<p>远程拉取github仓库更新内容</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">/gitlab仓库1/git_01 (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> vim studygit.md</span></span><br><span class="line"></span><br><span class="line">/gitlab仓库1/git_01 (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git add -A .</span></span><br><span class="line">warning: LF will be replaced by CRLF in studygit.md.</span><br><span class="line">The file will have its original line endings in your working directory.</span><br><span class="line"></span><br><span class="line">/gitlab仓库1/git_01 (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git commit -m <span class="string">'add studygit'</span></span></span><br><span class="line">[master b8623c7] add studygit</span><br><span class="line"> 1 file changed, 1 insertion(+)</span><br><span class="line"> create mode 100644 studygit.md</span><br><span class="line"></span><br><span class="line">/gitlab仓库1/git_01 (master)</span><br><span class="line"><span class="meta">$</span><span class="bash"> git push</span></span><br><span class="line">Counting objects: 3, done.</span><br><span class="line">Delta compression using up to 8 threads.</span><br><span class="line">Compressing objects: 100% (2/2), done.</span><br><span class="line">Writing objects: 100% (3/3), 287 bytes | 0 bytes/s, done.</span><br><span class="line">Total 3 (delta 0), reused 0 (delta 0)</span><br><span class="line">To github.com:HuangJingxue/git_01.git</span><br><span class="line">   e9a5c8c..b8623c7  master -&gt; master</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">由BooBooWei操作</span><br><span class="line">cd gittest</span><br><span class="line">git clone https://github.com/HuangJingxue/git_01.git</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>Git玩转三剑客-第2课-分支管理</title>
    <url>/2020/05/15/Git/Git%E7%8E%A9%E8%BD%AC%E4%B8%89%E5%89%91%E5%AE%A2-%E7%AC%AC2%E8%AF%BE-%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86/</url>
    <content><![CDATA[<h1 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h1><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">clone</span> ssh://git@gitlab.jiagouyun.com:40022/zy-docs/pd-forethought-helps.git</span></span><br><span class="line">Cloning into 'pd-forethought-helps'...</span><br><span class="line">remote: Counting objects: 10236, done.</span><br><span class="line">remote: Compressing objects: 100% (77/77), done.</span><br><span class="line">remote: Total 10236 (delta 26), reused 0 (delta 0)</span><br><span class="line">Receiving objects: 100% (10236/10236), 67.68 MiB | 949.00 KiB/s, done.</span><br><span class="line">Resolving deltas: 100% (5016/5016), done.</span><br><span class="line"></span><br><span class="line"><span class="meta">$</span><span class="bash"> git status</span></span><br><span class="line">On branch master</span><br><span class="line">Your branch is up-to-date with 'origin/master'.</span><br><span class="line">nothing to commit, working tree clean</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">查看当前分支</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch</span></span><br><span class="line">* master</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">查看所有分支</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> git branch --all</span></span><br><span class="line">* master</span><br><span class="line">  remotes/origin/HEAD -&gt; origin/master</span><br><span class="line">  remotes/origin/dashboard/MySQL锁监控</span><br><span class="line">  remotes/origin/dashboard/自建MariaDB监控</span><br><span class="line"></span><br><span class="line">创建分支</span><br><span class="line">git branch dashborad/自建MariaDB2监控</span><br><span class="line"></span><br><span class="line">切换分支</span><br><span class="line">git checkout dashborad/自建MariaDB2监控</span><br><span class="line"><span class="meta">#</span><span class="bash"> 当前分支所有提交完成，允许切换</span></span><br><span class="line"></span><br><span class="line">上传本地到分支仓库</span><br><span class="line">git push --set-upstream origin dashborad/自建MariaDB2监控</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">提交merge request</span><br><span class="line">初学者选择web页面上处理</span><br><span class="line"><span class="meta">#</span><span class="bash">命令方式待完善</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">删除分支</span><br><span class="line">git branch -d 自建MariaDB2监控</span><br><span class="line"><span class="meta">#</span><span class="bash"> web页面上也点击清除</span></span><br></pre></td></tr></table></figure>

<h1 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h1><ul>
<li>Pycharm管理git仓库</li>
</ul>
]]></content>
      <categories>
        <category>Git</category>
      </categories>
      <tags>
        <tag>Git</tag>
      </tags>
  </entry>
  <entry>
    <title>开源工具MyFlash</title>
    <url>/2020/05/12/MySQL/%E5%BC%80%E6%BA%90%E5%B7%A5%E5%85%B7MyFlash/</url>
    <content><![CDATA[<h2 id="MyFlash初体验"><a href="#MyFlash初体验" class="headerlink" title="MyFlash初体验"></a>MyFlash初体验</h2><h2 id="验证binlog2sql-是否支持blob转换"><a href="#验证binlog2sql-是否支持blob转换" class="headerlink" title="验证binlog2sql 是否支持blob转换"></a>验证binlog2sql 是否支持blob转换</h2><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#96;--w_blob.py  写入blob   import sys import pymysql import os  path &#x3D; &quot;.&#x2F;&quot;  fp &#x3D; open(&quot;&#x2F;alidata&#x2F;PG01.jpg&quot;, &#39;rb&#39;) img &#x3D; fp.read() fp.close()  database &#x3D; pymysql.connect(host&#x3D;&quot;localhost&quot;, user&#x3D;&quot;root&quot;, passwd&#x3D;&quot;root&quot;, db&#x3D;&quot;qinxi&quot;) cursor &#x3D; database.cursor() sql &#x3D; &quot;INSERT INTO tb_test (nameBlob) VALUES  (%s);&quot; args &#x3D; (img) cursor.execute(sql, args) database.commit() cursor.close() database.close()  print(&quot;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&quot;) print(&quot;Done! &quot;)   --r_blob.py 读取blob  import pymysql as mdb import sys  conn &#x3D; mdb.connect(host&#x3D;&#39;localhost&#39;,user&#x3D;&#39;root&#39;,passwd&#x3D;&#39;root&#39;,db&#x3D;&#39;qinxi&#39;) cursor &#x3D; conn.cursor() cursor.execute(&quot;SELECT nameBlob FROM tb_test LIMIT 1&quot;) fout &#x3D; open(&#39;PG333.jpg&#39;,&#39;wb&#39;) fout.write(cursor.fetchone()[0]) fout.close() cursor.close() conn.close()    python binlog2sql.py -uroot -h10.200.6.53 -proot -B --start-file&#x3D;mybinlog.000033 &gt; 33.sql&#96;</span><br></pre></td></tr></table></figure>



<h1 id="MyFlash测试"><a href="#MyFlash测试" class="headerlink" title="MyFlash测试"></a>MyFlash测试</h1><p><a href="https://github.com/Meituan-Dianping/MyFlash" target="_blank" rel="noopener">https://github.com/Meituan-Dianping/MyFlash</a></p>
<p>安装</p>
<a id="more"></a>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#96;yum install libgnomeui-devel  gcc -w -g &#96;pkg-config --cflags  glib-2.0&#96; source&#x2F;binlogParseGlib.c   -o binary&#x2F;flashback &#x2F;usr&#x2F;lib64&#x2F;libglib-2.0.a -lrt yum install install glib2*&#96;</span><br></pre></td></tr></table></figure>

<p>测试环境准备</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">https:&#x2F;&#x2F;github.com&#x2F;Meituan-Dianping&#x2F;MyFlash&#x2F;blob&#x2F;master&#x2F;doc&#x2F;TestCase.md</span><br><span class="line">CREATE TABLE &#96;tb_test&#96; (   &#96;id&#96; int(11) NOT NULL AUTO_INCREMENT,   &#96;nameBlob&#96; longblob,   PRIMARY KEY (&#96;id&#96;) ) ENGINE&#x3D;InnoDB；</span><br></pre></td></tr></table></figure>



<p>回滚命令生成</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#96;.&#x2F;MyFlash&#x2F;binary&#x2F;flashback --binlogFileNames&#x3D;&#x2F;alidata&#x2F;mysql&#x2F;mybinlog.000022 --outBinlogFileNameBase&#x3D;22delete.flashback&#96;</span><br></pre></td></tr></table></figure>



<p>扩展</p>
<p>阿里云RDS实例，用户没有Super权限，导入带有set @@信息，会提示ERROR 1227 (42000) at line 18: Access denied; you need (at least one of) the SUPERprivilege(s) for this operation报错。</p>
<p>本地5.7版本，测试去除set @@GTID_NEXT,当GTID模式开启状态，导入实例会提示报错:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ERROR 1782 (HY000) at line 19: @@SESSION.GTID_NEXT cannot be set to ANONYMOUS when @@GLOBAL.GTID_MODE &#x3D; ON.</span><br></pre></td></tr></table></figure>

<p>只有将 GTID模式关闭，才可以正常导入。</p>
<p><a href="https://bugs.mysql.com/bug.php?id=85480" target="_blank" rel="noopener">https://bugs.mysql.com/bug.php?id=85480</a></p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#96;mysqlbinlog -v -v --skip-gtids 22delete.flashback | sed &#39;s@\&#x2F;\*.*\*\&#x2F;@@&#39; |mysql -uroot -proot&#96;</span><br></pre></td></tr></table></figure>

<p>初步结论：云上RDS 目前无法使用该工具，由于没有super权限。</p>
]]></content>
      <categories>
        <category>开源工具</category>
      </categories>
      <tags>
        <tag>MyFlash</tag>
      </tags>
  </entry>
  <entry>
    <title>幻读是什么，幻读有什么问题？</title>
    <url>/2020/04/21/MySQL%E5%AE%9E%E6%88%9845%E8%AE%B2/%E5%B9%BB%E8%AF%BB%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E5%B9%BB%E8%AF%BB%E6%9C%89%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%EF%BC%9F/</url>
    <content><![CDATA[<p><strong>初始化语句</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql&gt; CREATE TABLE `t` (</span><br><span class="line">    -&gt;   `id` int(11) NOT NULL,</span><br><span class="line">    -&gt;   `c` int(11) DEFAULT NULL,</span><br><span class="line">    -&gt;   `d` int(11) DEFAULT NULL,</span><br><span class="line">    -&gt;   PRIMARY KEY (`id`),</span><br><span class="line">    -&gt;   KEY `c` (`c`)</span><br><span class="line">    -&gt; ) ENGINE=InnoDB;</span><br><span class="line">Query OK, 0 rows affected (0.06 sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; </span><br><span class="line">mysql&gt; insert into t values(0,0,0),(5,5,5),</span><br><span class="line">    -&gt; (10,10,10),(15,15,15),(20,20,20),(25,25,25);</span><br><span class="line">Query OK, 6 rows affected (0.04 sec)</span><br><span class="line">Records: 6  Duplicates: 0  Warnings: 0</span><br></pre></td></tr></table></figure>

<p><strong>隔离级别</strong></p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line">mysql&gt; select @@tx_isolation;</span><br><span class="line">+<span class="comment">-----------------+</span></span><br><span class="line">| @@tx_isolation  |</span><br><span class="line">+<span class="comment">-----------------+</span></span><br><span class="line">| REPEATABLE-READ |</span><br><span class="line">+<span class="comment">-----------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.01</span> sec)</span><br><span class="line"></span><br><span class="line">mysql&gt; <span class="keyword">select</span> @@global.tx_isolation;</span><br><span class="line">+<span class="comment">-----------------------+</span></span><br><span class="line">| @@global.tx_isolation |</span><br><span class="line">+<span class="comment">-----------------------+</span></span><br><span class="line">| REPEATABLE-READ       |</span><br><span class="line">+<span class="comment">-----------------------+</span></span><br><span class="line">1 row in <span class="keyword">set</span> (<span class="number">0.00</span> sec)</span><br></pre></td></tr></table></figure>

<h1 id="幻读是什么？"><a href="#幻读是什么？" class="headerlink" title="幻读是什么？"></a>幻读是什么？</h1><table>
<thead>
<tr>
<th></th>
<th>sessionA</th>
<th>sessionB</th>
<th>seesionC</th>
</tr>
</thead>
<tbody><tr>
<td>T1</td>
<td>begin;</td>
<td></td>
<td></td>
</tr>
<tr>
<td>select * from t where d=5 for update;/*Q1/ result:(5,5,5)</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>T2</td>
<td></td>
<td>update t set d=5 where id=0;</td>
<td></td>
</tr>
<tr>
<td>T3</td>
<td>select * from t where d=5 for update;/*Q2/ result:(0,0,5),(5,5,5)</td>
<td></td>
<td>insert into t values(1,1,5);</td>
</tr>
<tr>
<td>T4</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>T5</td>
<td>select * from t where d=5 for update;/*Q3/ result:(0,0,5),(1,1,5),(5,5,5)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>T6</td>
<td>commit;</td>
<td></td>
<td></td>
</tr>
</tbody></table>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.Q1 只返回 id&#x3D;5 这一行；</span><br><span class="line">2.在 T2 时刻，session B 把 id&#x3D;0 这一行的 d 值改成了 5，因此 T3 时刻 Q2 查出来的是 id&#x3D;0 和 id&#x3D;5 这两行；</span><br><span class="line">3.在 T4 时刻，session C 又插入一行（1,1,5），因此 T5 时刻 Q3 查出来的是 id&#x3D;0、id&#x3D;1 和 id&#x3D;5 的这三行。</span><br></pre></td></tr></table></figure>

<blockquote>
<p>其中，Q3 读到 id=1 这一行的现象，被称为“幻读”。也就是说，幻读指的是一个事务在前后两次查询同一个范围的时候，后一次查询看到了前一次查询没有看到的行。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1.在可重复读隔离级别下，普通的查询是快照读，是不会看到别的事务插入的数据的。因此，幻读在“当前读”下才会出现。</span><br><span class="line">2.上面 session B 的修改结果，被 session A 之后的 select 语句用“当前读”看到，不能称为幻读。幻读仅专指“新插入的行”。</span><br></pre></td></tr></table></figure>

<h2 id="幻读有什么问题？"><a href="#幻读有什么问题？" class="headerlink" title="幻读有什么问题？"></a>幻读有什么问题？</h2><ul>
<li>首先是语义上的。</li>
<li>其次，是数据一致性的问题。</li>
<li>也就是说，即使把所有的记录都加上锁，还是阻止不了新插入的记录</li>
</ul>
<h2 id="如何解决幻读？"><a href="#如何解决幻读？" class="headerlink" title="如何解决幻读？"></a>如何解决幻读？</h2><blockquote>
<p>产生幻读的原因是，行锁只能锁住行，但是新插入记录这个动作，要更新的是记录之间的“间隙”。因此，为了解决幻读问题，InnoDB 只好引入新的锁，也就是间隙锁 (Gap Lock)。间隙锁和 next-key lock 的引入，帮我们解决了幻读的问题，但同时也带来了一些“困扰”。间隙锁的引入，可能会导致同样的语句锁住更大的范围，这其实是影响了并发度的。</p>
</blockquote>
<ul>
<li>间隙锁是在可重复读隔离级别下才会生效的</li>
</ul>
]]></content>
      <categories>
        <category>MySQL实战45讲</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>事务</tag>
      </tags>
  </entry>
  <entry>
    <title>开源工具cannal</title>
    <url>/2020/04/15/%E5%BC%80%E6%BA%90%E5%B7%A5%E5%85%B7/%E5%BC%80%E6%BA%90%E5%B7%A5%E5%85%B7cannal/</url>
    <content><![CDATA[<blockquote>
<p>云数据库Polardb如何获取事务提交时间戳</p>
</blockquote>
<h2 id="polardb-需开启binlog"><a href="#polardb-需开启binlog" class="headerlink" title="polardb 需开启binlog"></a>polardb 需开启binlog</h2><ul>
<li>修改当前值<strong>loose_polar_log_bin</strong></li>
</ul>
<p><strong>说明</strong></p>
<ul>
<li><p>数据库引擎为MySQL 5.6的PolarDB集群，当前值修改为ON_WITH_GTID；</p>
</li>
<li><p>数据库引擎为MySQL 8.0的PolarDB集群，当前值修改为ON。</p>
</li>
</ul>
<h2 id="canal拉取binlog"><a href="#canal拉取binlog" class="headerlink" title="canal拉取binlog"></a>canal拉取binlog</h2><p>简介：（阿里巴巴 MySQL binlog 增量订阅&amp;消费组件）</p>
<p><em>参考：<a href="https://github.com/alibaba/canal" target="_blank" rel="noopener">https://github.com/alibaba/canal</a></em></p>
<a id="more"></a>


<h2 id="下载"><a href="#下载" class="headerlink" title="下载"></a>下载</h2><ul>
<li><p>下载 canal, 访问 <a href="https://github.com/alibaba/canal/releases" target="_blank" rel="noopener">release 页面</a> , 选择需要的包下载, 如以 1.1.4 版本为例</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;github.com&#x2F;alibaba&#x2F;canal&#x2F;releases&#x2F;download&#x2F;canal-1.1.4&#x2F;canal.deployer-1.1.4.tar.gz</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h1 id="canal-python"><a href="#canal-python" class="headerlink" title="canal-python"></a>canal-python</h1><h2 id="一-canal-python-简介"><a href="#一-canal-python-简介" class="headerlink" title="一.canal-python 简介"></a>一.canal-python 简介</h2><p>canal-python 是阿里巴巴开源项目 <a href="https://github.com/alibaba/canal" target="_blank" rel="noopener">Canal</a>是阿里巴巴mysql数据库binlog的增量订阅&amp;消费组件 的 python 客户端。为 python 开发者提供一个更友好的使用 Canal 的方式。Canal 是mysql数据库binlog的增量订阅&amp;消费组件。</p>
<p>基于日志增量订阅&amp;消费支持的业务：</p>
<ol>
<li>数据库镜像</li>
<li>数据库实时备份</li>
<li>多级索引 (卖家和买家各自分库索引)</li>
<li>search build</li>
<li>业务cache刷新</li>
<li>价格变化等重要业务消息</li>
</ol>
<p>关于 Canal 的更多信息请访问 <a href="https://github.com/alibaba/canal/wiki" target="_blank" rel="noopener">https://github.com/alibaba/canal/wiki</a></p>
<h2 id="二-应用场景"><a href="#二-应用场景" class="headerlink" title="二.应用场景"></a>二.应用场景</h2><p>canal-python 作为Canal的客户端，其应用场景就是Canal的应用场景。关于应用场景在Canal介绍一节已有概述。举一些实际的使用例子：</p>
<p>1.代替使用轮询数据库方式来监控数据库变更，有效改善轮询耗费数据库资源。</p>
<p>2.根据数据库的变更实时更新搜索引擎，比如电商场景下商品信息发生变更，实时同步到商品搜索引擎 Elasticsearch、solr等</p>
<p>3.根据数据库的变更实时更新缓存，比如电商场景下商品价格、库存发生变更实时同步到redis</p>
<p>4.数据库异地备份、数据同步</p>
<p>5.根据数据库变更触发某种业务，比如电商场景下，创建订单超过xx时间未支付被自动取消，我们获取到这条订单数据的状态变更即可向用户推送消息。</p>
<p>6.将数据库变更整理成自己的数据格式发送到kafka等消息队列，供消息队列的消费者进行消费。</p>
<h2 id="三-工作原理"><a href="#三-工作原理" class="headerlink" title="三.工作原理"></a>三.工作原理</h2><p>canal-python 是 Canal 的 python 客户端，它与 Canal 是采用的Socket来进行通信的，传输协议是TCP，交互协议采用的是 Google Protocol Buffer 3.0。</p>
<h2 id="四-工作流程"><a href="#四-工作流程" class="headerlink" title="四.工作流程"></a>四.工作流程</h2><p>1.Canal连接到mysql数据库，模拟slave</p>
<p>2.canal-python 与 Canal 建立连接</p>
<p>2.数据库发生变更写入到binlog</p>
<p>5.Canal向数据库发送dump请求，获取binlog并解析</p>
<p>4.canal-python 向 Canal 请求数据库变更</p>
<p>4.Canal 发送解析后的数据给canal-python</p>
<p>5.canal-python收到数据，消费成功，发送回执。（可选）</p>
<p>6.Canal记录消费位置。</p>
<h2 id="五-快速启动"><a href="#五-快速启动" class="headerlink" title="五.快速启动"></a>五.快速启动</h2><h3 id="安装Canal"><a href="#安装Canal" class="headerlink" title="安装Canal"></a>安装Canal</h3><p>Canal 的安装以及配置使用请查看 <a href="https://github.com/alibaba/canal/wiki/QuickStart" target="_blank" rel="noopener">https://github.com/alibaba/canal/wiki/QuickStart</a></p>
<p>安装java请查看 <a href="https://www.cnblogs.com/lumama520/p/11058927.html" target="_blank" rel="noopener">https://www.cnblogs.com/lumama520/p/11058927.html</a></p>
<h3 id="环境要求"><a href="#环境要求" class="headerlink" title="环境要求"></a>环境要求</h3><p>python &gt;= 3</p>
<h3 id="构建canal-python客户端"><a href="#构建canal-python客户端" class="headerlink" title="构建canal python客户端"></a>构建canal python客户端</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">pip install canal-python</span><br><span class="line">pip install protobuf</span><br></pre></td></tr></table></figure>

<h3 id="建立与Canal的连接"><a href="#建立与Canal的连接" class="headerlink" title="建立与Canal的连接"></a>建立与Canal的连接</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">vim canalpython.py</span><br><span class="line">import time</span><br><span class="line"></span><br><span class="line">from canal.client import Client</span><br><span class="line">from canal.protocol import EntryProtocol_pb2</span><br><span class="line">from canal.protocol import CanalProtocol_pb2</span><br><span class="line"></span><br><span class="line">client &#x3D; Client()</span><br><span class="line">client.connect(host&#x3D;&#39;127.0.0.1&#39;, port&#x3D;11111)</span><br><span class="line">client.check_valid(username&#x3D;b&#39;&#39;, password&#x3D;b&#39;&#39;)</span><br><span class="line">client.subscribe(client_id&#x3D;b&#39;1001&#39;, destination&#x3D;b&#39;example&#39;, filter&#x3D;b&#39;.*\\..*&#39;)</span><br><span class="line"></span><br><span class="line">while True:</span><br><span class="line">    message &#x3D; client.get(100)</span><br><span class="line">    entries &#x3D; message[&#39;entries&#39;]</span><br><span class="line">    for entry in entries:</span><br><span class="line">        entry_type &#x3D; entry.entryType</span><br><span class="line">        if entry_type in [EntryProtocol_pb2.EntryType.TRANSACTIONBEGIN, EntryProtocol_pb2.EntryType.TRANSACTIONEND]:</span><br><span class="line">            continue</span><br><span class="line">        row_change &#x3D; EntryProtocol_pb2.RowChange()</span><br><span class="line">        row_change.MergeFromString(entry.storeValue)</span><br><span class="line">        event_type &#x3D; row_change.eventType</span><br><span class="line">        header &#x3D; entry.header</span><br><span class="line">        database &#x3D; header.schemaName</span><br><span class="line">        table &#x3D; header.tableName</span><br><span class="line">        event_type &#x3D; header.eventType</span><br><span class="line">        for row in row_change.rowDatas:</span><br><span class="line">            format_data &#x3D; dict()</span><br><span class="line">            if event_type &#x3D;&#x3D; EntryProtocol_pb2.EventType.DELETE:</span><br><span class="line">                for column in row.beforeColumns:</span><br><span class="line">                    format_data &#x3D; &#123;</span><br><span class="line">                        column.name: column.value</span><br><span class="line">                    &#125;</span><br><span class="line">            elif event_type &#x3D;&#x3D; EntryProtocol_pb2.EventType.INSERT:</span><br><span class="line">                for column in row.afterColumns:</span><br><span class="line">                    format_data &#x3D; &#123;</span><br><span class="line">                        column.name: column.value</span><br><span class="line">                    &#125;</span><br><span class="line">            else:</span><br><span class="line">                format_data[&#39;before&#39;] &#x3D; format_data[&#39;after&#39;] &#x3D; dict()</span><br><span class="line">                for column in row.beforeColumns:</span><br><span class="line">                    format_data[&#39;before&#39;][column.name] &#x3D; column.value</span><br><span class="line">                for column in row.afterColumns:</span><br><span class="line">                    format_data[&#39;after&#39;][column.name] &#x3D; column.value</span><br><span class="line">            data &#x3D; dict(</span><br><span class="line">                db&#x3D;database,</span><br><span class="line">                table&#x3D;table,</span><br><span class="line">                event_type&#x3D;event_type,</span><br><span class="line">                data&#x3D;format_data,</span><br><span class="line">            )</span><br><span class="line">            print(data)</span><br><span class="line">    time.sleep(1)</span><br><span class="line"></span><br><span class="line">client.disconnect()</span><br></pre></td></tr></table></figure>

<h2 id="事务时间戳获取"><a href="#事务时间戳获取" class="headerlink" title="事务时间戳获取"></a>事务时间戳获取</h2><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">[root@Oracle01 ~]# mysql -uxxx -pxxx -hlocalhost</span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> use qinxidb</span></span><br><span class="line">Database changed</span><br><span class="line"><span class="meta">mysql&gt;</span><span class="bash"> insert into tb (userId) values (9161);</span></span><br><span class="line">Query OK, 1 row affected (0.10 sec)</span><br><span class="line"></span><br><span class="line">[root@Oracle01 canal]# python3 canalpython.py </span><br><span class="line">connected to 127.0.0.1:11111</span><br><span class="line">Auth succed</span><br><span class="line">Subscribe succed</span><br><span class="line">header &#123;</span><br><span class="line">  version: 1</span><br><span class="line">  logfileName: "mybinlog.000011"</span><br><span class="line">  logfileOffset: 38812146</span><br><span class="line">  serverId: 4</span><br><span class="line">  serverenCode: "UTF-8"</span><br><span class="line">  executeTime: 1586929590000</span><br><span class="line">  sourceType: MYSQL</span><br><span class="line">  eventLength: 75</span><br><span class="line">&#125;</span><br><span class="line">entryType: TRANSACTIONBEGIN</span><br><span class="line">storeValue: " \204\254\001"</span><br><span class="line"></span><br><span class="line">header &#123;</span><br><span class="line">  version: 1</span><br><span class="line">  logfileName: "mybinlog.000011"</span><br><span class="line">  logfileOffset: 38812269</span><br><span class="line">  serverId: 4</span><br><span class="line">  serverenCode: "UTF-8"</span><br><span class="line">  executeTime: 1586929590000</span><br><span class="line">  sourceType: MYSQL</span><br><span class="line">  schemaName: "qinxidb"</span><br><span class="line">  tableName: "tb"</span><br><span class="line">  eventLength: 40</span><br><span class="line">  eventType: INSERT</span><br><span class="line">  props &#123;</span><br><span class="line">    key: "rowsCount"</span><br><span class="line">    value: "1"</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">entryType: ROWDATA</span><br><span class="line">storeValue: "\010\177\020\001P\000b#\022!\010\000\020\004\032\006userId \000(\0010\000B\0049161R\007int(11)"</span><br><span class="line"></span><br><span class="line">&#123;'db': 'qinxidb', 'table': 'tb', 'event_type': 1, 'data': &#123;'userId': '9161'&#125;&#125;</span><br><span class="line">header &#123;</span><br><span class="line">  version: 1</span><br><span class="line">  logfileName: "mybinlog.000011"</span><br><span class="line">  logfileOffset: 38812309</span><br><span class="line">  serverId: 4</span><br><span class="line">  serverenCode: "UTF-8"</span><br><span class="line">  executeTime: 1586929590000</span><br><span class="line">  sourceType: MYSQL</span><br><span class="line">  eventLength: 31</span><br><span class="line">&#125;</span><br><span class="line">entryType: TRANSACTIONEND</span><br><span class="line">storeValue: "\022\00551434"</span><br></pre></td></tr></table></figure>





]]></content>
      <categories>
        <category>开源工具</category>
      </categories>
      <tags>
        <tag>Polardb for MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>为什么你改了我看不见?</title>
    <url>/2020/04/15/MySQL%E5%AE%9E%E6%88%9845%E8%AE%B2/%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%A0%E6%94%B9%E4%BA%86%E6%88%91%E7%9C%8B%E4%B8%8D%E8%A7%81/</url>
    <content><![CDATA[<p><strong>事务的基本要素(ACID)</strong></p>
<ul>
<li>原子性（Atomicity）；事务开始后所有操作，要么全部做完，要么全部不做，不能停滞在中间环节。</li>
<li>一致性（Consistency）：事务开始前和结束后，数据库的完整性约束没有被破坏。</li>
<li>隔离性（Isolation）：同一时间，只允许一个事务请求同一数据，不同的事务之间彼此没有任何干扰。</li>
<li>持久性（Durability）：事务完成后，事务对数据库的所有更新将被保存到数据库，不能回滚。</li>
</ul>
<p><strong>事务的并发问题</strong></p>
<ul>
<li>脏读：事务B修改数据但未提交，事务A读数据，然后B回滚，则A读到的是脏数据。</li>
<li>不可重复读：事务A第一次读取数据，事务B修改数据提交，事务A第二次读数据，两次数据不一致。</li>
<li>幻读：事务A update表的全部行，事务B插入一行，事务A就会发现表中还有未修改的行。（一般加间隙锁）</li>
</ul>
<p><strong>MySQL事务隔离级别</strong></p>
<table>
<thead>
<tr>
<th>事务隔离级别</th>
<th>脏读</th>
<th>不可重复读</th>
<th>幻读</th>
</tr>
</thead>
<tbody><tr>
<td>读未提交</td>
<td>会</td>
<td>会</td>
<td>会</td>
</tr>
<tr>
<td>读已提交</td>
<td>不会</td>
<td>会</td>
<td>会</td>
</tr>
<tr>
<td>可重复读</td>
<td>不会</td>
<td>不会</td>
<td>会</td>
</tr>
<tr>
<td>串行话</td>
<td>不会</td>
<td>不会</td>
<td>不会</td>
</tr>
</tbody></table>
<p><strong>案例</strong></p>
<table>
<thead>
<tr>
<th>事务A</th>
<th>事务B</th>
</tr>
</thead>
<tbody><tr>
<td>启动事务；查询得到值</td>
<td>启动事务</td>
</tr>
<tr>
<td></td>
<td>查询得到值1</td>
</tr>
<tr>
<td></td>
<td>将1改成2</td>
</tr>
<tr>
<td>查询得到值V1</td>
<td></td>
</tr>
<tr>
<td></td>
<td>提交事务B</td>
</tr>
<tr>
<td>查询得到值V2</td>
<td></td>
</tr>
<tr>
<td>提交事务A</td>
<td></td>
</tr>
<tr>
<td>查询得到值V3</td>
<td></td>
</tr>
</tbody></table>
<ul>
<li><p>若隔离级别是“读未提交”， 则 V1 的值就是 2。这时候事务 B 虽然还没有提交，但是结果已经被 A 看到了。因此，V2、V3 也都是 2。</p>
</li>
<li><p>若隔离级别是“读提交”，则V1是1，V2的值是2。事务B的更新在提交后才能被A看到。所以，V3的值也是2。</p>
</li>
<li><p>若隔离级别是“可重复读”，则 V1、V2 是 1，V3 是 2。之所以 V2 还是 1，遵循的就是这个要求：事务在执行期间看到的数据前后必须是一致的。</p>
</li>
<li><p>若隔离级别是“串行化”，则在事务 B 执行“将 1 改成 2”的时候，会被锁住。直到事务 A 提交后，事务 B 才可以继续执行。所以从 A 的角度看， V1、V2 值是 1，V3 的值是 2。</p>
</li>
</ul>
<p>在实现上，数据库里面会创建一个视图，访问的时候以视图的逻辑结果为准。</p>
<ul>
<li>在“可重复读”隔离级别下，这个视图是在事务启动时创建的，整个事务存在期间都用这个视图。</li>
<li>在“读提交”隔离级别下，这个视图是在每个SQL语句开始执行的时候创建的。</li>
<li>在“读未提交”隔离级别下直接返回记录下的最新之，没有视图概念。</li>
<li>而“串性化”隔离级别下直接用加锁的方式来避免并行访问。</li>
</ul>
<p>为保证数据库隔离级别一致，你一定要记得将MYSQL的隔离级别设置为“读提交”。</p>
]]></content>
      <categories>
        <category>MySQL实战45讲</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
        <tag>事务</tag>
      </tags>
  </entry>
  <entry>
    <title>mysql误删数据谁来背锅</title>
    <url>/2020/04/10/MySQL/mysql%E8%AF%AF%E5%88%A0%E6%95%B0%E6%8D%AE%E8%B0%81%E6%9D%A5%E8%83%8C%E9%94%85/</url>
    <content><![CDATA[<blockquote>
<p>我们不止要说误删数据的事后处理办法，更重要是要做到事前预防。</p>
</blockquote>
<p><em>误删数据分类</em></p>
<ul>
<li>使用 delete 语句误删数据行；</li>
<li>使用 drop table 或者 truncate table 语句误删数据表；</li>
<li>使用 drop database 语句误删数据库；</li>
<li>使用 rm 命令误删整个 MySQL 实例。<a id="more"></a>

</li>
</ul>
<p><em>需要完善自动恢复脚本</em></p>
<blockquote>
<p>一种加速的方法是，在用备份恢复出临时实例之后，将这个临时实例设置成线上备库的从库</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="code"><pre><span class="line"><span class="comment">#1.恢复全量备份</span></span><br><span class="line">a.指定全量备份路径</span><br><span class="line">b.写入全量备份名称</span><br><span class="line">c.恢复全量备份到指定临时实例</span><br><span class="line"></span><br><span class="line">在 start slave 之前，先通过执行﻿﻿change replication filter replicate_do_table = (tbl_name) 命令，就可以让临时库只同步误操作的表；</span><br><span class="line">这样做也可以用上并行复制技术，来加速整个数据恢复过程。</span><br><span class="line"><span class="comment">#2.自动恢复binlog</span></span><br><span class="line">a.指定binlog备份路径</span><br><span class="line">b.指定需要恢复的binlog名称（1个或者多个）</span><br><span class="line">c.恢复binlog到指定临时实例</span><br></pre></td></tr></table></figure>

<p><em>预防误删库 / 表的方法</em></p>
<ul>
<li><p>第一条建议是，账号分离。这样做的目的是，避免写错命令。</p>
<blockquote>
<p>比如：我们只给业务开发同学 DML 权限，而不给 truncate/drop 权限。<br>而如果业务开发人员有 DDL 需求的话，也可以通过开发管理系统得到支持。<br>即使是 DBA 团队成员，日常也都规定只使用只读账号，必要的时候才使用有更新权限的账号。</p>
</blockquote>
</li>
<li><p>第二条建议是，制定操作规范。</p>
<blockquote>
<p>这样做的目的，是避免写错要删除的表名。<br>比如：在删除数据表之前，必须先对表做改名操作。然后，观察一段时间，确保对业务无影响以后再删除这张表。<br>改表名的时候，要求给表名加固定的后缀（比如加 _to_be_deleted)，然后删除表的动作必须通过管理系统执行。并且，管理系删除表的时候，只能删除固定后缀的表。</p>
</blockquote>
</li>
</ul>
]]></content>
      <categories>
        <category>MySQL</category>
      </categories>
      <tags>
        <tag>MySQL</tag>
      </tags>
  </entry>
  <entry>
    <title>MonogDB非关系型数据库</title>
    <url>/2020/04/04/MongoDB/MonogDB%E9%9D%9E%E5%85%B3%E7%B3%BB%E5%9E%8B%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
    <content><![CDATA[<h1 id="1-MonogDB简介"><a href="#1-MonogDB简介" class="headerlink" title="1.MonogDB简介"></a>1.MonogDB简介</h1><p>MongoDB 是一款强大，灵活，且易于扩展的通用性数据库，<strong>面向文档的数据库</strong>。</p>
<ul>
<li>二级索引</li>
<li>范围查询</li>
<li>排序</li>
<li>聚合</li>
<li>地理空间索引</li>
</ul>
<a id="more"></a>

<p>丰富的功能：</p>
<ul>
<li>索引（indexing）</li>
</ul>
<p>MongoDB支持通用二级索引，允许多种快速查询，且提供唯一索引、复合索引、地理空间索引，以及全文索引。</p>
<ul>
<li>聚合（aggregation）</li>
</ul>
<p>MongoDB支持“聚合管道”。用户能通过简单的片段创建复杂的聚合，并通过数据库自动优化。</p>
<ul>
<li>特殊的集合类型</li>
</ul>
<p>MongoDB支持存在时间有限的集合，适用于那些将在某个时刻过期的数据，如会话。固定大小的集合，用于保存近期数据，如日志。</p>
<ul>
<li>文件存储</li>
</ul>
<p>MongoDB支持一种非常医用的协议，用于存储大文件和文件元数据。</p>
<p>基本概念：</p>
<ul>
<li>文档是MongoDB中数据的基本单元，非常类似于关系型数据库管理系统中的行，但更具有表现力。</li>
<li>集合是一个拥有动态模式的表。</li>
<li>MongoDB的一个实例可以拥有多个相互独立的数据库，每一个数据库都拥有自己的集合。</li>
<li>每一个文档都有一个特殊的键“_id”,这个键在文档所属的集合中是唯一的。</li>
<li>MongoDB自带了一个简单但功能强大的JavaScript shell，可用于管理MongoDB的实例或数据操作。</li>
</ul>
<h1 id="2-基础知识"><a href="#2-基础知识" class="headerlink" title="2.基础知识"></a>2.基础知识</h1><p>集合命名：</p>
<ul>
<li>集合名不能使空字符串（””）</li>
<li>集合名不能包含\0字符（空字符），这个字符表示集合名的结束。</li>
<li>集合名不能以”system.”开头，这是为系统集合保留的前缀。</li>
<li>用户创建的集合不能在集合名中包含保留字符’$’。</li>
</ul>
<p>子集合：</p>
<p>组合集合的一种惯例是使用“.”分隔不同命名空间的子集合。</p>
<ul>
<li>GridFS使用自己和来存储文件的元数据，这样就可以与文件内容块很好地隔离开来。</li>
<li>大多数驱动程序都提供了一些语法糖，用于访问指定集合的子集合。</li>
</ul>
<p>数据库：</p>
<ul>
<li>多个文档组成集合，多个集合可以组成数据库。</li>
<li>一个MongoDB实例可以承载多个数据库，每个数据库拥有0个或者多个集合。</li>
<li>每个数据库斗殴独立的权限，即便是在磁盘上，不同的数据库也放置在不同的文件中。</li>
</ul>
<p>数据库命名：</p>
<ul>
<li>不能空字符串（””）</li>
<li>基本只能使用ASCII中的字母和数字。</li>
<li>数据库名区分大小写（不区分大小写的文件系统也是如此，建议全部小写）。</li>
<li>数据库名最多为64字节。</li>
</ul>
<h1 id="3-启动关闭MongoDB"><a href="#3-启动关闭MongoDB" class="headerlink" title="3.启动关闭MongoDB"></a>3.启动关闭MongoDB</h1><ul>
<li>mongod默认数据目录/data/db（Windows系统中为C:\data\db）。</li>
<li>启动前，创建数据目录（mkdir -p /data/db）,确保对改目录有写权限。</li>
<li>默认MonoDB监听27017端口。</li>
</ul>
<h1 id="4-MonogDB客户端"><a href="#4-MonogDB客户端" class="headerlink" title="4.MonogDB客户端"></a>4.MonogDB客户端</h1><ul>
<li>启动时，mongodb shell会练到MongoDB服务器的test数据库，并将数据库连接赋值给全局变量db。</li>
<li>这个变量是通过shell访问MongoDB的主要入口点。</li>
</ul>
<h1 id="5-shell中的基本操作"><a href="#5-shell中的基本操作" class="headerlink" title="5.shell中的基本操作"></a>5.shell中的基本操作</h1><p>1、创建</p>
<ul>
<li>insert函数可将一个文档添加到集合中。</li>
<li>创建一个名为post的局部变量，用来表示我们的文档。</li>
<li>它会有几个键：”title”、”content”、“date”。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; post &#x3D; &#123;&quot;title&quot;:&quot;this is test,&quot;&#125;</span><br><span class="line">&#123; &quot;title&quot; : &quot;this is test,&quot; &#125;</span><br><span class="line">&gt; post &#x3D; &#123;&quot;title&quot;:&quot;this is test&quot;,</span><br><span class="line">... &quot;content&quot; :&quot;here&#39;s my blog test&quot;,</span><br><span class="line">... &quot;data&quot;:new Date()&#125;</span><br><span class="line">&#123;</span><br><span class="line">	&quot;title&quot; : &quot;this is test&quot;,</span><br><span class="line">	&quot;content&quot; : &quot;here&#39;s my blog test&quot;,</span><br><span class="line">	&quot;data&quot; : ISODate(&quot;2017-10-12T03:20:09.121Z&quot;)</span><br><span class="line">&#125;</span><br><span class="line">&gt; show dbs</span><br><span class="line">local  0.000GB</span><br><span class="line">&gt; use hjxdb</span><br><span class="line">switched to db hjxdb</span><br><span class="line">&gt; db.blog.insert(post);</span><br><span class="line">WriteResult(&#123; &quot;nInserted&quot; : 1 &#125;)</span><br><span class="line">&gt; db.blog.find()</span><br><span class="line">&#123; &quot;_id&quot; : ObjectId(&quot;59dedf7ecb7cf32013d3da35&quot;), &quot;title&quot; : &quot;this is test&quot;, &quot;content&quot; : &quot;here&#39;s my blog test&quot;, &quot;data&quot; : ISODate(&quot;2017-10-12T03:20:09.121Z&quot;) &#125;</span><br></pre></td></tr></table></figure>

<p>2、读取</p>
<p>find和findOne方法可以用于查询集合里的文档。若只想查看一个文档，可用findOne：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; db.blog.findOne()</span><br><span class="line">&#123;</span><br><span class="line">	&quot;_id&quot; : ObjectId(&quot;59dedf7ecb7cf32013d3da35&quot;),</span><br><span class="line">	&quot;title&quot; : &quot;this is test&quot;,</span><br><span class="line">	&quot;content&quot; : &quot;here&#39;s my blog test&quot;,</span><br><span class="line">	&quot;data&quot; : ISODate(&quot;2017-10-12T03:20:09.121Z&quot;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3、更新</p>
<ul>
<li>update至少两个参数</li>
<li>一个是限定条件,匹配待更新的文档</li>
<li>一个是新的文档</li>
<li>之前的文章增加平冷功能，新增一个键，用来保存评论数组</li>
</ul>
<p>增加”comments”键：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; post.comments &#x3D; []</span><br><span class="line">[ ]</span><br><span class="line">&gt; db.blog.update(&#123;title:&quot;this is test&quot;&#125;,post)</span><br><span class="line">WriteResult(&#123; &quot;nMatched&quot; : 1, &quot;nUpserted&quot; : 0, &quot;nModified&quot; : 1 &#125;)</span><br><span class="line">&gt; db.blog.find()</span><br><span class="line">&#123; &quot;_id&quot; : ObjectId(&quot;59dedf7ecb7cf32013d3da35&quot;), &quot;title&quot; : &quot;this is test&quot;, &quot;content&quot; : &quot;here&#39;s my blog test&quot;, &quot;data&quot; : ISODate(&quot;2017-10-12T03:20:09.121Z&quot;), &quot;comments&quot; : [ ] &#125;</span><br></pre></td></tr></table></figure>

<p>4、删除</p>
<ul>
<li>remove方法可将文档从数据库中永久删除。</li>
<li>没有任何参数，将删除集合内的所有文档全部删除。</li>
<li>接受一个限定条件的文档作为参数。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&gt; db.blog.remove(&#123;title:&quot;this is test&quot;&#125;)</span><br><span class="line">WriteResult(&#123; &quot;nRemoved&quot; : 1 &#125;)</span><br><span class="line">&gt; db.blog.find()</span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>MongoDB</category>
      </categories>
      <tags>
        <tag>MongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title>豆瓣电影排行榜</title>
    <url>/2020/04/04/Python/%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1%E6%8E%92%E8%A1%8C%E6%A6%9C/</url>
    <content><![CDATA[<h1 id="1-如何处理数据"><a href="#1-如何处理数据" class="headerlink" title="1.如何处理数据"></a>1.如何处理数据</h1><p>BeautifulSoup</p>
<ul>
<li>解析数据</li>
<li>提出数据</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">pip install beautifulsoup4</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h1 id="2-案例"><a href="#2-案例" class="headerlink" title="2.案例"></a>2.案例</h1><h2 id="2-1获取豆瓣图书TOP250当中"><a href="#2-1获取豆瓣图书TOP250当中" class="headerlink" title="2.1获取豆瓣图书TOP250当中"></a>2.1获取豆瓣图书TOP250当中</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="comment"># 引入 BeautifulSoup</span></span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">  <span class="string">'user-agent'</span>: <span class="string">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36'</span></span><br><span class="line">&#125;</span><br><span class="line">res = requests.get(<span class="string">'https://book.douban.com/top250'</span>, headers=headers)</span><br><span class="line"><span class="comment"># 第一个参数为网页源代码，第二个参数为解析器</span></span><br><span class="line">soup = BeautifulSoup(res.text, <span class="string">'html.parser'</span>)</span><br><span class="line"><span class="comment"># print(soup)</span></span><br><span class="line"><span class="comment"># items = soup.find_all('div', class_='pl2')</span></span><br><span class="line">items = soup.select(<span class="string">'div.pl2 a'</span>)</span><br><span class="line"><span class="comment"># print(items)</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> items:</span><br><span class="line">  <span class="comment"># tag = i.find('a')</span></span><br><span class="line">  <span class="comment"># name = ''.join(tag.text.split())</span></span><br><span class="line">  <span class="comment"># name = tag['title']</span></span><br><span class="line">  <span class="comment"># link = tag['href']</span></span><br><span class="line">  name = i[<span class="string">'title'</span>]</span><br><span class="line">  link = i[<span class="string">'href'</span>]</span><br><span class="line">  print(name, link)</span><br></pre></td></tr></table></figure>

<h2 id="2-2获取豆瓣电影的数据-电影名和链接"><a href="#2-2获取豆瓣电影的数据-电影名和链接" class="headerlink" title="2.2获取豆瓣电影的数据(电影名和链接)"></a>2.2获取豆瓣电影的数据(电影名和链接)</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">  <span class="string">'user-agent'</span>: <span class="string">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">res = requests.get(<span class="string">'https://movie.douban.com/top250'</span>, headers=headers)</span><br><span class="line">soup = BeautifulSoup(res.text,<span class="string">'html.parser'</span>)</span><br><span class="line"></span><br><span class="line">items = soup.select(<span class="string">'div.hd a'</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> items:</span><br><span class="line">  link = i[<span class="string">'href'</span>]</span><br><span class="line">  tag = i.find(class_=<span class="string">'title'</span>)</span><br><span class="line">  name = tag.text</span><br><span class="line">  print(name,link)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>数据处理</tag>
      </tags>
  </entry>
  <entry>
    <title>python爬虫初体验</title>
    <url>/2020/04/04/Python/python%E7%88%AC%E8%99%AB%E5%88%9D%E4%BD%93%E9%AA%8C/</url>
    <content><![CDATA[<h2 id="requests模块"><a href="#requests模块" class="headerlink" title="requests模块"></a>requests模块</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">res = requests.get(<span class="string">'https://wpblog.x0y1.com'</span>)</span><br><span class="line"><span class="comment">#print(res)</span></span><br><span class="line">print(res.text)</span><br><span class="line"><span class="keyword">if</span> res.status_code == <span class="number">200</span>:</span><br><span class="line">  print(<span class="string">'请求成功'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">  print(<span class="string">'请求失败'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取孔乙己数据</span></span><br><span class="line">res = requests.get(<span class="string">'https://apiv3.shanbay.com/codetime/articles/mnvdu'</span>)</span><br><span class="line"><span class="comment"># 以写入的方式打开一个名为孔乙己的 txt 文档</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'孔乙己.txt'</span>, <span class="string">'w'</span> ,encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> file:</span><br><span class="line">  <span class="comment"># 将数据的字符串形式写入文件中</span></span><br><span class="line">  file.write(res.text)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取图片数据</span></span><br><span class="line">res = requests.get(<span class="string">'https://assets.baydn.com/baydn/public/codetime/xiaobei/info.jpg'</span>)</span><br><span class="line"><span class="comment"># 以二进制写入的方式打开一个名为 info.jpg 的文件</span></span><br><span class="line"><span class="keyword">with</span> open(<span class="string">'info.jpg'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> file:</span><br><span class="line"><span class="comment"># 将数据的二进制形式写入文件中</span></span><br><span class="line">  file.write(res.content)</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>变量 <strong>res</strong>它的类型是 <strong>Response</strong> 对象</p>
<table>
<thead>
<tr>
<th>属性</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>res.status_code</td>
<td>响应的 HTTP 状态码</td>
</tr>
<tr>
<td>res.text</td>
<td>响应内容的字符串形式</td>
</tr>
<tr>
<td>res.content</td>
<td>响应内容的二进制形式</td>
</tr>
<tr>
<td>res.encoding</td>
<td>响应内容的编码</td>
</tr>
</tbody></table>
<h2 id="爬虫初体验"><a href="#爬虫初体验" class="headerlink" title="爬虫初体验"></a>爬虫初体验</h2><blockquote>
<p>目标：自动循环小王子的所有章节，将故事存放到一个目录当中，每个章节一份文件。title做为文件名</p>
</blockquote>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line">res = requests.get(<span class="string">'http://www.eywedu.net/xiaowangzi/14.htm'</span>)</span><br><span class="line">res.encoding=<span class="string">'gb2312'</span></span><br><span class="line">text = res.text</span><br><span class="line"></span><br><span class="line"><span class="keyword">with</span> open (<span class="string">'小王子.txt'</span>,<span class="string">'w'</span>,encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> file:</span><br><span class="line">  file.write(text)</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>Python</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>爬虫</tag>
      </tags>
  </entry>
  <entry>
    <title>InfluxDB时序数据库</title>
    <url>/2020/02/25/InfluxDB/InfluxDB%E6%97%B6%E5%BA%8F%E6%95%B0%E6%8D%AE%E5%BA%93/</url>
    <content><![CDATA[<h1 id="Influx-DB的学习"><a href="#Influx-DB的学习" class="headerlink" title="Influx DB的学习"></a>Influx DB的学习</h1><h2 id="Influxdb-下载"><a href="#Influxdb-下载" class="headerlink" title="Influxdb 下载"></a>Influxdb 下载</h2><p>学习参考博客</p>
<p>安装部署：</p>
<p><a href="https://www.cnblogs.com/imyalost/p/9689209.html" target="_blank" rel="noopener">https://www.cnblogs.com/imyalost/p/9689209.html</a></p>
<p>配置文件说明：</p>
<p><a href="https://www.cnblogs.com/smail-bao/p/8080894.html" target="_blank" rel="noopener">https://www.cnblogs.com/smail-bao/p/8080894.html</a></p>
<p>基本概念和操作：</p>
<p><a href="https://www.cnblogs.com/wzbk/p/10569683.html" target="_blank" rel="noopener">https://www.cnblogs.com/wzbk/p/10569683.html</a></p>
<p><a href="http://www.361way.com/influxdb-user/5291.html" target="_blank" rel="noopener">http://www.361way.com/influxdb-user/5291.html</a></p>
<p>备份与恢复：</p>
<p><a href="https://blog.csdn.net/weixin_44649870/article/details/96457486" target="_blank" rel="noopener">https://blog.csdn.net/weixin_44649870/article/details/96457486</a></p>
<p>官网下载：</p>
<p><a href="https://portal.influxdata.com/downloads/" target="_blank" rel="noopener">https://portal.influxdata.com/downloads/</a></p>
<p>由于直接点击下载链接会被墙，导致下载按钮点击完无反应</p>
<p>可以通过右键查看网页源代码，检索release，并找到对应版本&amp;平台的下载链接</p>
<p><img src="C:%5CUsers%5Cadmin%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20200224143032364.png" alt="image-20200224143032364"></p>
<p><a href="https://dl.influxdata.com/influxdb/releases/influxdb-1.7.10.x86_64.rpm" target="_blank" rel="noopener">https://dl.influxdata.com/influxdb/releases/influxdb-1.7.10.x86_64.rpm</a></p>
<h2 id="Infuxdb-安装"><a href="#Infuxdb-安装" class="headerlink" title="Infuxdb 安装"></a>Infuxdb 安装</h2><p>[root@influx tmp]# yum install influxdb-1.7.10.x86_64.rpm</p>
<p>直接通过yum安装，在测试安装时，本人采用的是minimal的Linux环境，发现不需要其他依赖包</p>
<p>文件结构：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 路径：&#x2F;usr&#x2F;bin</span><br><span class="line">influxd            # influxdb服务器</span><br><span class="line">influx             # influxdb命令行客户端</span><br><span class="line">influx_inspect     # 查看工具</span><br><span class="line">influx_stress      # 压力测试工具</span><br><span class="line">influx_tsm         # 数据库转换工具（将数据库从b1或bz1格式转换为tsm1格式）</span><br><span class="line"></span><br><span class="line"># 路径：&#x2F;var&#x2F;lib&#x2F;influxdb&#x2F;</span><br><span class="line">data               # 存放最终存储的数据，文件以.tsm结尾</span><br><span class="line">meta               # 存放数据库元数据</span><br><span class="line">wal                # 存放预写日志文件</span><br></pre></td></tr></table></figure>



<h2 id="启动服务"><a href="#启动服务" class="headerlink" title="启动服务"></a>启动服务</h2><p>[root@influx influxdb]# service influxdb start</p>
<h2 id="初步了解"><a href="#初步了解" class="headerlink" title="初步了解"></a>初步了解</h2><p>1、数据格式</p>
<p>在 InfluxDB 中，我们可以粗略的将要存入的一条数据看作<strong>一个虚拟的 key 和其对应的 value(field value)</strong>。格式如下：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cpu_usage,host&#x3D;server01,region&#x3D;us-west value&#x3D;0.64 1434055562000000000</span><br></pre></td></tr></table></figure>



<p>虚拟的 key 包括以下几个部分： database, retention policy, measurement, tag sets, field name, timestamp。</p>
<ul>
<li>database: 数据库名，在 InfluxDB 中可以创建多个数据库，不同数据库中的数据文件是隔离存放的，存放在磁盘上的不同目录。</li>
<li>retention policy: 存储策略，用于设置数据保留的时间，每个数据库刚开始会自动创建一个默认的存储策略 autogen，数据保留时间为永久，之后用户可以自己设置，例如保留最近2小时的数据。插入和查询数据时如果不指定存储策略，则使用默认存储策略，且默认存储策略可以修改。InfluxDB 会定期清除过期的数据。</li>
<li>measurement: 测量指标名，例如 cpu_usage 表示 cpu 的使用率。</li>
<li>tag sets: tags 在 InfluxDB 中会按照字典序排序，不管是 tagk 还是 tagv，只要不一致就分别属于两个 key，例如 host=server01,region=us-west 和 host=server02,region=us-west 就是两个不同的 tag set。</li>
<li>tag–标签，在InfluxDB中，tag是一个非常重要的部分，表名+tag一起作为数据库的索引，是“key-value”的形式。</li>
<li>field name: 例如上面数据中的 value 就是 fieldName，InfluxDB 中支持一条数据中插入多个 fieldName，这其实是一个语法上的优化，在实际的底层存储中，是当作多条数据来存储。</li>
<li>timestamp: 每一条数据都需要指定一个时间戳，在 TSM 存储引擎中会特殊对待，以为了优化后续的查询操作。</li>
</ul>
<p>2、与传统数据库中的名词做比较</p>
<table>
<thead>
<tr>
<th>influxDB中的名词</th>
<th>传统数据库中的概念</th>
</tr>
</thead>
<tbody><tr>
<td>database</td>
<td>数据库</td>
</tr>
<tr>
<td>measurement</td>
<td>数据库中的表</td>
</tr>
<tr>
<td>points</td>
<td>表里面的一行数据</td>
</tr>
</tbody></table>
<p>3、Point</p>
<p>Point由时间戳（time）、数据（field）、标签（tags）组成。</p>
<p>Point相当于传统数据库里的一行数据，如下表所示：</p>
<table>
<thead>
<tr>
<th>Point属性</th>
<th>传统数据库中的概念</th>
</tr>
</thead>
<tbody><tr>
<td>time</td>
<td>每个数据记录时间，是数据库中的主索引(会自动生成)</td>
</tr>
<tr>
<td>fields</td>
<td>各种记录值（没有索引的属性）</td>
</tr>
<tr>
<td>tags</td>
<td>各种有索引的属性</td>
</tr>
</tbody></table>
<p>4、Series</p>
<p>​    Series 相当于是 InfluxDB 中一些数据的集合，在同一个 database 中，retention policy、measurement、tag sets 完全相同的数据同属于一个 series，同一个 series 的数据在物理上会按照时间顺序排列存储在一起。</p>
<p>5、Shard</p>
<p>​    Shard 在 InfluxDB 中是一个比较重要的概念，它和 retention policy 相关联。每一个存储策略下会存在许多 shard，每一个 shard 存储一个指定时间段内的数据，并且不重复，例如 7点-8点 的数据落入 shard0 中，8点-9点的数据则落入 shard1 中。每一个 shard 都对应一个底层的 tsm 存储引擎，有独立的 cache、wal、tsm file。</p>
<p>6、组件</p>
<p>TSM 存储引擎主要由几个部分组成： cache、wal、tsm file、compactor。</p>
<p><img src="https://images2015.cnblogs.com/blog/830561/201705/830561-20170524092614591-2097512916.png" alt="img"></p>
<p>1）Cache：cache 相当于是 LSM Tree 中的 memtabl。插入数据时，实际上是同时往 cache 与 wal 中写入数据，可以认为 cache 是 wal 文件中的数据在内存中的缓存。当 InfluxDB 启动时，会遍历所有的 wal 文件，重新构造 cache，这样即使系统出现故障，也不会导致数据的丢失。</p>
<p>cache 中的数据并不是无限增长的，有一个 maxSize 参数用于控制当 cache 中的数据占用多少内存后就会将数据写入 tsm 文件。如果不配置的话，默认上限为 25MB，每当 cache 中的数据达到阀值后，会将当前的 cache 进行一次快照，之后清空当前 cache 中的内容，再创建一个新的 wal 文件用于写入，剩下的 wal 文件最后会被删除，快照中的数据会经过排序写入一个新的 tsm 文件中。</p>
<p>2）WAL：wal 文件的内容与内存中的 cache 相同，其作用就是为了持久化数据，当系统崩溃后可以通过 wal 文件恢复还没有写入到 tsm 文件中的数据。</p>
<p>3）TSM File：单个 tsm file 大小最大为 2GB，用于存放数据。</p>
<p>4）Compactor：compactor 组件在后台持续运行，每隔 1 秒会检查一次是否有需要压缩合并的数据。</p>
<p>主要进行两种操作，一种是 cache 中的数据大小达到阀值后，进行快照，之后转存到一个新的 tsm 文件中。</p>
<p>另外一种就是合并当前的 tsm 文件，将多个小的 tsm 文件合并成一个，使每一个文件尽量达到单个文件的最大大小，减少文件的数量，并且一些数据的删除操作也是在这个时候完成。</p>
<p>7、目录与文件结构</p>
<p>InfluxDB 的数据存储主要有三个目录。默认情况下是 meta, wal 以及 data 三个目录。</p>
<p>meta 用于存储数据库的一些元数据，meta 目录下有一个 <code>meta.db</code> 文件。</p>
<p><img src="https://images2015.cnblogs.com/blog/830561/201705/830561-20170524093235825-1659794905.png" alt="img"></p>
<p>wal 目录存放预写日志文件，以 <code>.wal</code> 结尾。</p>
<p><img src="https://images2015.cnblogs.com/blog/830561/201705/830561-20170524093306075-667589526.png" alt="img"></p>
<p>data 目录存放实际存储的数据文件，以 <code>.tsm</code> 结尾。</p>
<p><img src="https://images2015.cnblogs.com/blog/830561/201705/830561-20170524093334310-39898491.png" alt="img"></p>
<p>上面几张图中，_internal为数据库名，monitor为存储策略名称，再下一层目录中的以数字命名的目录是 shard 的 ID 值。</p>
<p>存储策略下有两个 shard，ID 分别为 1 和 2，shard 存储了某一个时间段范围内的数据。再下一级的目录则为具体的文件，分别是 <code>.wal</code> 和 <code>.tsm</code> 结尾的文件。</p>
<h2 id="InfluxDB基本操作"><a href="#InfluxDB基本操作" class="headerlink" title="InfluxDB基本操作"></a>InfluxDB基本操作</h2><p>InfluxDB提供多种操作方式：</p>
<p>1）客户端命令行方式</p>
<p>2）HTTP API接口</p>
<p>3）各语言API库</p>
<p>4）基于WEB管理页面操作</p>
<h2 id="客户端命令行方式操作"><a href="#客户端命令行方式操作" class="headerlink" title="客户端命令行方式操作"></a>客户端命令行方式操作</h2><p>进入命令行</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">influx -precision rfc3339</span><br></pre></td></tr></table></figure>



<p><img src="https://images2015.cnblogs.com/blog/830561/201705/830561-20170524094159044-437051621.png" alt="img"></p>
<p>1、InfluxDB数据库操作</p>
<ul>
<li>显示数据库</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">show databases</span><br></pre></td></tr></table></figure>

<p><img src="https://images2015.cnblogs.com/blog/830561/201705/830561-20170524094353341-524545793.png" alt="img"></p>
<ul>
<li>新建数据库</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">create database shhnwangjian</span><br></pre></td></tr></table></figure>



<p><img src="https://images2015.cnblogs.com/blog/830561/201705/830561-20170524094458435-2086705134.png" alt="img"></p>
<ul>
<li>删除数据库</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">drop database shhnwangjian</span><br></pre></td></tr></table></figure>



<p><img src="https://images2015.cnblogs.com/blog/830561/201705/830561-20170524094543872-2074134150.png" alt="img"></p>
<ul>
<li>使用指定数据库</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">use shhnwangjian</span><br></pre></td></tr></table></figure>



<p><img src="https://images2015.cnblogs.com/blog/830561/201705/830561-20170524094640560-11200090.png" alt="img"></p>
<p>2、InfluxDB数据表操作</p>
<p>在InfluxDB当中，并没有表（table）这个概念，取而代之的是MEASUREMENTS，MEASUREMENTS的功能与传统数据库中的表一致，因此我们也可以将MEASUREMENTS称为InfluxDB中的表。</p>
<ul>
<li>显示所有表</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SHOW MEASUREMENTS</span><br></pre></td></tr></table></figure>



<ul>
<li>新建表</li>
</ul>
<p>InfluxDB中没有显式的新建表的语句，只能通过insert数据的方式来建立新表。</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">insert disk_free,hostname&#x3D;server01 value&#x3D;442221834240i</span><br></pre></td></tr></table></figure>



<p>其中 disk_free 就是表名，hostname是索引（tag），value=xx是记录值（field），记录值可以有多个，系统自带追加时间戳</p>
<p><img src="https://images2015.cnblogs.com/blog/830561/201705/830561-20170524100913700-845650904.png" alt="img"></p>
<p>或者添加数据时，自己写入时间戳</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">insert disk_free,hostname&#x3D;server01 value&#x3D;442221834240i 1435362189575692182</span><br></pre></td></tr></table></figure>



<p><img src="https://images2015.cnblogs.com/blog/830561/201705/830561-20170524101014904-2003353778.png" alt="img"></p>
<ul>
<li>删除表</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">drop measurement disk_free</span><br></pre></td></tr></table></figure>



<p>3、数据保存策略（Retention Policies）</p>
<p>influxDB是没有提供直接删除数据记录的方法，但是提供数据保存策略，主要用于指定数据保留时间，超过指定时间，就删除这部分数据。</p>
<ul>
<li>查看当前数据库Retention Policies</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">show retention policies on &quot;db_name&quot;</span><br></pre></td></tr></table></figure>



<p><img src="https://images2017.cnblogs.com/blog/830561/201708/830561-20170807085757987-166994246.png" alt="img"></p>
<ul>
<li>创建新的Retention Policies</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">create retention policy &quot;rp_name&quot; on &quot;db_name&quot; duration 3w replication 1 default</span><br></pre></td></tr></table></figure>



<p>rp_name：策略名；</p>
<p>db_name：具体的数据库名；</p>
<p>3w：保存3周，3周之前的数据将被删除，influxdb具有各种事件参数，比如：h（小时），d（天），w（星期）；</p>
<p>replication 1：副本个数，一般为1就可以了；</p>
<p>default：设置为默认策略</p>
<ul>
<li>修改Retention Policies</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">alter retention policy &quot;rp_name&quot; on &quot;db_name&quot; duration 30d default</span><br></pre></td></tr></table></figure>



<ul>
<li>删除Retention Policies</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">drop retention policy &quot;rp_name&quot; on &quot;db_name&quot;</span><br></pre></td></tr></table></figure>





<p>4、连续查询（Continuous Queries）</p>
<p>InfluxDB的连续查询是在数据库中自动定时启动的一组语句，语句中必须包含 <code>SELECT</code>关键词和<code>GROUP BY time()</code>关键词。</p>
<p>InfluxDB会将查询结果放在指定的数据表中。</p>
<p><strong>目的：</strong>使用连续查询是最优的降低采样率的方式，连续查询和存储策略搭配使用将会大大降低InfluxDB的系统占用量。而且使用连续查询后，数据会存放到指定的数据表中，这样就为以后统计不同精度的数据提供了方便。</p>
<ul>
<li>新建连续查询</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE CONTINUOUS QUERY &lt;cq_name&gt; ON &lt;database_name&gt;</span><br><span class="line">[RESAMPLE [EVERY &lt;interval&gt;] [FOR &lt;interval&gt;]]</span><br><span class="line">BEGIN SELECT &lt;function&gt;(&lt;stuff&gt;)[,&lt;function&gt;(&lt;stuff&gt;)] INTO &lt;different_measurement&gt; </span><br><span class="line">FROM &lt;current_measurement&gt; [WHERE &lt;stuff&gt;] GROUP BY time(&lt;interval&gt;)[,&lt;stuff&gt;]</span><br><span class="line">END</span><br></pre></td></tr></table></figure>



<p> 样例：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE CONTINUOUS QUERY wj_30m ON shhnwangjian BEGIN SELECT mean(connected_clients), MEDIAN(connected_clients), MAX(connected_clients), MIN(connected_clients) INTO redis_clients_30m FROM redis_clients GROUP BY ip,port,time(30m) END</span><br></pre></td></tr></table></figure>



<p>在shhnwangjian库中新建了一个名为 wj_30m 的连续查询，每三十分钟取一个connected_clients字段的平均值、中位值、最大值、最小值 redis_clients_30m 表中。使用的数据保留策略都是 default。</p>
<p>不同database样例：</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">CREATE CONTINUOUS QUERY wj_30m ON shhnwangjian_30 BEGIN SELECT mean(connected_clients), MEDIAN(connected_clients), MAX(connected_clients), MIN(connected_clients) INTO shhnwangjian_30.autogen.redis_clients_30m FROM shhnwangjian.autogen.redis_clients GROUP BY ip,port,time(30m) END</span><br></pre></td></tr></table></figure>





<ul>
<li>显示所有已存在的连续查询</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">SHOW CONTINUOUS QUERIES</span><br></pre></td></tr></table></figure>



<p><img src="https://images2017.cnblogs.com/blog/830561/201708/830561-20170807103904377-207403322.png" alt="img"></p>
<ul>
<li>删除Continuous Queries</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">DROP CONTINUOUS QUERY &lt;cq_name&gt; ON &lt;database_name&gt;</span><br></pre></td></tr></table></figure>



<ul>
<li>用户管理</li>
</ul>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 显示用户</span><br><span class="line">SHOW USERS</span><br><span class="line"># 创建用户</span><br><span class="line">CREATE USER &quot;username&quot; WITH PASSWORD &#39;password&#39;</span><br><span class="line"># 创建管理员权限的用户</span><br><span class="line">CREATE USER &quot;username&quot; WITH PASSWORD &#39;password&#39; WITH ALL PRIVILEGES</span><br><span class="line"># 删除用户</span><br><span class="line">DROP USER &quot;username&quot;</span><br></pre></td></tr></table></figure>



<h2 id="备份与恢复"><a href="#备份与恢复" class="headerlink" title="备份与恢复"></a>备份与恢复</h2><p>备份元数据</p>
<p>influxd backup 元数据存储位置<br>influxd backup -host localhost:8088 元数据存储位置   # 远程备份</p>
<p>备份数据库</p>
<p>influxd backup -database database_name  数据存储位置<br>influxd backup -database database_name -host localhost:8088 数据存储位置   # 远程备份</p>
<p>恢复元数据</p>
<p>influxd restore -metadir /var/lib/influxdb/meta/ 元数据存储位置</p>
<p>恢复数据库</p>
<p>influxd restore -database database_name -datadir /var/lib/influxdb/data 数据存储位置</p>
<p>修改权限</p>
<p>chown -R influxdb:influxdb /var/lib/influxdb</p>
<p>重启influxdb</p>
<p>service influxdb stop<br>service influxdb start</p>
]]></content>
      <categories>
        <category>时序数据库</category>
      </categories>
      <tags>
        <tag>InfluxDB</tag>
      </tags>
  </entry>
</search>
